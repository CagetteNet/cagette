"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=e(t),r=require("@material-ui/core"),i=require("@material-ui/core/locale"),a=e(require("@material-ui/lab/Autocomplete")),o=e(require("@material-ui/core/SvgIcon")),s=e(require("react-dom")),u=require("@material-ui/pickers"),l=require("@material-ui/lab"),c=e(require("i18next")),d=require("formik"),p=require("formik-material-ui"),h=e(require("@material-ui/core/MenuItem")),m=require("@material-ui/core/styles"),v=e(require("@material-ui/core/Popover")),g=e(require("@material-ui/core/Button")),y=require("react-leaflet"),b=e(require("@material-ui/core/TextField")),E=e(require("@material-ui/core/Table")),w=e(require("@material-ui/core/TableContainer")),x=e(require("@material-ui/core/Link")),O=e(require("@material-ui/core/Toolbar")),A=e(require("@material-ui/core/Typography")),C=e(require("@material-ui/core/IconButton")),S=e(require("@material-ui/core/Tooltip")),N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function I(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function k(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}function F(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function B(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P="#a53fa1",L="#84BD55",j="#F8F4E5",U=r.createMuiTheme({palette:{primary:{main:P},secondary:{main:L,contrastText:"#fff"},background:{default:j},text:{primary:"#777"}},typography:{fontFamily:"Cabin",button:{textTransform:"none"},h2:{fontSize:"2.5rem",fontStyle:"normal"},h3:{fontSize:"2rem",fontStyle:"normal"}}},i.frFR),q=function(e){return function(t){return n.createElement(r.ThemeProvider,{theme:U},n.createElement(r.CssBaseline,null),n.createElement(e,T({},t)))}},z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function V(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H(e,t){return e(t={exports:{}},t.exports),t.exports}var $=H((function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}}));V($);var W=H((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),Q=H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=i.default.memo(i.default.forwardRef((function(t,n){return i.default.createElement(a.default,(0,r.default)({ref:n},t),e)})));"production"!==process.env.NODE_ENV&&(n.displayName="".concat(t,"Icon"));return n.muiName=a.default.muiName,n};var r=$(W),i=$(n),a=$(o)}));V(Q);var G=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.default=i})));var Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},K="object"==typeof z&&z&&z.Object===Object&&z,Z="object"==typeof self&&self&&self.Object===Object&&self,J=K||Z||Function("return this")(),X=function(){return J.Date.now()},ee=J.Symbol,te=Object.prototype,ne=te.hasOwnProperty,re=te.toString,ie=ee?ee.toStringTag:void 0;var ae=function(e){var t=ne.call(e,ie),n=e[ie];try{e[ie]=void 0;var r=!0}catch(e){}var i=re.call(e);return r&&(t?e[ie]=n:delete e[ie]),i},oe=Object.prototype.toString;var se=function(e){return oe.call(e)},ue=ee?ee.toStringTag:void 0;var le=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?ae(e):se(e)};var ce=function(e){return null!=e&&"object"==typeof e};var de=function(e){return"symbol"==typeof e||ce(e)&&"[object Symbol]"==le(e)},fe=/^\s+|\s+$/g,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,me=/^0o[0-7]+$/i,ve=parseInt;var ge=function(e){if("number"==typeof e)return e;if(de(e))return NaN;if(Y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(fe,"");var n=he.test(e);return n||me.test(e)?ve(e.slice(2),n?2:8):pe.test(e)?NaN:+e},ye=Math.max,be=Math.min;var Ee=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function h(e){return l=e,s=setTimeout(v,t),c?p(e):o}function m(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function v(){var e=X();if(m(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-u);return d?be(n,a-(e-l)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){var e=X(),n=m(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(d)return clearTimeout(s),s=setTimeout(v,t),p(u)}return void 0===s&&(s=setTimeout(v,t)),o}return t=ge(t)||0,Y(n)&&(c=!!n.leading,a=(d="maxWait"in n)?ye(ge(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(X())},y};var we=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Y(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ee(e,t,{leading:r,maxWait:t,trailing:i})},xe=H((function(e){
// @license MIT
!function(t,n){e.exports?e.exports=n():this.Diacritics=n()}(0,(function(){for(var e={map:{}},t=[{base:" ",letters:" "},{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",letters:"Þ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"ff",letters:"ﬀ"},{base:"fi",letters:"ﬁ"},{base:"fl",letters:"ﬂ"},{base:"ffi",letters:"ﬃ"},{base:"ffl",letters:"ﬄ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nñnⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"߀oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oe",letters:"Œœ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"ss",letters:"ß"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",letters:"þ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n=0,r=t.length;n<r;n++)for(var i=t[n].letters.split(""),a=0,o=i.length;a<o;a++)e.map[i[a]]=t[n].base;return e.clean=function(t){if(!t||!t.length||t.length<1)return"";for(var n,r="",i=t.split(""),a=0,o=i.length;a<o;a++)r+=(n=i[a])in e.map?e.map[n]:n;return r},e}))})).clean,Oe=/[.*+?^${}()|[\]\\]/g,Ae=/[a-z0-9_]/i,Ce=/\s+/;var Se=function(e,t){return e=xe(e),(t=xe(t)).trim().split(Ce).filter((function(e){return e.length>0})).reduce((function(t,n){var r=n.length,i=Ae.test(n[0])?"\\b":"",a=new RegExp(i+n.replace(Oe,"\\$&"),"i"),o=e.search(a);return o>-1&&(t.push([o,o+r]),e=e.slice(0,o)+new Array(r+1).join(" ")+e.slice(o+r)),t}),[]).sort((function(e,t){return e[0]-t[0]}))},Ne=function(e){return e.place_name},Ie=r.makeStyles((function(e){return{optionIcon:{marginRight:e.spacing(2),color:e.palette.text.secondary},textfield:function(){return{}}}})),Te=function(e){var t=e.initialValue,i=e.label,o=e.noOptionsText,s=e.mapboxToken,u=e.onChange,l=R(n.useState([]),2),c=l[0],d=l[1],f=R(n.useState(t||""),2),p=f[0],h=f[1],m=R(n.useState(t&&""!==t),2),v=m[0],g=m[1],y=Ie(),b=n.useMemo((function(){return we((function(e,t){var n=new Map;n.set("autocomplete",!0),fetch(function(e,t,n,r){var i="https://api.mapbox.com/geocoding/v5/"+e+"/"+t+".json?access_token="+(r||process.env.MAPBOX_KEY)+"&language=fr&proximity=2.213749%2C46.227638";return n&&(i+="&",i+=Object.keys(n).map((function(e){return e+"="+n.get(e)})).join("&")),i}("mapbox.places",e,n,s)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then(t)}),200)}),[]),E=function(e){h(e.target.value)};n.useEffect((function(){var e=!0;if(""!==p)return b(p,(function(n){e&&n.features&&(d(n.features),v&&p===t&&n.features.length>0&&(g(!1),u(n.features[0])))})),function(){e=!1};d([])}),[p,b]);return n.createElement(a,{options:c,inputValue:p,getOptionLabel:Ne,renderOption:function(e){var t=e.place_name,i=function(e,t){var n=[];return 0===t.length?n.push({text:e,highlight:!1}):t[0][0]>0&&n.push({text:e.slice(0,t[0][0]),highlight:!1}),t.forEach((function(r,i){var a=r[0],o=r[1];n.push({text:e.slice(a,o),highlight:!0}),i===t.length-1?o<e.length&&n.push({text:e.slice(o,e.length),highlight:!1}):o<t[i+1][0]&&n.push({text:e.slice(o,t[i+1][0]),highlight:!1})})),n}(t,Se(t,p));return n.createElement(r.Grid,{container:!0},n.createElement(r.Grid,{item:!0},n.createElement(G,{className:y.optionIcon})),n.createElement(r.Grid,{item:!0,xs:!0},n.createElement(r.Typography,null),i.map((function(e,t){return n.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)}))))},renderInput:function(e){return n.createElement(r.TextField,T({className:y.textfield},e,{label:i,variant:"outlined",onChange:E}))},noOptionsText:o,onChange:function(e,t){t&&h(Ne(t)),u(t)}})},_e=H((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),ke=Object.setPrototypeOf,De=void 0===ke?function(e,t){return e.__proto__=t,e}:ke,Re=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",De(r,t.prototype),r}return I(t,e),t}(Error);function Me(e,t){if(!e)throw new Re(t)}function Fe(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=Fe("warn"),e.error=Fe("error")}(Me||(Me={}));var Be={env:{}};if("object"==typeof process)Be=process;else try{Function("stub","process = stub")(Be)}catch(e){}var Pe="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e){return Ue(e,[])}function Ue(e,t){switch(Le(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Pe)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Ue(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],a=0;a<n;++a)i.push(Ue(e[a],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+Ue(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var qe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ze=Object.freeze({});function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe,r=void 0,i=Array.isArray(e),a=[e],o=-1,s=[],u=void 0,l=void 0,c=void 0,d=[],f=[],p=e;do{var h=++o===a.length,m=h&&0!==s.length;if(h){if(l=0===f.length?void 0:d[d.length-1],u=c,c=f.pop(),m){if(i)u=u.slice();else{for(var v={},g=0,y=Object.keys(u);g<y.length;g++){var b=y[g];v[b]=u[b]}u=v}for(var E=0,w=0;w<s.length;w++){var x=s[w][0],O=s[w][1];i&&(x-=E),i&&null===O?(u.splice(x,1),E++):u[x]=O}}o=r.index,a=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(l=c?i?o:a[o]:void 0,null==(u=c?c[l]:p))continue;c&&d.push(l)}var A=void 0;if(!Array.isArray(u)){if(!He(u))throw new Error("Invalid AST Node: "+je(u));var C=$e(t,u.kind,h);if(C){if((A=C.call(t,u,l,c,d,f))===ze)break;if(!1===A){if(!h){d.pop();continue}}else if(void 0!==A&&(s.push([l,A]),!h)){if(!He(A)){d.pop();continue}u=A}}}void 0===A&&m&&s.push([l,u]),h?d.pop():(r={inArray:i,index:o,keys:a,edits:s,prev:r},a=(i=Array.isArray(u))?u:n[u.kind]||[],o=-1,s=[],c&&f.push(c),c=u)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}function He(e){return Boolean(e&&"string"==typeof e.kind)}function $e(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[t];if("function"==typeof o)return o}}}function We(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;"production"===process.env.NODE_ENV?Me(n&&1===n.length,38):Me(n&&1===n.length,"Incorrect number of arguments for the @"+r+" directive.");var i=n[0];"production"===process.env.NODE_ENV?Me(i.name&&"if"===i.name.value,39):Me(i.name&&"if"===i.name.value,"Invalid argument for the @"+r+" directive.");var a=i.value;"production"===process.env.NODE_ENV?Me(a&&("Variable"===a.kind||"BooleanValue"===a.kind),40):Me(a&&("Variable"===a.kind||"BooleanValue"===a.kind),"Argument for the @"+r+" directive must be a variable or a boolean value."),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],"production"===process.env.NODE_ENV?Me(void 0!==i,37):Me(void 0!==i,"Invalid variable referenced in @"+n.name.value+" directive.")):i=r.value.value,"skip"===n.name.value?!i:i}))}function Qe(e,t){return function(e){var t=[];return Ve(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Ge(e){return e&&Qe(["client"],e)&&Qe(["export"],e)}function Ye(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw"production"===process.env.NODE_ENV?new Re(41):new Re("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&("production"===process.env.NODE_ENV?Me(1===r.length,42):Me(1===r.length,"Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=r[0].name.value),T(T({},e),{definitions:F([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function Ke(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Ze(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return"production"===process.env.NODE_ENV?Me(n,43):Me(n,"No fragment named "+e.name.value+"."),n;default:return null}}function Je(e){return{__ref:String(e)}}function Xe(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function et(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return et(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return et(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw"production"===process.env.NODE_ENV?new Re(52):new Re('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var tt=["connection","include","skip","client","rest","export"];function nt(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var a=e;if(t){var o=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var a,o;if(Array.isArray(t)){for(o="[",a=0;a<t.length;a++)a&&(o+=","),o+=e(t[a])||"null";return o+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,u=Object.keys(t).sort(r&&r(t));for(o="",a=0;a<u.length;a++){var l=u[a],c=e(t[l]);c&&(o&&(o+=","),o+=JSON.stringify(l)+":"+c)}return i.splice(s,1),"{"+o+"}"}}(e)}(t);a+="("+o+")"}return n&&Object.keys(n).forEach((function(e){-1===tt.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function rt(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return et(n,r,i,t)})),n}return null}function it(e){return e.alias?e.alias.value:e.name.value}function at(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var a=i[r];if(ot(a)){if("__typename"===a.name.value)return e[it(a)]}else{var o=at(e,Ze(a,n).selectionSet,n);if("string"==typeof o)return o}}}function ot(e){return"Field"===e.kind}function st(e){return"InlineFragment"===e.kind}function ut(e){"production"===process.env.NODE_ENV?Me(e&&"Document"===e.kind,44):Me(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw"production"===process.env.NODE_ENV?new Re(45):new Re('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e}));return"production"===process.env.NODE_ENV?Me(t.length<=1,46):Me(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function lt(e){return ut(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function ct(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function dt(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function ft(e){var t;ut(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var a=i.operation;if("query"===a||"mutation"===a||"subscription"===a)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw"production"===process.env.NODE_ENV?new Re(51):new Re("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function pt(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&et(t,e.variable.name,e.defaultValue)})),t}function ht(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var mt={kind:"Field",name:{kind:"Name",value:"__typename"}};function vt(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(lt(e)||function(e){"production"===process.env.NODE_ENV?Me("Document"===e.kind,48):Me("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),"production"===process.env.NODE_ENV?Me(e.definitions.length<=1,49):Me(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return"production"===process.env.NODE_ENV?Me("FragmentDefinition"===t.kind,50):Me("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),Ke(dt(e)))?null:e}function gt(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function yt(e,t){var n=Object.create(null),r=[],i=Object.create(null),a=[],o=vt(Ve(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(gt(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];return t.selections.forEach((function(t){(ot(t)||st(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)})),n}(t.selectionSet).forEach((function(e){a.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(gt(e)(t))return null}}}));return o&&ht(r,(function(e){return!!e.name&&!n[e.name]})).length&&(o=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return vt(Ve(t,{OperationDefinition:{enter:function(t){return T(T({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,o)),o&&ht(a,(function(e){return!!e.name&&!i[e.name]})).length&&(o=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return vt(Ve(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(a,o)),o}function bt(e){return Ve(ut(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return ot(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(ot(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return T(T({},e),{selections:F(r,[mt])})}}}}})}bt.added=function(e){return e===mt};var Et={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||"production"===process.env.NODE_ENV||Me.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function wt(e){return"query"===ft(e).operation?e:Ve(e,{OperationDefinition:{enter:function(e){return T(T({},e),{operation:"query"})}}})}var xt=H((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var a=function(){return"function"==typeof Symbol},o=function(e){return a()&&Boolean(Symbol[e])},s=function(e){return o(e)?Symbol[e]:"@@"+e};a()&&!o("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),l=s("observable"),c=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(e){var t=e.constructor;return void 0!==t&&null===(t=t[c])&&(t=void 0),void 0!==t?t:x}function p(e){return e instanceof x}function h(e){h.log?h.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(e){h(e)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var i=d(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){h(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void y(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),x=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,a)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function a(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this),r=arguments.length>1,i=!1,a=arguments[1],o=a;return new n((function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=f(this);return new i((function(t){var r,a=0;return function e(o){r=o.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){a===n.length?(r=void 0,t.complete()):e(i.from(n[a++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this);return new n((function(r){var i=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var a=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(a);e>=0&&i.splice(e,1),o()}});i.push(a)},error:function(e){r.error(e)},complete:function(){o()}});function o(){a.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),a.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(o("iterator")&&(r=d(t,u)))return new n((function(e){m((function(){if(!e.closed){var n=!0,i=!1,a=void 0;try{for(var o,s=r.call(t)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(e.next(u),e.closed)return}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:c,get:function(){return this}}]),e}();t.Observable=x,a()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:l,hostReportError:h},configurable:!0})}));V(xt);xt.Observable;var Ot=xt.Observable;!function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());Ot.prototype["@@observable"]=function(){return this};var At=Object.prototype.hasOwnProperty;function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return St(e)}function St(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Tt,i=1;i<n;++i)t=r.merge(t,e[i]);return t}function Nt(e){return null!==e&&"object"==typeof e}var It=function(e,t,n){return this.merge(e[n],t[n])},Tt=function(){function e(e){void 0===e&&(e=It),this.reconciler=e,this.isObject=Nt,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return Nt(t)&&Nt(e)?(Object.keys(t).forEach((function(i){if(At.call(e,i)){var a=e[i];if(t[i]!==a){var o=n.reconciler.apply(n,F([e,t,i],r));o!==a&&((e=n.shallowCopyForMerge(e))[i]=o)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Nt(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):T({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}(),_t=Object.prototype.toString;function kt(e){return function e(t,n){switch(_t.call(t)){case"[object Array]":if((n=n||new Map).has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,i){r[i]=e(t,n)})),r;case"[object Object]":if((n=n||new Map).has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach((function(r){i[r]=e(t[r],n)})),i;default:return t}}(e)}function Dt(e){return("undefined"!=typeof process&&process.env.NODE_ENV?process.env.NODE_ENV:"development")===e}function Rt(e){return null!==e&&"object"==typeof e}function Mt(e){var t,n;return"production"===process.env.NODE_ENV||!0!==Dt("development")&&!0!==Dt("test")||(t=e,(n=new Set([t])).forEach((function(e){Rt(e)&&(Object.isFrozen(e)||Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){Rt(e[t])&&n.add(e[t])})))}))),e}function Ft(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function Bt(e,t,n){return new Ot((function(r){var i=r.next,a=r.error,o=r.complete,s=0,u=!1;function l(e,t){return e?function(t){++s,new Promise((function(n){return n(e(t))})).then((function(e){--s,i&&i.call(r,e),u&&c.complete()}),(function(e){--s,a&&a.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var c={next:l(t,i),error:l(n,a),complete:function(){u=!0,s||o&&o.call(r)}},d=e.subscribe(c);return function(){return d.unsubscribe()}}))}function Pt(e){return e&&"function"==typeof e.then}var Lt=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],Ft(n.observers,"next",e))},error:function(e){null!==n.sub&&(n.sub&&n.sub.unsubscribe(),n.sub=null,n.latest=["error",e],n.reject(e),Ft(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?Pt(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),Ft(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),Pt(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return I(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.addObserver=function(e){if(!this.observers.has(e)){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}this.observers.add(e)}},t.prototype.removeObserver=function(e,t){if(this.observers.delete(e)&&this.observers.size<1){if(t)return;this.sub&&(this.sub.unsubscribe(),this.reject(new Error("Observable cancelled prematurely"))),this.sub=null}},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r};this.addObserver(i)},t}(Ot);function jt(e){return Array.isArray(e)&&e.length>0}function Ut(e){return e.errors&&e.errors.length>0||!1}"function"==typeof Symbol&&Symbol.species&&Object.defineProperty(Lt,Symbol.species,{value:Ot});var qt="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function zt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}function Vt(e){return new Ot((function(t){t.error(e)}))}var Ht=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r};function $t(e,t){return t?t(e):Ot.of()}function Wt(e){return"function"==typeof e?new Yt(e):e}function Qt(e){return e.request.length<=1}var Gt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return I(t,e),t}(Error),Yt=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Ot.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Wt).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Wt(n),a=Wt(r||new e($t));return Qt(i)&&Qt(a)?new e((function(e){return t(e)?i.request(e)||Ot.of():a.request(e)||Ot.of()})):new e((function(e,n){return t(e)?i.request(e,n)||Ot.of():a.request(e,n)||Ot.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=T({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=T(T({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return T({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?ct(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw"production"===process.env.NODE_ENV?new Re(25):new Re("illegal argument: "+i)}return e}(t))))||Ot.of()},e.concat=function(t,n){var r=Wt(t);if(Qt(r))return"production"===process.env.NODE_ENV||Me.warn(new Gt("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Wt(n);return Qt(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||Ot.of()}))||Ot.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||Ot.of()}))||Ot.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e($t)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw"production"===process.env.NODE_ENV?new Re(22):new Re("request is not implemented")},e.prototype.onError=function(e){throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),Kt=Yt.empty,Zt=Yt.from,Jt=Yt.split,Xt=Yt.concat,en=Yt.execute,tn=Object.prototype.hasOwnProperty;function nn(e){return function(t){return t.text().then((function(e){try{return JSON.parse(e)}catch(r){var n=r;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}})).then((function(n){return t.status>=300&&Ht(t,n,"Response not successful: Received status code "+t.status),Array.isArray(n)||tn.call(n,"data")||tn.call(n,"errors")||Ht(t,n,"Server response was missing for query '"+(Array.isArray(e)?e.map((function(e){return e.operationName})):e.operationName)+"'."),n}))}}var rn=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r="production"===process.env.NODE_ENV?new Re(24):new Re("Network request failed. "+t+" is not serializable: "+e.message);throw r.parseError=e,r}return n};function an(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],i=on(r);if(i!==r.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&sn(t[0]);)t.shift();for(;t.length>0&&sn(t[t.length-1]);)t.pop();return t.join("\n")}function on(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function sn(e){return on(e)===e.length}function un(e){return Ve(e,{leave:ln})}var ln={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return dn(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=pn("(",dn(e.variableDefinitions,", "),")"),i=dn(e.directives," "),a=e.selectionSet;return n||i||r||"query"!==t?dn([t,dn([n,r]),i,a]," "):a},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+pn(" = ",r)+pn(" ",dn(i," "))},SelectionSet:function(e){return fn(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet;return dn([pn("",t,": ")+n+pn("(",dn(r,", "),")"),dn(i," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+pn(" ",dn(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return dn(["...",pn("on ",t),dn(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(pn("(",dn(r,", "),")")," ")+"on ".concat(n," ").concat(pn("",dn(i," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],a='"'===e[e.length-1],o=!r||a||n,s="";return!o||r&&i||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,o&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+dn(e.values,", ")+"]"},ObjectValue:function(e){return"{"+dn(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+pn("(",dn(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return dn(["schema",dn(t," "),fn(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:cn((function(e){return dn(["scalar",e.name,dn(e.directives," ")]," ")})),ObjectTypeDefinition:cn((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dn(["type",t,pn("implements ",dn(n," & ")),dn(r," "),fn(i)]," ")})),FieldDefinition:cn((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(vn(n)?pn("(\n",hn(dn(n,"\n")),"\n)"):pn("(",dn(n,", "),")"))+": "+r+pn(" ",dn(i," "))})),InputValueDefinition:cn((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return dn([t+": "+n,pn("= ",r),dn(i," ")]," ")})),InterfaceTypeDefinition:cn((function(e){var t=e.name,n=e.directives,r=e.fields;return dn(["interface",t,dn(n," "),fn(r)]," ")})),UnionTypeDefinition:cn((function(e){var t=e.name,n=e.directives,r=e.types;return dn(["union",t,dn(n," "),r&&0!==r.length?"= "+dn(r," | "):""]," ")})),EnumTypeDefinition:cn((function(e){var t=e.name,n=e.directives,r=e.values;return dn(["enum",t,dn(n," "),fn(r)]," ")})),EnumValueDefinition:cn((function(e){return dn([e.name,dn(e.directives," ")]," ")})),InputObjectTypeDefinition:cn((function(e){var t=e.name,n=e.directives,r=e.fields;return dn(["input",t,dn(n," "),fn(r)]," ")})),DirectiveDefinition:cn((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(vn(n)?pn("(\n",hn(dn(n,"\n")),"\n)"):pn("(",dn(n,", "),")"))+(r?" repeatable":"")+" on "+dn(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return dn(["extend schema",dn(t," "),fn(n)]," ")},ScalarTypeExtension:function(e){return dn(["extend scalar",e.name,dn(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dn(["extend type",t,pn("implements ",dn(n," & ")),dn(r," "),fn(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return dn(["extend interface",t,dn(n," "),fn(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return dn(["extend union",t,dn(n," "),r&&0!==r.length?"= "+dn(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return dn(["extend enum",t,dn(n," "),fn(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return dn(["extend input",t,dn(n," "),fn(r)]," ")}};function cn(e){return function(t){return dn([t.description,e(t)],"\n")}}function dn(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function fn(e){return e&&0!==e.length?"{\n"+hn(dn(e,"\n"))+"\n}":""}function pn(e,t,n){return t?e+t+(n||""):""}function hn(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function mn(e){return-1!==e.indexOf("\n")}function vn(e){return e&&e.some(mn)}var gn={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},yn=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=T(T({},t.options),{headers:t.headers,credentials:t.credentials}),a=t.http||{};n.forEach((function(e){i=T(T(T({},i),e.options),{headers:T(T({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),a=T(T({},a),e.http)}));var o=e.operationName,s=e.extensions,u=e.variables,l=e.query,c={operationName:o,variables:u};return a.includeExtensions&&(c.extensions=s),a.includeQuery&&(c.query=un(l)),{options:i,body:c}},bn=function(e){if(!e&&"undefined"==typeof fetch)throw"production"===process.env.NODE_ENV?new Re(23):new Re("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    ")},En=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}},wn=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")};function xn(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=rn(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var a=void 0;try{a=rn(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",a)}var o="",s=e,u=e.indexOf("#");-1!==u&&(o=e.substr(u),s=e.substr(0,u));var l=-1===s.indexOf("?")?"?":"&";return{newURI:s+l+n.join("&")+o}}var On=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.includeExtensions,a=e.useGETForQueries,o=_(e,["uri","fetch","includeExtensions","useGETForQueries"]);bn(r),r||(r=fetch);var s={http:{includeExtensions:i},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new Yt((function(e){var t=wn(e,n),i=e.getContext(),o={};if(i.clientAwareness){var u=i.clientAwareness,l=u.name,c=u.version;l&&(o["apollographql-client-name"]=l),c&&(o["apollographql-client-version"]=c)}var d,f=T(T({},o),i.headers),p={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:f},h=yn(e,gn,s,p),m=h.options,v=h.body;if(!m.signal){var g=En(),y=g.controller,b=g.signal;(d=y)&&(m.signal=b)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var E=xn(t,v),w=E.newURI,x=E.parseError;if(x)return Vt(x);t=w}else try{m.body=rn(v,"Payload")}catch(x){return Vt(x)}return new Ot((function(n){return r(t,m).then((function(t){return e.setContext({response:t}),t})).then(nn(e)).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){d&&d.abort()}}))}))},An=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,On(t).request)||this;return n.options=t,n}return I(t,e),t}(Yt),Cn=Object.freeze({__proto__:null,parseAndCheckHttpResponse:nn,serializeFetchParameter:rn,fallbackHttpConfig:gn,selectHttpOptionsAndBody:yn,checkFetcher:bn,createSignalIfSupported:En,selectURI:wn,createHttpLink:On,HttpLink:An,rewriteURIForGET:xn}),Sn=Object.prototype,Nn=Sn.toString,In=Sn.hasOwnProperty,Tn=Function.prototype.toString,_n=new Map;function kn(e,t){try{return function e(t,n){if(t===n)return!0;var r=Nn.call(t),i=Nn.call(n);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(Rn(t,n))return!0;var a=Object.keys(t),o=Object.keys(n),s=a.length;if(s!==o.length)return!1;for(var u=0;u<s;++u)if(!In.call(n,a[u]))return!1;for(u=0;u<s;++u){var l=a[u];if(!e(t[l],n[l]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(Rn(t,n))return!0;for(var c=t.entries(),d="[object Map]"===r;;){var f=c.next();if(f.done)break;var p=f.value,h=p[0],m=p[1];if(!n.has(h))return!1;if(d&&!e(m,n.get(h)))return!1}return!0;case"[object Function]":var v=Tn.call(t);return v===Tn.call(n)&&(y=Dn,!((b=(g=v).length-y.length)>=0&&g.indexOf(y,b)===b))}var g,y,b;return!1}(e,t)}finally{_n.clear()}}var Dn="{ [native code] }";function Rn(e,t){var n=_n.get(e);if(n){if(n.has(t))return!0}else _n.set(e,n=new Set);return n.add(t),!1}function Mn(e){return e.hasOwnProperty("graphQLErrors")}var Fn,Bn=function(e){function t(n){var r,i,a=n.graphQLErrors,o=n.networkError,s=n.errorMessage,u=n.extraInfo,l=e.call(this,s)||this;return l.graphQLErrors=a||[],l.networkError=o||null,l.message=s||(i="",jt((r=l).graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";i+=t+"\n"})),r.networkError&&(i+=r.networkError.message+"\n"),i=i.replace(/\n$/,"")),l.extraInfo=u,l.__proto__=t.prototype,l}return I(t,e),t}(Error),Pn=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}();function Ln(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Fn||(Fn={}));var jn=function(){function e(e,t,n,r){this.observer=e,this.options=t,this.fetch=n,this.shouldFetch=r}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var n=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,zt(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,n=this.options.pollInterval;if(n){if((!t||t.interval!==n)&&("production"===process.env.NODE_ENV?Me(n,21):Me(n,"Attempted to start a polling query without a polling interval."),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only"},Fn.poll).then(i,i):i())},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),Un=!1,qn=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;a.observers=new Set,a.subscriptions=new Set,a.observer={next:function(e){(a.lastError||a.isDifferentFromLastResult(e))&&(a.updateLastResult(e),Ft(a.observers,"next",e))},error:function(e){a.updateLastResult(T(T({},a.lastResult),{errors:e.graphQLErrors,networkStatus:Fn.error,loading:!1})),Ft(a.observers,"error",a.lastError=e)}},a.isTornDown=!1,a.options=i,a.queryId=n.generateQueryId();var o=lt(i.query);return a.queryName=o&&o.name&&o.name.value,a.queryManager=n,a.queryInfo=r,a}return I(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(){var e=this.lastResult,t=this.lastError,n=this.queryInfo.networkStatus||Fn.ready,r=T(T({},t?{error:t}:e),{loading:Ln(n),networkStatus:n});if(this.isTornDown)return r;var i=this.options.fetchPolicy,a=void 0===i?"cache-first":i;if("no-cache"===a||"network-only"===a)r.partial=!1;else if(!r.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var o=this.queryInfo.getDiff();r.partial=!o.complete,r.data=o.complete||this.options.returnPartialData?o.result:void 0,!o.complete||r.networkStatus!==Fn.loading||"cache-first"!==a&&"cache-only"!==a||(r.networkStatus=Fn.ready,r.loading=!1)}return this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!kn(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;if("cache-only"===t)return Promise.reject("production"===process.env.NODE_ENV?new Re(12):new Re("cache-only fetchPolicy option should not be used together with query refetch."));var n={pollInterval:0};return"no-cache"!==t&&"cache-and-network"!==t&&(n.fetchPolicy="network-only",n.nextFetchPolicy=t),e&&!kn(this.options.variables,e)&&(n.variables=this.options.variables=T(T({},this.options.variables),e)),this.newReobserver(!1).reobserve(n,Fn.refetch)},t.prototype.fetchMore=function(e){var t=this,n=T(T({},e.query?e:T(T(T({},this.options),e),{variables:T(T({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();if(n.notifyOnNetworkStatusChange){var i=this.getCurrentResult();this.queryInfo.networkStatus=Fn.fetchMore,this.observer.next(T(T({},i),{loading:!0,networkStatus:Fn.fetchMore}))}return this.queryManager.fetchQuery(r,n,Fn.fetchMore).then((function(r){var i=r.data,a=e.updateQuery;return a?("production"===process.env.NODE_ENV||Un||("production"===process.env.NODE_ENV||Me.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Un=!0),t.updateQuery((function(e){return a(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):"production"===process.env.NODE_ENV||Me.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if(kn(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,n=void 0===t?"cache-first":t;return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(n="cache-and-network"),this.reobserve({fetchPolicy:n,variables:e},Fn.setVariables)},t.prototype.updateQuery=function(e){var t,n=this.queryManager,r=e(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(n.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:kt(e),jt(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=zn)}catch(e){}var r=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),r&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,n=this.queryManager,r=this.queryId;return n.setObservableQuery(this),new jn(this.observer,e?this.options:T({},this.options),(function(e,i){return n.setObservableQuery(t),n.fetchQueryObservable(r,e,i)}),!n.ssrMode&&function(){return!Ln(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.isTornDown=!0,this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),e.stopQuery(this.queryId),this.observers.clear()},t}(Ot);function zn(e){"production"===process.env.NODE_ENV||Me.error("Unhandled error",e.message,e.stack)}var Vn=null,Hn={},$n=1,Wn=Array,Qn=Wn["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",$n++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=Vn;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Hn)break;return e!==Vn&&(Vn.slots[this.id]=t),!0}return Vn&&(Vn.slots[this.id]=Hn),!1},e.prototype.getValue=function(){if(this.hasValue())return Vn.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,a=((i={__proto__:null})[this.id]=e,i),o=Vn;Vn={parent:o,slots:a};try{return t.apply(r,n)}finally{Vn=o}},e.bind=function(e){var t=Vn;return function(){var n=Vn;try{return Vn=t,e.apply(this,arguments)}finally{Vn=n}}},e.noContext=function(e,t,n){if(!Vn)return e.apply(n,t);var r=Vn;try{return Vn=null,e.apply(n,t)}finally{Vn=r}},e}();try{Object.defineProperty(Wn,"@wry/context:Slot",{value:Wn["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();Qn.bind,Qn.noContext;function Gn(){}var Yn=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Gn),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Kn=new Qn;function Zn(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var Jn=[];function Xn(e,t){if(!e)throw new Error(t||"assertion failure")}function er(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var tr=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!rr(this))return this.value[0]},e.prototype.recompute=function(){return Xn(!this.recomputing,"already recomputing"),function(e){var t=Kn.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),rr(e)?or(t,e):sr(t,e)}(this),rr(this)?function(e){lr(e),Kn.withValue(e,nr,[e]),function(e){if("function"==typeof e.subscribe)try{Zn(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,rr(e))return;ar(e)}(e);return er(e.value)}(this):er(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ir(this),lr(this),Zn(this))},e.prototype.dispose=function(){var e=this;lr(this),Zn(this),this.parents.forEach((function(t){t.setDirty(),cr(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=Jn.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),Jn.push(this.deps),this.deps=null)},e.count=0,e}();function nr(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function rr(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ir(e){e.parents.forEach((function(t){return or(t,e)}))}function ar(e){e.parents.forEach((function(t){return sr(t,e)}))}function or(e,t){if(Xn(e.childValues.has(t)),Xn(rr(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Jn.pop()||new Set;e.dirtyChildren.add(t),ir(e)}function sr(e,t){Xn(e.childValues.has(t)),Xn(!rr(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),ur(e,t),rr(e)||ar(e)}function ur(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(Jn.length<100&&Jn.push(n),e.dirtyChildren=null))}function lr(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){cr(e,n)})),e.forgetDeps(),Xn(null===e.dirtyChildren)}function cr(e,t){t.parents.delete(e),e.childValues.delete(t),ur(e,t)}var dr=function(){return Object.create(null)},fr=function(){function e(e,t){void 0===t&&(t=dr),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(e.slice(0)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();function pr(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=Kn.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(Zn(i),i.unsubscribe=n(e))}}return r.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),Zn(n))},r}var hr=new fr("function"==typeof WeakMap);function mr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hr.lookupArray(e)}var vr=new Set;function gr(e,t){void 0===t&&(t=Object.create(null));var n=new Yn(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},i=t.makeCacheKey||mr;function a(){var a=i.apply(null,r.apply(null,arguments));if(void 0===a)return e.apply(null,arguments);var o=Array.prototype.slice.call(arguments),s=n.get(a);s?s.args=o:(s=new tr(e,o),n.set(a,s),s.subscribe=t.subscribe);var u=s.recompute();return n.set(a,s),vr.add(n),Kn.hasValue()||(vr.forEach((function(e){return e.clean()})),vr.clear()),u}function o(){var e=i.apply(null,arguments);if(void 0!==e)return n.get(e)}return a.dirty=function(){var e=o.apply(null,arguments);e&&e.setDirty()},a.peek=function(){var e=o.apply(null,arguments);if(e)return e.peek()},a}var yr,br=function(){function e(){this.getFragmentDoc=gr(Ye)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();yr||(yr={});var Er=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r},wr=Object.prototype.hasOwnProperty;var xr=/^[_A-Za-z0-9]+/;function Or(e){var t=e.match(xr);return t?t[0]:e}function Ar(e){return null!==e&&"object"==typeof e&&!Xe(e)&&!Array.isArray(e)}function Cr(e){var t=e&&e.__field;return t&&ot(t)}var Sr=function(e,t,n){var r=e[n],i=t[n];return Cr(r)?(r.__value=this.merge(r.__value,Cr(i)?i.__value:i),r):Cr(i)?(i.__value=this.merge(r,i.__value),i):this.merge(r,i)},Nr=Object.create(null),Ir=function(){return Nr},Tr=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Mt(Xe(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Xe(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Je(e);if(Xe(e))return e;var r=n.policies.identify(e)[0];if(r){var i=Je(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return T({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),wr.call(this.data,e)){var n=this.data[e];if(n&&wr.call(n,t))return n[t]}return"__typename"===t&&wr.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Dr?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),wr.call(this.data,e)?this.data[e]:this instanceof Dr?this.parent.lookup(e,t):void 0},e.prototype.merge=function(e,t){var n=this,r=this.lookup(e),i=new Tt(Rr).merge(r,t);if(this.data[e]=i,i!==r&&(delete this.refs[e],this.group.caching)){var a=Object.create(null);r||(a.__exists=1),Object.keys(t).forEach((function(e){r&&r[e]===i[e]||(a[Or(e)]=1,void 0!==i[e]||n instanceof Dr||delete i[e])})),Object.keys(a).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),a=!1,o=!0,s=function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Je(e)}:t,{store:n})};if(Object.keys(r).forEach((function(e){var u=Or(e),l=r[e];if(void 0!==l){var c="function"==typeof t?t:t[e]||t[u];if(c){var d=c===Ir?Nr:c(Mt(l),{DELETE:Nr,fieldName:u,storeFieldName:e,isReference:Xe,toReference:n.toReference,canRead:n.canRead,readField:s});d===Nr&&(d=void 0),d!==l&&(i[e]=d,a=!0,l=d)}void 0!==l&&(o=!1)}})),a)return this.merge(e,i),o&&(this instanceof Dr?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var a=this.getFieldValue(i,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:a,fieldName:t,args:n}):t;return this.modify(e,o?((r={})[o]=Ir,r):Ir)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(wr.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof Dr&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;Object.keys(this.data).forEach((function(n){e&&wr.call(e,n)||t.delete(n)})),e&&Object.keys(e).forEach((function(n){t.merge(n,e[n])}))},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Dr&&this.parent.getRootIdSet(e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){wr.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof Dr;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!wr.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),r=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){Xe(e)?t[e.__ref]=!0:r(e)&&Object.values(e).filter(r).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),_r=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new fr(qt),this.d=e?pr():null}return e.prototype.depend=function(e,t){this.d&&this.d(kr(e,t))},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(kr(e,t))},e}();function kr(e,t){return Or(t)+"#"+e}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,a=t.seed,o=e.call(this,n,new _r(i))||this;return o.sharedLayerGroup=new _r(i),a&&o.replace(a),o}return I(t,e),t.prototype.addLayer=function(e,t){return new Dr(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t}(e);e.Root=t}(Tr||(Tr={}));var Dr=function(e){function t(t,n,r,i){var a=e.call(this,n.policies,i)||this;return a.id=t,a.parent=n,a.replay=r,a.group=i,r(a),a}return I(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return T(T({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return wr.call(this.data,t)?T(T({},n),e.prototype.findChildRefIds.call(this,t)):n},t}(Tr);function Rr(e,t,n){var r=e[n],i=t[n];return kn(r,i)?r:i}function Mr(e){return!!(e instanceof Tr&&e.group.caching)}function Fr(e,t){return new Er(e.message,t.path.slice(),t.query,t.variables)}var Br=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=gr((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,n){if(Mr(n.store))return n.store.makeCacheKey(e,Xe(t)?t.__ref:t,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=gr((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(Mr(r.store))return r.store.makeCacheKey(t,n,r.varString)}}),this.config=T({addTypename:!0},e)}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(T(T({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,i=e.rootId,a=void 0===i?"ROOT_QUERY":i,o=e.variables,s=e.returnPartialData,u=void 0===s||s,l=this.config.cache.policies;o=T(T({},pt((t=lt(r),"production"===process.env.NODE_ENV?Me(t&&"query"===t.operation,47):Me(t&&"query"===t.operation,"Must contain a query definition."),t))),o);var c=this.executeSelectionSet({selectionSet:ft(r).selectionSet,objectOrReference:Je(a),context:{store:n,query:r,policies:l,variables:o,varString:JSON.stringify(o),fragmentMap:Ke(dt(r)),path:[]}}),d=c.missing&&c.missing.length>0;if(d&&!u)throw c.missing[0];return{result:c.result,missing:c.missing,complete:!d}},e.prototype.isFresh=function(e,t,n,r){if(Mr(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r);if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.context;if(Xe(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:{},missing:[Fr("production"===process.env.NODE_ENV?new Re(4):new Re("Dangling reference to missing "+r.__ref+" object"),i)]};var a=i.fragmentMap,o=i.variables,s=i.policies,u=i.store,l=[],c={result:null},d=u.getFieldValue(r,"__typename");function f(){return c.missing||(c.missing=[])}function p(e){var t;return e.missing&&(t=f()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof d&&!s.rootIdsByTypename[d]&&l.push({__typename:d});var h=new Set(n.selections);return h.forEach((function(e){var n;if(We(e,o))if(ot(e)){var u=s.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),c=it(e);i.path.push(c),void 0===u?bt.added(e)||f().push(Fr("production"===process.env.NODE_ENV?new Re(5):new Re("Can't find field '"+e.name.value+"' on "+(Xe(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2))),i)):Array.isArray(u)?u=p(t.executeSubSelectedArray({field:e,array:u,context:i})):e.selectionSet?null!=u&&(u=p(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:u,context:i}))):"production"!==process.env.NODE_ENV&&(Pr(i.store,e,u),Mt(u)),void 0!==u&&l.push(((n={})[c]=u,n)),Me(i.path.pop()===c)}else{var m=void 0;st(e)?m=e:"production"===process.env.NODE_ENV?Me(m=a[e.name.value],6):Me(m=a[e.name.value],"No fragment named "+e.name.value),s.fragmentMatches(m,d)&&m.selectionSet.selections.forEach(h.add,h)}})),c.result=St(l),"production"!==process.env.NODE_ENV&&Object.freeze(c.result),this.knownResults.set(c.result,n),c},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,a=e.context;function o(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),Me(a.path.pop()===n),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:(a.path.push(t),Array.isArray(e)?o(n.executeSubSelectedArray({field:r,array:e,context:a}),t):r.selectionSet?o(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,context:a}),t):("production"!==process.env.NODE_ENV&&Pr(a.store,r,e),Me(a.path.pop()===t),e))})),"production"!==process.env.NODE_ENV&&Object.freeze(i),{result:i,missing:t}},e}();function Pr(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){n&&"object"==typeof n&&("production"===process.env.NODE_ENV?Me(!Xe(n),7):Me(!Xe(n),"Missing selection set for object of type "+function(e,t){return Xe(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)+" returned for query field "+t.name.value),Object.values(n).forEach(r.add,r))}))}}var Lr=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,n=e.result,r=e.dataId,i=e.store,a=e.variables,o=lt(t),s=new Tt(Sr);a=T(T({},pt(o)),a);var u=this.processSelectionSet({result:n||Object.create(null),dataId:r,selectionSet:o.selectionSet,context:{store:i,written:Object.create(null),merge:function(e,t){return s.merge(e,t)},variables:a,varString:JSON.stringify(a),fragmentMap:Ke(dt(t))}}),l=Xe(u)?u:r&&Je(r)||void 0;return l&&i.retain(l.__ref),l},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,a=e.context,o=e.out,s=void 0===o?{shouldApplyMerges:!1}:o,u=this.cache.policies,l=u.identify(r,i,a.fragmentMap),c=l[0],d=l[1];if("string"==typeof(n=n||c)){var f=a.written[n]||(a.written[n]=[]),p=Je(n);if(f.indexOf(i)>=0)return p;if(f.push(i),this.reader&&this.reader.isFresh(r,p,i,a))return p}var h=Object.create(null);d&&(h=a.merge(h,d));var m=n&&u.rootTypenamesById[n]||at(r,i,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"==typeof m&&(h.__typename=m);var v=new Set(i.selections);if(v.forEach((function(e){var n;if(We(e,a.variables))if(ot(e)){var i=it(e),o=r[i];if(void 0!==o){var l=u.getStoreFieldName({typename:m,fieldName:e.name.value,field:e,variables:a.variables}),c=t.processFieldValue(o,e,a,s);u.hasMergeFunction(m,e.name.value)&&(c={__field:e,__typename:m,__value:c},s.shouldApplyMerges=!0),h=a.merge(h,((n={})[l]=c,n))}else if(u.usingPossibleTypes&&!Qe(["defer","client"],e))throw"production"===process.env.NODE_ENV?new Re(8):new Re("Missing field '"+i+"' in "+JSON.stringify(r,null,2).substring(0,100))}else{var d=Ze(e,a.fragmentMap);d&&u.fragmentMatches(d,m)&&d.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof n){var g=Je(n);return s.shouldApplyMerges&&(h=u.applyMerges(g,h,a)),"production"!==process.env.NODE_ENV&&Object.keys(h).forEach((function(e){var t=Or(e);u.hasMergeFunction(m,t)||function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},a=i(e);if(!a)return;var o=i(t);if(!o)return;if(Xe(a))return;if(kn(a,o))return;if(Object.keys(a).every((function(e){return void 0!==r.getFieldValue(o,e)})))return;var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=Or(n),l=s+"."+u;if(jr.has(l))return;jr.add(l);var c=[];Array.isArray(a)||Array.isArray(o)||[a,o].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||c.includes(t)||c.push(t)}));"production"===process.env.NODE_ENV||Me.warn("Cache data may be lost when replacing the "+u+" field of a "+s+" object.\n\nTo address this problem (which is not a bug in Apollo Client), "+(c.length?"either ensure all objects of type "+c.join(" and ")+" have IDs, or ":"")+"define a custom merge function for the "+l+" field, so InMemoryCache can safely merge these objects:\n\n  existing: "+JSON.stringify(a).slice(0,1e3)+"\n  incoming: "+JSON.stringify(o).slice(0,1e3)+"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n")}(g,h,e,a.store)})),a.store.merge(n,h),g}return h},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e){return i.processFieldValue(e,t,n,r)})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,out:r}):"production"===process.env.NODE_ENV?e:kt(e)},e}(),jr=new Set;var Ur=pr(),qr=new Qn;function zr(e){var t=new Set;return function n(r){if(arguments.length>0)e!==r&&(e=r,Ur.dirty(n),t.forEach(Vr));else{var i=qr.getValue();i&&t.add(i),Ur(n)}return e}}function Vr(e){e.broadcastWatches&&e.broadcastWatches()}function Hr(e){return void 0!==e.args?e.args:e.field?rt(e.field,e.variables):null}var $r=function(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return n+":"+("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))},Wr=function(){},Qr=function(e,t){return t.fieldName},Gr=function(e,t,n){return(0,n.mergeObjects)(e,t)},Yr=function(e,t){return t},Kr=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.storageTrie=new fr(!0),this.config=T({dataIdFromObject:$r},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var r=t&&n?at(e,t,n):e.__typename;if(r){var i=this.rootIdsByTypename[r];if("string"==typeof i)return[i]}for(var a,o={typename:r,selectionSet:t,fragmentMap:n},s=this.getTypePolicy(r,!1),u=s&&s.keyFn||this.config.dataIdFromObject;u;){var l=u(e,o);if(!Array.isArray(l)){a=l;break}u=Xr(l)}return a=a&&String(a),o.keyObject?[a,o.keyObject]:[a]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=t.getTypePolicy(n,!0),i=e[n],a=i.keyFields,o=i.fields;i.queryType&&t.setRootTypename("Query",n),i.mutationType&&t.setRootTypename("Mutation",n),i.subscriptionType&&t.setRootTypename("Subscription",n),r.keyFn=!1===a?Wr:Array.isArray(a)?Xr(a):"function"==typeof a?a:r.keyFn,o&&Object.keys(o).forEach((function(e){var r=t.getFieldPolicy(n,e,!0),i=o[e];if("function"==typeof i)r.read=i;else{var a=i.keyArgs,s=i.read,u=i.merge;r.keyFn=!1===a?Qr:Array.isArray(a)?Jr(a):"function"==typeof a?a:r.keyFn,"function"==typeof s&&(r.read=s),r.merge="function"==typeof u?u:!0===u?Gr:!1===u?Yr:r.merge}r.read&&r.merge&&(r.keyFn=r.keyFn||Qr)}))}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&("production"===process.env.NODE_ENV?Me(!r||r===e,1):Me(!r||r===e,"Cannot change root "+e+" __typename more than once"),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){var r=t.getSubtypeSet(n,!0);e[n].forEach(r.add,r)}))},e.prototype.getTypePolicy=function(e,t){if(e)return this.typePolicies[e]||t&&(this.typePolicies[e]=Object.create(null))},e.prototype.getSubtypeSet=function(e,t){var n=this.getTypePolicy(e,t);if(n)return n.subtypes||(t?n.subtypes=new Set:void 0)},e.prototype.getFieldPolicy=function(e,t,n){var r=this.getTypePolicy(e,n);if(r){var i=r.fields||n&&(r.fields=Object.create(null));if(i)return i[t]||n&&(i[t]=Object.create(null))}},e.prototype.fragmentMatches=function(e,t){var n=this;if(!e.typeCondition)return!0;if(!t)return!1;var r=e.typeCondition.name.value;if(t===r)return!0;if(this.usingPossibleTypes)for(var i=[this.getSubtypeSet(r,!1)],a=0;a<i.length;++a){var o=i[a];if(o){if(o.has(t))return!0;o.forEach((function(e){var t=n.getSubtypeSet(e,!1);t&&i.indexOf(t)<0&&i.push(t)}))}}return!1},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),a=i&&i.keyFn;if(a&&n)for(var o={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=Hr(e);a;){var u=a(s,o);if(!Array.isArray(u)){t=u||r;break}a=Jr(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,a=r.value;return et(n[e.name.value],i,a,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return et(r,n,i,t)}))),nt(e.name.value,r,n)}(e.field,e.variables):nt(r,Hr(e))),r===Or(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),a=Or(i),o=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,a,!1),u=s&&s.read;if(u){var l=Zr(this,n,e,t,this.storageTrie.lookup(Xe(n)?n.__ref:n,i));return qr.withValue(this.cache,u,[o,l])}return o}},e.prototype.hasMergeFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.merge)},e.prototype.applyMerges=function(e,t,n,r){var i=this;if(Cr(t)){var a=t.__field,o=a.name.value,s=this.getFieldPolicy(t.__typename,o,!1).merge,u=r?this.storageTrie.lookupArray(r):null;t=s(e,t.__value,Zr(this,void 0,{typename:t.__typename,fieldName:o,field:a,variables:n.variables},n,u))}if(Array.isArray(t))return t.map((function(e){return i.applyMerges(void 0,e,n)}));if(Ar(t)){var l,c=e,d=t,f=Xe(c)?c.__ref:"object"==typeof c&&c;if(Object.keys(d).forEach((function(e){var t=d[e],r=i.applyMerges(n.store.getFieldValue(c,e),t,n,f?[f,e]:void 0);r!==t&&((l=l||Object.create(null))[e]=r)})),l)return T(T({},d),l)}return t},e}();function Zr(e,t,n,r,i){var a=e.getStoreFieldName(n),o=Or(a),s=n.variables||r.variables,u=r.store,l=u.getFieldValue,c=u.toReference,d=u.canRead;return{args:Hr(n),field:n.field||null,fieldName:o,storeFieldName:a,variables:s,isReference:Xe,toReference:c,storage:i,cache:e.cache,canRead:d,readField:function(n,i){var a="string"==typeof n?{fieldName:n,from:i}:T({},n);return void 0===a.from&&(a.from=t),void 0===a.variables&&(a.variables=s),e.readField(a,r)},mergeObjects:function(t,n){if(Array.isArray(t)||Array.isArray(n))throw"production"===process.env.NODE_ENV?new Re(2):new Re("Cannot automatically merge arrays");if(t&&"object"==typeof t&&n&&"object"==typeof n){var i=l(t,"__typename"),a=l(n,"__typename"),o=i&&a&&i!==a,s=e.applyMerges(o?void 0:t,n,r);return!o&&Ar(t)&&Ar(s)?T(T({},t),s):s}return n}}}function Jr(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(ei(t,e)):n.fieldName}}function Xr(e){var t=new fr(qt);return function(n,r){var i;if(r.selectionSet&&r.fragmentMap){var a=t.lookupArray([r.selectionSet,r.fragmentMap]);i=a.aliasMap||(a.aliasMap=function e(t,n){var r=Object.create(null),i=new Set([t]);return i.forEach((function(t){t.selections.forEach((function(t){if(ot(t)){if(t.alias){var a=t.alias.value,o=t.name.value;if(o!==a)(r.aliases||(r.aliases=Object.create(null)))[o]=a}if(t.selectionSet)(r.subsets||(r.subsets=Object.create(null)))[t.name.value]=e(t.selectionSet,n)}else{var s=Ze(t,n);s&&i.add(s.selectionSet)}}))})),r}(r.selectionSet,r.fragmentMap))}var o=r.keyObject=ei(n,e,i);return r.typename+":"+JSON.stringify(o)}}function ei(e,t,n){var r,i=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof r){var a=n&&n.subsets,o=a&&a[r];i[r]=ei(e[r],t,o)}}else{var s=n&&n.aliases,u=s&&s[t]||t;"production"===process.env.NODE_ENV?Me(wr.call(e,u),3):Me(wr.call(e,u),"Missing field '"+u+"' while computing key fields"),i[r=t]=e[u]}})),i}var ti={dataIdFromObject:$r,addTypename:!0,resultCaching:!0,typePolicies:{}},ni=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=zr,n.txCount=0,n.maybeBroadcastWatch=gr((function(e){return n.broadcastWatch.call(n,e)}),{makeCacheKey:function(e){var t=e.optimistic?n.optimisticData:n.data;if(Mr(t)){var r=e.optimistic,i=e.rootId,a=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:r,rootId:i,variables:a}))}}}),n.watchDep=pr(),n.config=T(T({},ti),t),n.addTypename=!!n.config.addTypename,n.policies=new Kr({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new Tr.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new Lr(n,n.storeReader=new Br({cache:n,addTypename:n.addTypename})),n}return I(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){var t=e.optimistic?this.optimisticData:this.data;return("string"!=typeof e.rootId||t.has(e.rootId))&&this.storeReader.readQueryFromStore({store:t,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config})||null},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(wr.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return Xe(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(wr.call(e,"id"))return!1;e=T(T({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,r=function(t){var r=n,i=r.data,a=r.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=i,n.optimisticData=a}};"string"==typeof t?this.optimisticData=this.optimisticData.addLayer(t,r):null===t?r(this.data):r(),this.broadcastWatches()},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=bt(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.txCount||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.broadcastWatch=function(e){this.watchDep.dirty(e),this.watchDep(e),e.callback(this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic}))},t}(br),ri=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Ct(t.resolvers,e)})):this.resolvers=Ct(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return k(this,void 0,void 0,(function(){return D(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,o).then((function(e){return T(T({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Qe(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){ut(e);var t=yt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Ve(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return ot(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return T(T({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),k(this,void 0,void 0,(function(){return D(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return T(T({},t),e.exportedVariables)}))]:[2,T({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Ve(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return ze}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:wt(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,a){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===a&&(a=!1),k(this,void 0,void 0,(function(){var o,s,u,l,c,d,f,p,h;return D(this,(function(m){return o=ft(e),s=dt(e),u=Ke(s),l=o.operation,c=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",f=(d=this).cache,p=d.client,h={fragmentMap:u,context:T(T({},n),{cache:f,client:p}),variables:r,fragmentMatcher:i,defaultOperationType:c,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(o.selectionSet,t,h).then((function(e){return{result:e,exportedVariables:h.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return k(this,void 0,void 0,(function(){var r,i,a,o,s,u=this;return D(this,(function(l){return r=n.fragmentMap,i=n.context,a=n.variables,o=[t],s=function(e){return k(u,void 0,void 0,(function(){var s,u;return D(this,(function(l){return We(e,a)?ot(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&o.push(((n={})[it(e)]=t,n))}))]:(st(e)?s=e:(s=r[e.name.value],"production"===process.env.NODE_ENV?Me(s,11):Me(s,"No fragment named "+e.name.value)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){o.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return St(o)}))]}))}))},e.prototype.resolveField=function(e,t,n){return k(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,c,d,f=this;return D(this,(function(p){return r=n.variables,i=e.name.value,a=it(e),o=i!==a,s=t[a]||t[i],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||n.defaultOperationType,(c=this.resolvers&&this.resolvers[l])&&(d=c[o?i:a])&&(u=Promise.resolve(qr.withValue(this.cache,d,[t,rt(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,n):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),ii=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.dirty=!1,this.diff=null,this.observableQuery=null}return e.prototype.init=function(e){var t=e.networkStatus||Fn.loading;return this.variables&&this.networkStatus!==Fn.loading&&!kn(this.variables,e.variables)&&(t=Fn.setVariables),kn(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&kn(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,n=this.diff;this.diff=e,this.dirty||(null==e?void 0:e.result)===(null==n?void 0:n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){return e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ln(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){this.cancel(),delete this.cancel;var e=this.observableQuery;e&&e.stopPolling()},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&kn(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.markResult=function(e,t,n){var r=this;if(this.graphQLErrors=jt(e.errors)?e.errors:[],"no-cache"===t.fetchPolicy)this.diff={result:e.data,complete:!0};else if(n){var i="ignore"===t.errorPolicy||"all"===t.errorPolicy,a=!Ut(e);!a&&i&&e.data&&(a=!0),a?this.cache.performTransaction((function(n){if(kn(e,r.lastWrittenResult)&&kn(t.variables,r.lastWrittenVars)){if(r.diff&&r.diff.complete)return void(e.data=r.diff.result)}else n.writeQuery({query:r.document,data:e.data,variables:t.variables}),r.lastWrittenResult=e,r.lastWrittenVars=t.variables;var i=n.diff({query:r.document,variables:t.variables,returnPartialData:!0,optimistic:!0});r.updateWatch(t.variables),r.diff=i,i.complete&&(e.data=i.result)})):this.lastWrittenResult=this.lastWrittenVars=void 0}},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Fn.ready},e.prototype.markError=function(e){return this.networkStatus=Fn.error,this.lastWrittenResult=this.lastWrittenVars=void 0,e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}(),ai=Object.prototype.hasOwnProperty,oi=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,a=e.onBroadcast,o=void 0===a?function(){}:a,s=e.ssrMode,u=void 0!==s&&s,l=e.clientAwareness,c=void 0===l?{}:l,d=e.localState,f=e.assumeImmutableResults;this.mutationStore=new Pn,this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(qt?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.onBroadcast=o,this.clientAwareness=c,this.localState=d||new ri({cache:t}),this.ssrMode=u,this.assumeImmutableResults=!!f}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches("production"===process.env.NODE_ENV?new Re(13):new Re("QueryManager stopped while query was in flight"))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,a=e.refetchQueries,o=void 0===a?[]:a,s=e.awaitRefetchQueries,u=void 0!==s&&s,l=e.update,c=e.errorPolicy,d=void 0===c?"none":c,f=e.fetchPolicy,p=e.context,h=void 0===p?{}:p;return k(this,void 0,void 0,(function(){var e,a,s,c,p=this;return D(this,(function(m){switch(m.label){case 0:return"production"===process.env.NODE_ENV?Me(t,14):Me(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),"production"===process.env.NODE_ENV?Me(!f||"no-cache"===f,15):Me(!f||"no-cache"===f,"Mutations only support a 'no-cache' fetchPolicy. If you don't want to disable the cache, remove your fetchPolicy setting to proceed with the default mutation behavior."),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,h)]:[3,2];case 1:n=m.sent(),m.label=2;case 2:return a=function(){var e={};return i&&p.queries.forEach((function(t,n){var r=t.observableQuery;if(r){var a=r.queryName;a&&ai.call(i,a)&&(e[n]={updater:i[a],queryInfo:p.queries.get(n)})}})),e},this.mutationStore.initMutation(e,t,n),r&&(s="function"==typeof r?r(n):r,this.cache.recordOptimisticTransaction((function(r){try{si({mutationId:e,result:{data:s},document:t,variables:n,queryUpdatersById:a(),update:l},r)}catch(e){"production"===process.env.NODE_ENV||Me.error(e)}}),e)),this.broadcastQueries(),c=this,[2,new Promise((function(i,s){var p,m;c.getObservableFromLink(t,T(T({},h),{optimisticResponse:r}),n,!1).subscribe({next:function(r){if(Ut(r)&&"none"===d)m=new Bn({graphQLErrors:r.errors});else{if(c.mutationStore.markMutationResult(e),"no-cache"!==f)try{si({mutationId:e,result:r,document:t,variables:n,queryUpdatersById:a(),update:l},c.cache)}catch(e){return void(m=new Bn({networkError:e}))}p=r}},error:function(t){c.mutationStore.markMutationError(e,t),r&&c.cache.removeOptimistic(e),c.broadcastQueries(),s(new Bn({networkError:t}))},complete:function(){if(m&&c.mutationStore.markMutationError(e,m),r&&c.cache.removeOptimistic(e),c.broadcastQueries(),m)s(m);else{"function"==typeof o&&(o=o(p));var t=[];jt(o)&&o.forEach((function(e){if("string"==typeof e)c.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(c.query(n))}})),Promise.all(u?t:[]).then((function(){"ignore"===d&&p&&Ut(p)&&delete p.errors,i(p)}),s)}}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),yt([Et],ut(t))),a=this.localState.clientQuery(r),o=i&&this.localState.serverQuery(i),s={document:r,hasClientExports:Ge(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:a,serverQuery:o,defaultVars:pt(lt(r))},u=function(e){e&&!n.has(e)&&n.set(e,s)};u(e),u(r),u(a),u(o)}return n.get(e)},e.prototype.getVariables=function(e,t){return T(T({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=T(T({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new ii(this.cache),n=new qn({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;"production"===process.env.NODE_ENV?Me(e.query,16):Me(e.query,"query option is required. You must specify your GraphQL document in the query option."),"production"===process.env.NODE_ENV?Me("Document"===e.query.kind,17):Me("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),"production"===process.env.NODE_ENV?Me(!e.returnPartialData,18):Me(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),"production"===process.env.NODE_ENV?Me(!e.pollInterval,19):Me(!e.pollInterval,"pollInterval option only supported on watchQuery.");var n=this.generateQueryId();return this.fetchQuery(n,e).finally((function(){return t.stopQuery(n)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches("production"===process.env.NODE_ENV?new Re(20):new Re("Store reset while query was in flight (not completed in link chain)")),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Fn.loading:e.stop()})),this.mutationStore.reset(),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var a=r.observableQuery;if(a){var o=a.options.fetchPolicy;a.resetLastResults(),"cache-only"===o||!e&&"standby"===o||n.push(a.refetch()),t.getQuery(i).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.variables,a=e.context,o=void 0===a?{}:a;n=this.transform(n).document,i=this.getVariables(n,i);var s=function(e){return t.getObservableFromLink(n,o,e,!1).map((function(i){if(r&&"no-cache"===r||(Ut(i)||t.cache.write({query:n,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),Ut(i))throw new Bn({graphQLErrors:i.errors});return i}))};if(this.transform(n).hasClientExports){var u=this.localState.addExportedVariables(n,i,o).then(s);return new Ot((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return s(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,a,o=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var u=this.inFlightLinkObservables,l=this.link,c={query:s,variables:n,operationName:ct(s)||void 0,context:this.prepareContext(T(T({},t),{forceFetch:!r}))};if(t=c.context,r){var d=u.get(s)||new Map;u.set(s,d);var f=JSON.stringify(n);if(!(a=d.get(f))){var p=new Lt([en(l,c)]);d.set(f,a=p),p.cleanup((function(){d.delete(f)&&d.size<1&&u.delete(s)}))}}else a=new Lt([en(l,c)])}else a=new Lt([Ot.of({data:{}})]),t=this.prepareContext(t);var h=this.transform(e).clientQuery;return h&&(a=Bt(a,(function(e){return o.localState.runResolvers({document:h,remoteResult:e,context:t,variables:n})}))),a},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId;return Bt(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var a=jt(i.errors);if(r>=e.lastRequestId){if(a&&"none"===n.errorPolicy)throw e.markError(new Bn({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var o={data:i.data,loading:!1,networkStatus:e.networkStatus||Fn.ready};return a&&"ignore"!==n.errorPolicy&&(o.errors=i.errors),o}),(function(t){var n=Mn(t)?t:new Bn({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Fn.loading);var i=this.transform(t.query).document,a=this.getVariables(i,t.variables),o=this.getQuery(e),s=o.networkStatus,u=t.fetchPolicy,l=void 0===u?"cache-first":u,c=t.errorPolicy,d=void 0===c?"none":c,f=t.returnPartialData,p=void 0!==f&&f,h=t.notifyOnNetworkStatusChange,m=void 0!==h&&h,v=t.context,g=void 0===v?{}:v;("cache-first"===l||"cache-and-network"===l||"network-only"===l||"no-cache"===l)&&m&&"number"==typeof s&&s!==n&&Ln(n)&&("cache-first"!==l&&(l="cache-and-network"),p=!0);var y=Object.assign({},t,{query:i,variables:a,fetchPolicy:l,errorPolicy:d,returnPartialData:p,notifyOnNetworkStatusChange:m,context:g}),b=function(e){return y.variables=e,r.fetchQueryByPolicy(o,y,n)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return E.cancel(e)}))}));var E=new Lt(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(b):b(y.variables));return E.cleanup((function(){r.fetchCancelFns.delete(e),t.nextFetchPolicy&&(t.fetchPolicy=t.nextFetchPolicy,t.nextFetchPolicy=void 0)})),E},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,a=t.variables,o=t.fetchPolicy,s=t.errorPolicy,u=t.returnPartialData,l=t.context;e.init({document:i,variables:a,lastRequestId:this.generateRequestId(),networkStatus:n});var c=function(){return e.getDiff(a)},d=function(t,n){void 0===n&&(n=e.networkStatus||Fn.loading);var o=t.result;"production"!==process.env.NODE_ENV&&jt(t.missing)&&!kn(o,{})&&("production"===process.env.NODE_ENV||Me.warn("Missing cache result fields: "+t.missing.map((function(e){return e.path.join(".")})).join(", "),t.missing));var s=function(e){return Ot.of(T({data:e,loading:Ln(n),networkStatus:n},t.complete?null:{partial:!0}))};return r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:o},context:l,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data)})):s(o)},f=function(t){return r.getResultsFromLink(e,t,{variables:a,context:l,fetchPolicy:o,errorPolicy:s})};switch(o){default:case"cache-first":return(p=c()).complete?[d(p,e.markReady())]:u?[d(p),f(!0)]:[f(!0)];case"cache-and-network":var p;return(p=c()).complete||u?[d(p),f(!0)]:[f(!0)];case"cache-only":return[d(c(),e.markReady())];case"network-only":return[f(!0)];case"no-cache":return[f(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ii(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return T(T({},t),{clientAwareness:this.clientAwareness})},e}();function si(e,t){if(!Ut(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.queryUpdatersById;r&&Object.keys(r).forEach((function(i){var a=r[i],o=a.updater,s=a.queryInfo,u=s.document,l=s.variables,c=t.diff({query:u,variables:l,returnPartialData:!0,optimistic:!1}),d=c.result;if(c.complete&&d){var f=o(d,{mutationResult:e.result,queryName:ct(u)||void 0,queryVariables:l});f&&n.push({result:f,dataId:"ROOT_QUERY",query:u,variables:l})}})),t.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&r(t,e.result)}),null)}}var ui=!1,li=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,a=e.cache,o=e.ssrMode,s=void 0!==o&&o,u=e.ssrForceFetchDelay,l=void 0===u?0:u,c=e.connectToDevTools,d=e.queryDeduplication,f=void 0===d||d,p=e.defaultOptions,h=e.assumeImmutableResults,m=void 0!==h&&h,v=e.resolvers,g=e.typeDefs,y=e.fragmentMatcher,b=e.name,E=e.version,w=e.link;if(w||(w=n?new An({uri:n,credentials:r,headers:i}):Yt.empty()),!a)throw"production"===process.env.NODE_ENV?new Re(9):new Re("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs");this.link=w,this.cache=a,this.disableNetworkFetches=s||l>0,this.queryDeduplication=f,this.defaultOptions=p||{},this.typeDefs=g,l&&setTimeout((function(){return t.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var x="production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===c?x:c&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),ui||"production"===process.env.NODE_ENV||(ui=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version="local",this.localState=new ri({cache:a,client:this,resolvers:v,fragmentMatcher:y}),this.queryManager=new oi({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:s,clientAwareness:{name:b,version:E},localState:this.localState,assumeImmutableResults:m,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=zt(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=T(T({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=zt(this.defaultOptions.query,e)),"production"===process.env.NODE_ENV?Me("cache-and-network"!==e.fetchPolicy,10):Me("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=T(T({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=zt(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return en(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}();function ci(e,t){if(!Boolean(e))throw new Error(t)}function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,Pe&&(e.prototype[Pe]=t)}function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,a=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,a=t+1-(n.index+n[0].length);return{line:i,column:a}}function hi(e){return mi(e.source,pi(e.source,e.start))}function mi(e,t){var n=e.locationOffset.column-1,r=gi(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,s=1===t.line?n:0,u=t.column+s,l="".concat(e.name,":").concat(o,":").concat(u,"\n"),c=r.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){for(var f=Math.floor(u/80),p=u%80,h=[],m=0;m<d.length;m+=80)h.push(d.slice(m,m+80));return l+vi([["".concat(o),h[0]]].concat(h.slice(1,f+1).map((function(e){return["",e]})),[[" ",gi(p-1)+"^"],["",h[f+1]]]))}return l+vi([["".concat(o-1),c[i-1]],["".concat(o),d],["",gi(u-1)+"^"],["".concat(o+1),c[i+1]]])}function vi(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return gi(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function gi(e){return Array(e+1).join(" ")}function yi(e,t,n,r,i,a,o){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=n;if(!u&&s){var l=s[0];u=l&&l.loc&&l.loc.source}var c,d=r;!d&&s&&(d=s.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),d&&0===d.length&&(d=void 0),r&&n?c=r.map((function(e){return pi(n,e)})):s&&(c=s.reduce((function(e,t){return t.loc&&e.push(pi(t.loc.source,t.loc.start)),e}),[]));var f,p=o;if(null==p&&null!=a){var h=a.extensions;"object"==fi(f=h)&&null!==f&&(p=h)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:c||void 0,enumerable:Boolean(c)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:s||void 0},source:{value:u||void 0},positions:{value:d||void 0},originalError:{value:a},extensions:{value:p||void 0,enumerable:Boolean(p)}}),a&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,yi):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function bi(e,t,n){return new yi("Syntax Error: ".concat(n),void 0,e,[t])}yi.prototype=Object.create(Error.prototype,{constructor:{value:yi},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+hi(i.loc))}else if(e.source&&e.locations)for(var a=0,o=e.locations;a<o.length;a++){var s=o[a];t+="\n\n"+mi(e.source,s)}return t}(this)}}});var Ei=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var wi,xi=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||ci(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||ci(0,"column in locationOffset is 1-indexed and must be positive")};wi=xi,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(wi.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var Oi=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ai(){return this.lastToken=this.token,this.token=this.lookahead()}function Ci(){var e=this.token;if(e.kind!==Oi.EOF)do{e=e.next||(e.next=Ii(this,e))}while(e.kind===Oi.COMMENT);return e}function Si(e,t,n,r,i,a,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=a,this.next=null}function Ni(e){return isNaN(e)?Oi.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ii(e,t){var n=e.source,r=n.body,i=r.length,a=function(e,t,n){var r=e.length,i=t;for(;i<r;){var a=e.charCodeAt(i);if(9===a||32===a||44===a||65279===a)++i;else if(10===a)++i,++n.line,n.lineStart=i;else{if(13!==a)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),o=e.line,s=1+a-e.lineStart;if(a>=i)return new Si(Oi.EOF,i,i,o,s,t);var u=r.charCodeAt(a);switch(u){case 33:return new Si(Oi.BANG,a,a+1,o,s,t);case 35:return function(e,t,n,r,i){var a,o=e.body,s=t;do{a=o.charCodeAt(++s)}while(!isNaN(a)&&(a>31||9===a));return new Si(Oi.COMMENT,t,s,n,r,i,o.slice(t+1,s))}(n,a,o,s,t);case 36:return new Si(Oi.DOLLAR,a,a+1,o,s,t);case 38:return new Si(Oi.AMP,a,a+1,o,s,t);case 40:return new Si(Oi.PAREN_L,a,a+1,o,s,t);case 41:return new Si(Oi.PAREN_R,a,a+1,o,s,t);case 46:if(46===r.charCodeAt(a+1)&&46===r.charCodeAt(a+2))return new Si(Oi.SPREAD,a,a+3,o,s,t);break;case 58:return new Si(Oi.COLON,a,a+1,o,s,t);case 61:return new Si(Oi.EQUALS,a,a+1,o,s,t);case 64:return new Si(Oi.AT,a,a+1,o,s,t);case 91:return new Si(Oi.BRACKET_L,a,a+1,o,s,t);case 93:return new Si(Oi.BRACKET_R,a,a+1,o,s,t);case 123:return new Si(Oi.BRACE_L,a,a+1,o,s,t);case 124:return new Si(Oi.PIPE,a,a+1,o,s,t);case 125:return new Si(Oi.BRACE_R,a,a+1,o,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var a=e.body,o=a.length,s=t+1,u=0;for(;s!==o&&!isNaN(u=a.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Si(Oi.NAME,t,s,n,r,i,a.slice(t,s))}(n,a,o,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,a){var o=e.body,s=n,u=t,l=!1;45===s&&(s=o.charCodeAt(++u));if(48===s){if((s=o.charCodeAt(++u))>=48&&s<=57)throw bi(e,u,"Invalid number, unexpected digit after 0: ".concat(Ni(s),"."))}else u=Ti(e,u,s),s=o.charCodeAt(u);46===s&&(l=!0,s=o.charCodeAt(++u),u=Ti(e,u,s),s=o.charCodeAt(u));69!==s&&101!==s||(l=!0,43!==(s=o.charCodeAt(++u))&&45!==s||(s=o.charCodeAt(++u)),u=Ti(e,u,s),s=o.charCodeAt(u));if(46===s||69===s||101===s)throw bi(e,u,"Invalid number, expected digit but got: ".concat(Ni(s),"."));return new Si(l?Oi.FLOAT:Oi.INT,t,u,r,i,a,o.slice(t,u))}(n,a,u,o,s,t);case 34:return 34===r.charCodeAt(a+1)&&34===r.charCodeAt(a+2)?function(e,t,n,r,i,a){var o=e.body,s=t+3,u=s,l=0,c="";for(;s<o.length&&!isNaN(l=o.charCodeAt(s));){if(34===l&&34===o.charCodeAt(s+1)&&34===o.charCodeAt(s+2))return c+=o.slice(u,s),new Si(Oi.BLOCK_STRING,t,s+3,n,r,i,an(c));if(l<32&&9!==l&&10!==l&&13!==l)throw bi(e,s,"Invalid character within String: ".concat(Ni(l),"."));10===l?(++s,++a.line,a.lineStart=s):13===l?(10===o.charCodeAt(s+1)?s+=2:++s,++a.line,a.lineStart=s):92===l&&34===o.charCodeAt(s+1)&&34===o.charCodeAt(s+2)&&34===o.charCodeAt(s+3)?(c+=o.slice(u,s)+'"""',u=s+=4):++s}throw bi(e,s,"Unterminated string.")}(n,a,o,s,t,e):function(e,t,n,r,i){var a=e.body,o=t+1,s=o,u=0,l="";for(;o<a.length&&!isNaN(u=a.charCodeAt(o))&&10!==u&&13!==u;){if(34===u)return l+=a.slice(s,o),new Si(Oi.STRING,t,o+1,n,r,i,l);if(u<32&&9!==u)throw bi(e,o,"Invalid character within String: ".concat(Ni(u),"."));if(++o,92===u){switch(l+=a.slice(s,o-1),u=a.charCodeAt(o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var c=_i(a.charCodeAt(o+1),a.charCodeAt(o+2),a.charCodeAt(o+3),a.charCodeAt(o+4));if(c<0){var d=a.slice(o+1,o+5);throw bi(e,o,"Invalid character escape sequence: \\u".concat(d,"."))}l+=String.fromCharCode(c),o+=4;break;default:throw bi(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++o,s=o}}throw bi(e,o,"Unterminated string.")}(n,a,o,s,t)}throw bi(n,a,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Ni(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Ni(e),".")}(u))}function Ti(e,t,n){var r=e.body,i=t,a=n;if(a>=48&&a<=57){do{a=r.charCodeAt(++i)}while(a>=48&&a<=57);return i}throw bi(e,i,"Invalid number, expected digit but got: ".concat(Ni(a),"."))}function _i(e,t,n,r){return ki(e)<<12|ki(t)<<8|ki(n)<<4|ki(r)}function ki(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}di(Si,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));var Di=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var Ri=function(){function e(e,t){var n="string"==typeof e?new xi(e):e;n instanceof xi||ci(0,"Must provide Source. Received: ".concat(je(n))),this._lexer=function(e,t){var n=new Si(Oi.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Ai,lookahead:Ci}}(n),this._options=t||{}}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Oi.NAME);return{kind:Ei.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Ei.DOCUMENT,definitions:this.many(Oi.SOF,this.parseDefinition,Oi.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Oi.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Oi.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Oi.BRACE_L))return{kind:Ei.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Oi.NAME)&&(t=this.parseName()),{kind:Ei.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Oi.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Oi.PAREN_L,this.parseVariableDefinition,Oi.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Ei.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Oi.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Oi.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Oi.DOLLAR),{kind:Ei.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Ei.SELECTION_SET,selections:this.many(Oi.BRACE_L,this.parseSelection,Oi.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Oi.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Oi.COLON)?(e=r,t=this.parseName()):t=r,{kind:Ei.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Oi.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Oi.PAREN_L,t,Oi.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Oi.COLON),{kind:Ei.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Ei.ARGUMENT,name:this.parseName(),value:(this.expectToken(Oi.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Oi.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Oi.NAME)?{kind:Ei.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Ei.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:Ei.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:Ei.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Oi.BRACKET_L:return this.parseList(e);case Oi.BRACE_L:return this.parseObject(e);case Oi.INT:return this._lexer.advance(),{kind:Ei.INT,value:t.value,loc:this.loc(t)};case Oi.FLOAT:return this._lexer.advance(),{kind:Ei.FLOAT,value:t.value,loc:this.loc(t)};case Oi.STRING:case Oi.BLOCK_STRING:return this.parseStringLiteral();case Oi.NAME:return"true"===t.value||"false"===t.value?(this._lexer.advance(),{kind:Ei.BOOLEAN,value:"true"===t.value,loc:this.loc(t)}):"null"===t.value?(this._lexer.advance(),{kind:Ei.NULL,loc:this.loc(t)}):(this._lexer.advance(),{kind:Ei.ENUM,value:t.value,loc:this.loc(t)});case Oi.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Ei.STRING,value:e.value,block:e.kind===Oi.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Ei.LIST,values:this.any(Oi.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Oi.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Ei.OBJECT,fields:this.any(Oi.BRACE_L,(function(){return t.parseObjectField(e)}),Oi.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Oi.COLON),{kind:Ei.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Oi.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Oi.AT),{kind:Ei.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Oi.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Oi.BRACKET_R),e={kind:Ei.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Oi.BANG)?{kind:Ei.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Ei.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Oi.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Oi.STRING)||this.peek(Oi.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token;this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.many(Oi.BRACE_L,this.parseOperationTypeDefinition,Oi.BRACE_R);return{kind:Ei.SCHEMA_DEFINITION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Oi.COLON);var n=this.parseNamedType();return{kind:Ei.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ei.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:Ei.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:a,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(Oi.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(Oi.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(Oi.NAME))}return e},t.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(Oi.BRACE_L)&&this._lexer.lookahead().kind===Oi.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Oi.BRACE_L,this.parseFieldDefinition,Oi.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Oi.COLON);var i=this.parseTypeReference(),a=this.parseDirectives(!0);return{kind:Ei.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:a,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Oi.PAREN_L,this.parseInputValueDef,Oi.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Oi.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Oi.EQUALS)&&(r=this.parseValueLiteral(!0));var a=this.parseDirectives(!0);return{kind:Ei.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:a,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:Ei.INTERFACE_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Ei.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(Oi.EQUALS)){this.expectOptionalToken(Oi.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(Oi.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Ei.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Oi.BRACE_L,this.parseEnumValueDefinition,Oi.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ei.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Ei.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Oi.BRACE_L,this.parseInputValueDef,Oi.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Oi.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Oi.BRACE_L,this.parseOperationTypeDefinition,Oi.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Ei.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Ei.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ei.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ei.INTERFACE_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ei.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ei.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ei.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Oi.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return{kind:Ei.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:a,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(Oi.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(Oi.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Di[t.value])return t;throw this.unexpected(e)},t.loc=function(e){if(!this._options.noLocation)return new Mi(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw bi(this._lexer.source,t.start,"Expected ".concat(e,", found ").concat(Fi(t)))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Oi.NAME||t.value!==e)throw bi(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Fi(t)));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Oi.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=e||this._lexer.token;return bi(this._lexer.source,t.start,"Unexpected ".concat(Fi(t)))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function Mi(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Fi(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}di(Mi,(function(){return{start:this.start,end:this.end}}));var Bi=function(e){return e&&e.default||e}(Object.freeze({__proto__:null,parse:function(e,t){return new Ri(e,t).parseDocument()},parseValue:function(e,t){var n=new Ri(e,t);n.expectToken(Oi.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(Oi.EOF),r},parseType:function(e,t){var n=new Ri(e,t);n.expectToken(Oi.SOF);var r=n.parseTypeReference();return n.expectToken(Oi.EOF),r}})),Pi=Bi.parse;function Li(e){return e.replace(/[\s,]+/g," ").trim()}var ji={},Ui={};var qi=!0;var zi=!1;function Vi(e){var t=Li(e);if(ji[t])return ji[t];var n=Pi(e,{experimentalFragmentVariables:zi});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,a,o,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(a=t[s[i]],"[object Object]"!==(o=Object.prototype.toString.call(a))&&"[object Array]"!==o||(t[s[i]]=e(a,!0)));return t}(n=function(e){for(var t,n={},r=[],i=0;i<e.definitions.length;i++){var a=e.definitions[i];if("FragmentDefinition"===a.kind){var o=a.name.value,s=Li((t=a.loc).source.body.substring(t.start,t.end));Ui.hasOwnProperty(o)&&!Ui[o][s]?(qi&&console.warn("Warning: fragment with name "+o+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Ui[o][s]=!0):Ui.hasOwnProperty(o)||(Ui[o]={},Ui[o][s]=!0),n[s]||(n[s]=!0,r.push(a))}else r.push(a)}return e.definitions=r,e}(n),!1),ji[t]=n,n}function Hi(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return Vi(n)}Hi.default=Hi,Hi.resetCaches=function(){ji={},Ui={}},Hi.disableFragmentWarnings=function(){qi=!1},Hi.enableExperimentalFragmentVariables=function(){zi=!0},Hi.disableExperimentalFragmentVariables=function(){zi=!1};var $i=Hi,Wi=$i.resetCaches,Qi=$i.disableFragmentWarnings,Gi=$i.enableExperimentalFragmentVariables,Yi=$i.disableExperimentalFragmentVariables,Ki=Object.freeze({__proto__:null,resetCaches:Wi,disableFragmentWarnings:Qi,enableExperimentalFragmentVariables:Gi,disableExperimentalFragmentVariables:Yi,gql:$i,ApolloClient:li,ObservableQuery:qn,get NetworkStatus(){return Fn},isApolloError:Mn,ApolloError:Bn,get Cache(){return yr},ApolloCache:br,InMemoryCache:ni,MissingFieldError:Er,defaultDataIdFromObject:$r,makeVar:zr,fromError:Vt,toPromise:function(e){var t=!1;return new Promise((function(n,r){e.subscribe({next:function(e){t?"production"===process.env.NODE_ENV||Me.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})}))},fromPromise:function(e){return new Ot((function(t){e.then((function(e){t.next(e),t.complete()})).catch(t.error.bind(t))}))},throwServerError:Ht,Observable:Ot,isReference:Xe,makeReference:Je,empty:Kt,from:Zt,split:Jt,concat:Xt,execute:en,ApolloLink:Yt,parseAndCheckHttpResponse:nn,serializeFetchParameter:rn,fallbackHttpConfig:gn,selectHttpOptionsAndBody:yn,checkFetcher:bn,createSignalIfSupported:En,selectURI:wn,createHttpLink:On,HttpLink:An,rewriteURIForGET:xn}),Zi=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r},Ji=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof Zi},Xi=function(e,t,n){e.append(t,n,n.name)},ea=Ji,ta=Ki.ApolloLink,na=Ki.Observable,ra=Cn.createSignalIfSupported,ia=Cn.fallbackHttpConfig,aa=Cn.parseAndCheckHttpResponse,oa=Cn.rewriteURIForGET,sa=Cn.selectHttpOptionsAndBody,ua=Cn.selectURI,la=Cn.serializeFetchParameter,ca=function(e){var t=void 0===e?{}:e,n=t.uri,r=void 0===n?"/graphql":n,i=t.useGETForQueries,a=t.isExtractableFile,o=void 0===a?ea:a,s=t.FormData,u=t.formDataAppendFile,l=void 0===u?Xi:u,c=t.fetch,d=t.fetchOptions,f=t.credentials,p=t.headers,h={http:{includeExtensions:t.includeExtensions},options:d,credentials:f,headers:p};return new ta((function(e){var t=e.getContext(),n=t.clientAwareness,a=(n=void 0===n?{}:n).name,u=n.version,d=t.headers,f={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:_e({},a&&{"apollographql-client-name":a},u&&{"apollographql-client-version":u},d)},p=sa(e,ia,h,f),m=p.options,v=p.body,g=function e(t,n,r){var i;void 0===n&&(n=""),void 0===r&&(r=Ji);var a=new Map;function o(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(r(t))i=null,o([n],t);else{var s=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)i=Array.prototype.map.call(t,(function(e,t){return o([""+s+t],e),null}));else if(Array.isArray(t))i=t.map((function(t,n){var i=e(t,""+s+n,r);return i.files.forEach(o),i.clone}));else if(t&&t.constructor===Object)for(var u in i={},t){var l=e(t[u],""+s+u,r);l.files.forEach(o),i[u]=l.clone}else i=t}return{clone:i,files:a}}(v,"",o),y=g.clone,b=g.files,E=ua(e,r);if(b.size){delete m.headers["content-type"];var w=new(s||FormData);w.append("operations",la(y,"Payload"));var x={},O=0;b.forEach((function(e){x[++O]=e})),w.append("map",JSON.stringify(x)),O=0,b.forEach((function(e,t){l(w,++O,t)})),m.body=w}else if(i&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var A=oa(E,v),C=A.newURI,S=A.parseError;if(S)return new na((function(e){e.error(S)}));E=C}else m.body=la(y,"Payload");var N=ra().controller;N&&(m.signal&&m.signal.addEventListener("abort",(function(){N.abort()})),m.signal=N.signal);var I=c||fetch;return new na((function(t){var n;return I(E,m).then((function(t){return e.setContext({response:t}),t})).then(aa(e)).then((function(e){t.next(e),t.complete()})).catch((function(e){n||(e.result&&e.result.errors&&e.result.data?t.next(e.result):t.error(e))})),function(){n=!0,N&&N.abort()}}))}))};var da="function"==typeof Symbol&&Symbol.for?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function fa(){return n[da]||Object.defineProperty(n,da,{value:n.createContext({}),enumerable:!1,configurable:!0,writable:!1}),n[da]}var pa,ha=function(e){var t=e.client,r=e.children,i=fa();return n.createElement(i.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),"production"===process.env.NODE_ENV?Me(e.client,27):Me(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'),n.createElement(i.Provider,{value:e},r)}))};!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(pa||(pa={}));var ma=new Map;function va(e){var t;switch(e){case pa.Query:t="Query";break;case pa.Mutation:t="Mutation";break;case pa.Subscription:t="Subscription"}return t}var ga=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!kn(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;"production"===process.env.NODE_ENV?Me(!!e,28):Me(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.');var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=function(e){var t,n,r=ma.get(e);if(r)return r;"production"===process.env.NODE_ENV?Me(!!e&&!!e.kind,33):Me(!!e&&!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document");var i=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),o=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));"production"===process.env.NODE_ENV?Me(!i.length||a.length||o.length||s.length,34):Me(!i.length||a.length||o.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"),"production"===process.env.NODE_ENV?Me(a.length+o.length+s.length<=1,35):Me(a.length+o.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+e+" had "+a.length+" queries, "+s.length+" subscriptions and "+o.length+" mutations. You can use 'compose' to join multiple operation types to a component"),n=a.length?pa.Query:pa.Mutation,a.length||o.length||(n=pa.Subscription);var u=a.length?a:o.length?o:s;"production"===process.env.NODE_ENV?Me(1===u.length,36):Me(1===u.length,"react-apollo only supports one definition per HOC. "+e+" had "+u.length+" definitions. You can use 'compose' to join multiple operation types to a component");var l=u[0];t=l.variableDefinitions||[];var c={name:l.name&&"Name"===l.name.kind?l.name.value:"data",type:n,variables:t};return ma.set(e,c),c}(e),r=va(t),i=va(n.type);"production"===process.env.NODE_ENV?Me(n.type===t,29):Me(n.type===t,"Running a "+r+" requires a graphql "+r+", but a "+i+" was used instead.")},e}(),ya=(function(e){function t(t){var n=t.options,r=t.context,i=t.setResult,a=e.call(this,n,r)||this;return a.currentObservable={},a.setResult=i,a.initialize(n),a}I(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var n=this.getOptions().shouldResubscribe;return"function"==typeof n&&(n=!!n(this.getOptions())),!1!==n&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!kn(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),T(T({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this.getOptions().onSubscriptionComplete;e&&e(),this.endSubscription()},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)}}(ga),function(e){function t(t){var n=t.options,r=t.context,i=t.result,a=t.setResult,o=e.call(this,n,r)||this;return o.runMutation=function(e){void 0===e&&(e={}),o.onMutationStart();var t=o.generateNewMutationId();return o.mutate(e).then((function(e){return o.onMutationCompleted(e,t),e})).catch((function(e){if(o.onMutationError(e,t),!o.getOptions().onError)throw e}))},o.verifyDocumentType(n.mutation,pa.Mutation),o.result=i,o.setResult=a,o.mostRecentMutationId=0,o}return I(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,pa.Mutation),[this.runMutation,T(T({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(zt(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,i=n.ignoreResults,a=e.data,o=e.errors,s=o&&o.length>0?new Bn({graphQLErrors:o}):void 0;this.isMostRecentMutation(t)&&!i&&this.updateResult({called:!0,loading:!1,data:a,error:s}),r&&r(a)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&kn(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(ga)),ba=function(e){function t(t){var n=t.options,r=t.context,i=t.onNewData,a=e.call(this,n,r)||this;return a.previousData={},a.runLazy=!1,a.runLazyQuery=function(e){a.cleanup(),a.runLazy=!0,a.lazyOptions=e,a.onNewData()},a.getQueryResult=function(){var e=a.observableQueryFields(),t=a.getOptions();if(t.skip)e=T(T({},e),{data:void 0,error:void 0,loading:!1,called:!0});else if(a.currentObservable){var n=a.currentObservable.getCurrentResult(),r=n.data,i=n.loading,o=n.partial,s=n.networkStatus,u=n.errors,l=n.error;if(u&&u.length>0&&(l=new Bn({graphQLErrors:u})),e=T(T({},e),{data:r,loading:i,networkStatus:s,error:l,called:!0}),i);else if(l)Object.assign(e,{data:(a.currentObservable.getLastResult()||{}).data});else{var c=a.currentObservable.options.fetchPolicy;if(t.partialRefetch&&o&&(!r||0===Object.keys(r).length)&&"cache-only"!==c)return Object.assign(e,{loading:!0,networkStatus:Fn.loading}),e.refetch(),e}}return e.client=a.client,a.setOptions(t,!0),a.previousData.loading=a.previousData.result&&a.previousData.result.loading||!1,a.previousData.result=e,a.currentObservable&&a.currentObservable.resetQueryStoreErrors(),e},a.obsRefetch=function(e){return a.currentObservable.refetch(e)},a.obsFetchMore=function(e){return a.currentObservable.fetchMore(e)},a.obsUpdateQuery=function(e){return a.currentObservable.updateQuery(e)},a.obsStartPolling=function(e){var t;null===(t=a.currentObservable)||void 0===t||t.startPolling(e)},a.obsStopPolling=function(){var e;null===(e=a.currentObservable)||void 0===e||e.stopPolling()},a.obsSubscribeToMore=function(e){return a.currentObservable.subscribeToMore(e)},a.onNewData=i,a}return I(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=n),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:Fn.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this,t=this.getOptions();return!t.skip&&!1!==t.ssr&&new Promise((function(t){return e.startQuerySubscription(t)}))},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,n=void 0!==t&&t;return this.isMounted=!0,n&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=T(T({},t.variables),this.lazyOptions.variables),t.context=T(T({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteResult=function(){var e=this.getQueryResult();return this.startQuerySubscription(),e},t.prototype.getExecuteSsrResult=function(){var e,t=!1===this.getOptions().ssr,n=this.refreshClient().client.disableNetworkFetches,r=T({loading:!0,networkStatus:Fn.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());return t&&(this.ssrInitiated()||n)?(this.previousData.result=r,r):(this.ssrInitiated()&&(e=this.context.renderPromises.addQueryPromise(this,this.getQueryResult)||r),e)},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,pa.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),T(T({},e),{displayName:t,context:e.context})},t.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=T(T({},e),{children:null}),this.currentObservable=this.refreshClient().client.watchQuery(T({},e)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},t.prototype.updateObservableQuery=function(){if(!this.getOptions().skip)if(this.currentObservable){var e=T(T({},this.prepareObservableQueryOptions()),{children:null});kn(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(e){var t=this;void 0===e&&(e=this.onNewData),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(n){var r=n.loading,i=n.networkStatus,a=n.data,o=t.previousData.result;o&&o.loading===r&&o.networkStatus===i&&kn(o.data,a)||e()},error:function(n){if(t.resubscribeToQuery(),!n.hasOwnProperty("graphQLErrors"))throw n;var r=t.previousData.result;(r&&r.loading||!kn(n,t.previousData.error))&&(t.previousData.error=n,e())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var t=e.getLastError(),n=e.getLastResult();e.resetLastResults(),this.startQuerySubscription(),Object.assign(e,{lastError:t,lastResult:n})}},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable&&this.previousData.result){var e=this.previousData.result,t=e.data,n=e.loading,r=e.error;if(!n){var i=this.getOptions(),a=i.query,o=i.variables,s=i.onCompleted,u=i.onError,l=i.skip;if(this.previousOptions&&!this.previousData.loading&&kn(this.previousOptions.query,a)&&kn(this.previousOptions.variables,o))return;!s||r||l?u&&r&&u(r):s(t)}}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(ga);function Ea(e,n,r){void 0===r&&(r=!1);var i=t.useContext(fa()),a=t.useReducer((function(e){return e+1}),0),o=a[0],s=a[1],u=n?T(T({},n),{query:e}):{query:e},l=t.useRef(),c=l.current||new ba({options:u,context:i,onNewData:function(){c.ssrInitiated()?s():Promise.resolve().then(s)}});c.setOptions(u),c.context=i,c.ssrInitiated()&&!l.current&&(l.current=c);var d=function(e,n){var r=t.useRef();return r.current&&kn(n,r.current.key)||(r.current={key:n,value:e()}),r.current.value}((function(){return r?c.executeLazy():c.execute()}),{options:T(T({},u),{onError:void 0,onCompleted:void 0}),context:i,tick:o}),f=r?d[1]:d;return t.useEffect((function(){return l.current||(l.current=c),function(){return c.cleanup()}}),[]),t.useEffect((function(){return c.afterExecute({lazy:r})}),[f.loading,f.networkStatus,f.error,f.data]),d}function wa(e,t){return Ea(e,t,!0)}function xa(e,n){var r=t.useContext(fa()),i=t.useState({called:!1,loading:!1}),a=i[0],o=i[1],s=n?T(T({},n),{mutation:e}):{mutation:e},u=t.useRef();var l=(u.current||(u.current=new ya({options:s,context:r,result:a,setResult:o})),u.current);return l.setOptions(s),l.context=r,t.useEffect((function(){return l.afterExecute()})),l.execute(a)}function Oa(e,t){return Ea(e,t,!1)}var Aa={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}};function Ca(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Sa={date:Ca({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Ca({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ca({formats:{full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Na={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"};function Ia(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Ta(e){return function(t,n){var r=String(t),i=n||{},a=r.match(e.matchPattern);if(!a)return null;var o=a[0],s=r.match(e.parsePattern);if(!s)return null;var u=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(o.length)}}}function _a(e){return function(t,n){var r=String(t),i=n||{},a=i.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var u,l=s[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(c,(function(e){return e.test(l)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,(function(e){return e.test(l)})),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(l.length)}}}var ka={code:"fr",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof Aa[e]?Aa[e]:1===t?Aa[e].one:Aa[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"dans "+r:"il y a "+r:r},formatLong:Sa,formatRelative:function(e,t,n,r){return Na[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=String((t||{}).unit);return 0===n?n:n+("year"===r||"hour"===r||"week"===r?1===n?"ère":"ème":1===n?"er":"ème")},era:Ia({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},defaultWidth:"wide"}),quarter:Ia({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Ia({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},defaultWidth:"wide"}),day:Ia({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Ia({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:Ta({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:_a({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:_a({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_a({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:_a({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:_a({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function Da(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ra(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ma(e){Ra(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Fa(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t);return n.setDate(n.getDate()+r),n}function Ba(e){Ra(1,arguments);var t=Ma(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Pa(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t),i=n.getMonth()+r,a=new Date(0);a.setFullYear(n.getFullYear(),i,1),a.setHours(0,0,0,0);var o=Ba(a);return n.setMonth(i,Math.min(o,n.getDate())),n}function La(e,t){Ra(2,arguments);var n=Da(t);return Pa(e,12*n)}function ja(e){Ra(1,arguments);var t=Ma(e);return t.setHours(23,59,59,999),t}function Ua(e,t){Ra(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,a=null==i?0:Da(i),o=null==n.weekStartsOn?a:Da(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Ma(e),u=s.getDay(),l=6+(u<o?-7:0)-(u-o);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function qa(e){Ra(1,arguments);var t=Ma(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function za(e){Ra(1,arguments);var t=Ma(e);return!isNaN(t)}var Va={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};var Ha={date:Ca({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ca({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ca({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};var Wa={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof Va[e]?Va[e]:1===t?Va[e].one:Va[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:Ha,formatRelative:function(e,t,n,r){return $a[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Ia({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ia({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Ia({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ia({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ia({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Ta({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:_a({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:_a({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_a({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:_a({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:_a({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qa(e,t){Ra(2,arguments);var n=Ma(e).getTime(),r=Da(t);return new Date(n+r)}function Ga(e,t){Ra(2,arguments);var n=Da(t);return Qa(e,-n)}function Ya(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ka=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ya("yy"===t?r%100:r,t.length)},Za=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ya(n+1,2)},Ja=function(e,t){return Ya(e.getUTCDate(),t.length)},Xa=function(e,t){return Ya(e.getUTCHours()%12||12,t.length)},eo=function(e,t){return Ya(e.getUTCHours(),t.length)},to=function(e,t){return Ya(e.getUTCMinutes(),t.length)},no=function(e,t){return Ya(e.getUTCSeconds(),t.length)},ro=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ya(Math.floor(r*Math.pow(10,n-3)),t.length)};function io(e){Ra(1,arguments);var t=1,n=Ma(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function ao(e){Ra(1,arguments);var t=Ma(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=io(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=io(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function oo(e){Ra(1,arguments);var t=ao(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=io(n);return r}function so(e){Ra(1,arguments);var t=Ma(e),n=io(t).getTime()-oo(t).getTime();return Math.round(n/6048e5)+1}function uo(e,t){Ra(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,a=null==i?0:Da(i),o=null==n.weekStartsOn?a:Da(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Ma(e),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function lo(e,t){Ra(1,arguments);var n=Ma(e,t),r=n.getUTCFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=null==o?1:Da(o),u=null==i.firstWeekContainsDate?s:Da(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=uo(l,t),d=new Date(0);d.setUTCFullYear(r,0,u),d.setUTCHours(0,0,0,0);var f=uo(d,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function co(e,t){Ra(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=null==i?1:Da(i),o=null==n.firstWeekContainsDate?a:Da(n.firstWeekContainsDate),s=lo(e,t),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=uo(u,t);return l}function fo(e,t){Ra(1,arguments);var n=Ma(e),r=uo(n,t).getTime()-co(n,t).getTime();return Math.round(r/6048e5)+1}var po="midnight",ho="noon",mo="morning",vo="afternoon",go="evening",yo="night",bo={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ka(e,t)},Y:function(e,t,n,r){var i=lo(e,r),a=i>0?i:1-i;return"YY"===t?Ya(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Ya(a,t.length)},R:function(e,t){return Ya(ao(e),t.length)},u:function(e,t){return Ya(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ya(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ya(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Za(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ya(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=fo(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Ya(i,t.length)},I:function(e,t,n){var r=so(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ya(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ja(e,t)},D:function(e,t,n){var r=function(e){Ra(1,arguments);var t=Ma(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ya(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ya(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ya(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Ya(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?ho:0===i?po:i/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?go:i>=12?vo:i>=4?mo:yo,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xa(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):eo(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ya(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ya(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):to(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):no(e,t)},S:function(e,t){return ro(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return wo(i);case"XXXX":case"XX":return xo(i);case"XXXXX":case"XXX":default:return xo(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return wo(i);case"xxxx":case"xx":return xo(i);case"xxxxx":case"xxx":default:return xo(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Eo(i,":");case"OOOO":default:return"GMT"+xo(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Eo(i,":");case"zzzz":default:return"GMT"+xo(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Ya(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ya((r._originalDate||e).getTime(),t.length)}};function Eo(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+Ya(a,2)}function wo(e,t){return e%60==0?(e>0?"-":"+")+Ya(Math.abs(e)/60,2):xo(e,t)}function xo(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Ya(Math.floor(i/60),2)+n+Ya(i%60,2)}function Oo(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Ao(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var Co={p:Ao,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],a=r[2];if(!a)return Oo(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Oo(i,t)).replace("{{time}}",Ao(a,t))}};function So(e){return e.getTime()%6e4}function No(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());return t.setSeconds(0,0),6e4*n+(n>0?(6e4+So(t))%6e4:So(t))}var Io=["D","DD"],To=["YY","YYYY"];function _o(e){return-1!==Io.indexOf(e)}function ko(e){return-1!==To.indexOf(e)}function Do(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var Ro=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fo=/^'([^]*?)'?$/,Bo=/''/g,Po=/[a-zA-Z]/;function Lo(e,t,n){Ra(2,arguments);var r=String(t),i=n||{},a=i.locale||Wa,o=a.options&&a.options.firstWeekContainsDate,s=null==o?1:Da(o),u=null==i.firstWeekContainsDate?s:Da(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=a.options&&a.options.weekStartsOn,c=null==l?0:Da(l),d=null==i.weekStartsOn?c:Da(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var f=Ma(e);if(!za(f))throw new RangeError("Invalid time value");var p=No(f),h=Ga(f,p),m={firstWeekContainsDate:u,weekStartsOn:d,locale:a,_originalDate:f},v=r.match(Mo).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Co[t])(e,a.formatLong,m):e})).join("").match(Ro).map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return jo(e);var n=bo[t];if(n)return!i.useAdditionalWeekYearTokens&&ko(e)&&Do(e),!i.useAdditionalDayOfYearTokens&&_o(e)&&Do(e),n(h,e,a.localize,m);if(t.match(Po))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join("");return v}function jo(e){return e.match(Fo)[1].replace(Bo,"'")}function Uo(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getTime()>r.getTime()}function qo(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getTime()<r.getTime()}function zo(e){Ra(1,arguments);var t=Ma(e);return t.setHours(0,0,0,0),t}function Vo(e,t){Ra(2,arguments);var n=zo(e),r=zo(t);return n.getTime()===r.getTime()}function Ho(e){Ra(1,arguments);var t=Ma(e);return t.setMinutes(0,0,0),t}function $o(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Wo(e,t,n){Ra(2,arguments);var r=n||{},i=r.locale,a=i&&i.options&&i.options.weekStartsOn,o=null==a?0:Da(a),s=null==r.weekStartsOn?o:Da(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Ma(e),l=Da(t),c=u.getUTCDay(),d=l%7,f=(d+7)%7,p=(f<s?7:0)+l-c;return u.setUTCDate(u.getUTCDate()+p),u}var Qo=/^(1[0-2]|0?\d)/,Go=/^(3[0-1]|[0-2]?\d)/,Yo=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ko=/^(5[0-3]|[0-4]?\d)/,Zo=/^(2[0-3]|[0-1]?\d)/,Jo=/^(2[0-4]|[0-1]?\d)/,Xo=/^(1[0-1]|0?\d)/,es=/^(1[0-2]|0?\d)/,ts=/^[0-5]?\d/,ns=/^[0-5]?\d/,rs=/^\d/,is=/^\d{1,2}/,as=/^\d{1,3}/,os=/^\d{1,4}/,ss=/^-?\d+/,us=/^-?\d/,ls=/^-?\d{1,2}/,cs=/^-?\d{1,3}/,ds=/^-?\d{1,4}/,fs=/^([+-])(\d{2})(\d{2})?|Z/,ps=/^([+-])(\d{2})(\d{2})|Z/,hs=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ms=/^([+-])(\d{2}):(\d{2})|Z/,vs=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function gs(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function ys(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function bs(e,t){return gs(ss,e,t)}function Es(e,t,n){switch(e){case 1:return gs(rs,t,n);case 2:return gs(is,t,n);case 3:return gs(as,t,n);case 4:return gs(os,t,n);default:return gs(new RegExp("^\\d{1,"+e+"}"),t,n)}}function ws(e,t,n){switch(e){case 1:return gs(us,t,n);case 2:return gs(ls,t,n);case 3:return gs(cs,t,n);case 4:return gs(ds,t,n);default:return gs(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function xs(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Os(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}var As=[31,28,31,30,31,30,31,31,30,31,30,31],Cs=[31,29,31,30,31,30,31,31,30,31,30,31];function Ss(e){return e%400==0||e%4==0&&e%100!=0}var Ns={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return Es(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Es(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var a=Os(n.year,i);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return Es(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Es(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=lo(e,r);if(n.isTwoDigitYear){var a=Os(n.year,i);return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),uo(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),uo(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return ws("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),io(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return ws("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return Es(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return Es(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return gs(Qo,e,i);case"MM":return Es(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return gs(Qo,e,i);case"LL":return Es(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return gs(Ko,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return uo(function(e,t,n){Ra(2,arguments);var r=Ma(e),i=Da(t),a=fo(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return gs(Ko,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return io(function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t),i=so(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,parse:function(e,t,n,r){switch(t){case"d":return gs(Go,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Es(t.length,e)}},validate:function(e,t,n){var r=Ss(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=Cs[i]:t>=1&&t<=As[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,parse:function(e,t,n,r){switch(t){case"D":case"DD":return gs(Yo,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Es(t.length,e)}},validate:function(e,t,n){return Ss(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Wo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Es(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Wo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Es(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=Wo(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Es(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){Ra(2,arguments);var n=Da(t);n%7==0&&(n-=7);var r=1,i=Ma(e),a=i.getUTCDay(),o=n%7,s=(o+7)%7,u=(s<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+u),i}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(xs(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(xs(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(xs(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return gs(es,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return gs(Zo,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return gs(Xo,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return gs(Jo,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return gs(ts,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return gs(ns,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Es(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return Es(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return ys(fs,e);case"XX":return ys(ps,e);case"XXXX":return ys(hs,e);case"XXXXX":return ys(vs,e);case"XXX":default:return ys(ms,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return ys(fs,e);case"xx":return ys(ps,e);case"xxxx":return ys(hs,e);case"xxxxx":return ys(vs,e);case"xxx":default:return ys(ms,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return bs(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return bs(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Is=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ts=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_s=/^'([^]*?)'?$/,ks=/''/g,Ds=/\S/,Rs=/[a-zA-Z]/;function Ms(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function Fs(e){return e.match(_s)[1].replace(ks,"'")}function Bs(e){Ra(1,arguments);var t=Ma(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ps(e){Ra(1,arguments);var t=Ma(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ls(e,t){Ra(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,a=null==i?0:Da(i),o=null==n.weekStartsOn?a:Da(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Ma(e),u=s.getDay(),l=(u<o?7:0)+u-o;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function js(e){Ra(1,arguments);var t=Ma(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var Us=function(){function e(e){var t=(void 0===e?{}:e).locale;this.yearFormat="yyyy",this.yearMonthFormat="MMMM yyyy",this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return Fa(e,t)},e.prototype.isValid=function(e){return za(this.date(e))},e.prototype.getDiff=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getTime()-r.getTime()}(e,this.date(t))},e.prototype.isAfter=function(e,t){return Uo(e,t)},e.prototype.isBefore=function(e,t){return qo(e,t)},e.prototype.startOfDay=function(e){return zo(e)},e.prototype.endOfDay=function(e){return ja(e)},e.prototype.getHours=function(e){return function(e){Ra(1,arguments);var t=Ma(e),n=t.getHours();return n}(e)},e.prototype.setHours=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t);return n.setHours(r),n}(e,t)},e.prototype.setMinutes=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t);return n.setMinutes(r),n}(e,t)},e.prototype.getSeconds=function(e){return function(e){Ra(1,arguments);var t=Ma(e),n=t.getSeconds();return n}(e)},e.prototype.setSeconds=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t);return n.setSeconds(r),n}(e,t)},e.prototype.isSameDay=function(e,t){return Vo(e,t)},e.prototype.isSameMonth=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t)},e.prototype.isSameYear=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getFullYear()===r.getFullYear()}(e,t)},e.prototype.isSameHour=function(e,t){return function(e,t){Ra(2,arguments);var n=Ho(e),r=Ho(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.startOfMonth=function(e){return Bs(e)},e.prototype.endOfMonth=function(e){return Ps(e)},e.prototype.getYear=function(e){return function(e){Ra(1,arguments);var t=Ma(e),n=t.getFullYear();return n}(e)},e.prototype.setYear=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t);return isNaN(n)?new Date(NaN):(n.setFullYear(r),n)}(e,t)},e.prototype.date=function(e){return void 0===e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:function(e,t,n,r){Ra(3,arguments);var i=String(e),a=String(t),o=r||{},s=o.locale||Wa;if(!s.match)throw new RangeError("locale must contain match property");var u=s.options&&s.options.firstWeekContainsDate,l=null==u?1:Da(u),c=null==o.firstWeekContainsDate?l:Da(o.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,f=null==d?0:Da(d),p=null==o.weekStartsOn?f:Da(o.weekStartsOn);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===a)return""===i?Ma(n):new Date(NaN);var h,m={firstWeekContainsDate:c,weekStartsOn:p,locale:s},v=[{priority:10,set:Ms,index:0}],g=a.match(Ts).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Co[t])(e,s.formatLong,m):e})).join("").match(Is),y=[];for(h=0;h<g.length;h++){var b=g[h];!o.useAdditionalWeekYearTokens&&ko(b)&&Do(b),!o.useAdditionalDayOfYearTokens&&_o(b)&&Do(b);var E=b[0],w=Ns[E];if(w){var x=w.incompatibleTokens;if(Array.isArray(x)){for(var O=void 0,A=0;A<y.length;A++){var C=y[A].token;if(-1!==x.indexOf(C)||C===E){O=y[A];break}}if(O)throw new RangeError("The format string mustn't contain `".concat(O.fullToken,"` and `").concat(b,"` at the same time"))}else if("*"===w.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:E,fullToken:b});var S=w.parse(i,b,s.match,m);if(!S)return new Date(NaN);v.push({priority:w.priority,set:w.set,validate:w.validate,value:S.value,index:v.length}),i=S.rest}else{if(E.match(Rs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if("''"===b?b="'":"'"===E&&(b=Fs(b)),0!==i.indexOf(b))return new Date(NaN);i=i.slice(b.length)}}if(i.length>0&&Ds.test(i))return new Date(NaN);var N=v.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return v.filter((function(t){return t.priority===e})).reverse()})).map((function(e){return e[0]})),I=Ma(n);if(isNaN(I))return new Date(NaN);var T=Ga(I,No(I)),_={};for(h=0;h<N.length;h++){var k=N[h];if(k.validate&&!k.validate(T,k.value,m))return new Date(NaN);var D=k.set(T,_,k.value,m);D[0]?(T=D[0],$o(_,D[1])):T=D}return T}(e,t,new Date,{locale:this.locale})},e.prototype.format=function(e,t){return Lo(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||function(e,t){Ra(2,arguments);var n=Ma(e),r=Ma(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Uo(e,ja(t))},e.prototype.isBeforeDay=function(e,t){return qo(e,zo(t))},e.prototype.isBeforeYear=function(e,t){return qo(e,js(t))},e.prototype.isAfterYear=function(e,t){return Uo(e,qa(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.setMonth=function(e,t){return function(e,t){Ra(2,arguments);var n=Ma(e),r=Da(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var s=Ba(o);return n.setMonth(r,Math.min(a,s)),n}(e,t)},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return Pa(e,1)},e.prototype.getPreviousMonth=function(e){return Pa(e,-1)},e.prototype.getMonthArray=function(e){for(var t=[js(e)];t.length<12;){var n=t[t.length-1];t.push(this.getNextMonth(n))}return t},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return function(e,t){Ra(1,arguments);var n=e||{},r=Ma(n.start),i=Ma(n.end),a=i.getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var o=[],s=r;s.setHours(0,0,0,0);var u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=a;)o.push(Ma(s)),s.setDate(s.getDate()+u),s.setHours(0,0,0,0);return o}({start:Ls(t,{locale:this.locale}),end:Ua(t,{locale:this.locale})}).map((function(t){return e.format(t,"EEEEEE")}))},e.prototype.getWeekArray=function(e){for(var t=Ls(Bs(e),{locale:this.locale}),n=Ua(Ps(e),{locale:this.locale}),r=0,i=t,a=[];qo(i,n);){var o=Math.floor(r/7);a[o]=a[o]||[],a[o].push(i),i=Fa(i,1),r+=1}return a},e.prototype.getYearRange=function(e,t){for(var n=js(e),r=qa(t),i=[],a=n;qo(a,r);)i.push(a),a=La(a,1);return i},e.prototype.getCalendarHeaderText=function(e){return this.format(e,this.yearMonthFormat)},e.prototype.getYearText=function(e){return this.format(e,"yyyy")},e.prototype.getDatePickerHeaderText=function(e){return this.format(e,"EEE, MMM d")},e.prototype.getDateTimePickerHeaderText=function(e){return this.format(e,"MMM d")},e.prototype.getMonthText=function(e){return this.format(e,"MMMM")},e.prototype.getDayText=function(e){return this.format(e,"d")},e.prototype.getHourText=function(e,t){return this.format(e,t?"hh":"HH")},e.prototype.getMinuteText=function(e){return this.format(e,"mm")},e.prototype.getSecondText=function(e){return this.format(e,"ss")},e}();function qs(e,t){Ra(2,arguments);var n=Da(t);return Fa(e,-n)}var zs,Vs=function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||void 0,address1:e.address1||void 0,address2:e.address2||void 0,zipCode:e.zipCode||void 0,city:e.city||void 0,nationality:e.nationality||void 0,countryOfResidence:e.countryOfResidence||void 0,birthDate:e.birthDate||void 0,firstName2:e.firstName2||void 0,lastName2:e.lastName2||void 0,email2:e.email2||void 0,phone2:e.phone2||void 0}},Hs=function(e){var t="";if(e.city||e.zipCode)return e.city&&(t=e.city),e.zipCode&&(t=t+" ("+e.zipCode+")"),e.address1&&(t=e.address1+" - "+t),t},$s=function(e){return{id:e.id,distribId:e.distribId,selectedUserIds:e.selectedUserIds,registeredUserIds:e.registeredUserIds,start:new Date(e.start),end:new Date(e.end)}},Ws=function(e){return{id:e.id,mode:e.mode,start:e.start?new Date(e.start):void 0,end:e.end?new Date(e.end):void 0,orderEndDate:e.orderEndDate?new Date(e.orderEndDate):void 0,slots:e.slots?e.slots.map($s):void 0,inNeedUsers:e.slots?e.inNeedUsers.map(Vs):void 0}},Qs=function(e){return k(void 0,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return e.ok?[3,2]:[4,e.json()];case 1:throw t=n.sent(),new Error(""+(t.message||t.error.message));case 2:return[2,e.json()]}}))}))},Gs=function(e,t){return k(void 0,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return[4,fetch(e,T(T({},t),{credentials:"include"}))];case 1:return n=r.sent(),[2,Qs(n)]}}))}))},Ys=function(e){return Gs(e)},Ks=function(e,t,n){return void 0===n&&(n="json"),Gs(e,T({method:"POST",headers:T({},"json"===n?{Accept:"application/json","Content-Type":"application/json"}:{})},t?{body:"json"===n?JSON.stringify(t):t}:{}))},Zs=(zs="http://"+(process.env.API_HOSTNAME||"localhost")+":"+(process.env.API_PORT||"3000"),{setUrl:function(e){zs=e},getToken:function(){return k(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return[4,Ys(zs+"/user/getToken")];case 1:return(e=t.sent())?[2,e.token]:[2,null]}}))}))},login:function(e,t){return k(this,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return[4,Ks(zs+"/auth/login",{email:e,password:t})];case 1:return(n=r.sent())?(localStorage.setItem("token",n.token),[2,Vs(n.user)]):[2,null]}}))}))},me:function(){return k(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return[4,Ys(zs+"/user/me")];case 1:return(e=t.sent())?[2,Vs(e)]:[2,null]}}))}))},updateMe:function(e,t){return void 0===t&&(t="json"),k(this,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return[4,Ks(zs+"/user/me",e,t)];case 1:return(n=r.sent())?[2,Vs(n)]:[2,null]}}))}))},getGroup:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ys(zs+"/groups/"+e)];case 1:return[2,(t=n.sent())?(r=t,T(T({},function(e){return{id:e.id,name:e.name}}(r)),{iban:r.iban||void 0,user:r.user?Vs(r.user):void 0})):null]}var r}))}))},getUser:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ys(zs+"/users/"+e)];case 1:return[2,(t=n.sent())?Vs(t):null]}}))}))},getGroupUsers:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ys(zs+"/groups/"+e+"/users")];case 1:return[2,(t=n.sent())?t.map(Vs):null]}}))}))},place:{getPlace:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ys(zs+"/places/"+e)];case 1:return[2,(t=n.sent())?(r=t,{id:r.id,name:r.name,address1:r.address1?r.address1:void 0,address2:r.address2?r.address2:void 0,city:r.city?r.city:void 0,zipCode:r.zipCode?r.zipCode:void 0,lat:r.lat?r.lat:void 0,lng:r.lng?r.lng:void 0}):null]}var r}))}))}},distrib:{getDistrib:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ys(zs+"/distributions/"+e)];case 1:return[2,(t=n.sent())?Ws(t):null]}}))}))},getResolvedDistrib:function(e,t){return k(this,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return[4,Ys(zs+"/distributions/"+e+"/resolved")];case 1:return[2,(n=r.sent())?t(n):null]}}))}))},activateSlots:function(e,t,n){return void 0===n&&(n="json"),k(this,void 0,void 0,(function(){var r;return D(this,(function(i){switch(i.label){case 0:return[4,Ks(zs+"/distributions/"+e+"/activateSlots",t,n)];case 1:return[2,(r=i.sent())?Ws(r):null]}}))}))},disableSlots:function(e){return k(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,Ks(zs+"/distributions/"+e+"/desactivateSlots")];case 1:return[2,(t=n.sent())?Ws(t):null]}}))}))},registerMe:function(e,t,n){return void 0===n&&(n="json"),k(this,void 0,void 0,(function(){return D(this,(function(r){switch(r.label){case 0:return[4,Ks(zs+"/distributions/"+e+"/slots/registerMe",t,n)];case 1:return[2,r.sent()]}}))}))},getStatus:function(e){return k(this,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,Ys(zs+"/distributions/"+e+"/slots/me")];case 1:return[2,t.sent()]}}))}))}}}),Js=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=i})));var Xs=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var eu=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nu=function(e,t,n){return t&&tu(e.prototype,t),n&&tu(e,n),e};function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(n,!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var au,ou={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},su=n.createContext();function uu(){return ou}var lu=function(){function e(){eu(this,e),this.usedNamespaces={}}return nu(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function cu(){return au}var du={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ou=iu({},ou,{},e)}(e.options.react),function(e){au=e}(e)}};function fu(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var pu={};function hu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&pu[t[0]]||("string"==typeof t[0]&&(pu[t[0]]=new Date),fu.apply(void 0,t))}function mu(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return hu("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!o(r,e)||i&&!o(a,e))))}var gu=function(e){if(Array.isArray(e))return e};var yu=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}};var bu=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r};var Eu=function(e,t){if(e){if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(e,t):void 0}};var wu=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var xu=function(e,t){return gu(e)||yu(e,t)||Eu(e,t)||wu()};function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(n,!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(t.useContext(su),{}),a=i.i18n,o=i.defaultNS,s=r||a||cu();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new lu),!s){hu("You will need pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}var c=Au({},uu(),{},s.options.react,{},n),d=c.useSuspense,f=e||o||s.options&&s.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var p=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return vu(e,s,c)}));function h(){return{t:s.getFixedT(null,"fallback"===c.nsMode?f:f[0])}}var m=t.useState(h()),v=xu(m,2),g=v[0],y=v[1],b=t.useRef(!0);t.useEffect((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){b.current&&y(h())}return b.current=!0,p||d||mu(s,f,(function(){b.current&&y(h())})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){b.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[f.join()]);var E=[g.t,s,p];if(E.t=g.t,E.i18n=s,E.ready=p,p)return E;if(!p&&!d)return E;throw new Promise((function(e){mu(s,f,(function(){b.current&&y(h()),e()}))}))}var Su=function(e){var t=e.open,i=e.cancelButtonLabel,a=e.confirmButtonLabel,o=e.title,s=e.message,u=e.onCancel,l=e.onConfirm;return n.createElement(r.Dialog,{open:t},o&&n.createElement(r.DialogTitle,null,o),s&&n.createElement(r.DialogContent,null,n.createElement(r.Typography,null,s)),n.createElement(r.DialogActions,null,n.createElement(r.Button,{onClick:u},i),n.createElement(r.Button,{autoFocus:!0,variant:"outlined",color:"primary",onClick:l},a)))};function Nu(e,t){return function(r){var i=R(n.useState(!1),2),a=i[0],o=i[1],s=function(){o(!1)};return n.createElement(n.Fragment,null,n.createElement(e,T({},r,{onClick:function(){o(!0)}})),n.createElement(Su,T({},t,{open:a,onCancel:s,onConfirm:function(){s(),r.onClick&&r.onClick()}})))}}const Iu=[],Tu=Iu.forEach,_u=Iu.slice;function ku(e){return Tu.call(_u.call(arguments,1),t=>{if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}var Du;if("function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Du=global.fetch:"undefined"!=typeof window&&window.fetch&&(Du=window.fetch)),"undefined"!=typeof require&&("undefined"==typeof window||void 0===window.document)){var Ru=Du||require("node-fetch");Ru.default&&(Ru=Ru.default),exports.default=Ru,module.exports=exports.default}var Mu=Object.freeze({__proto__:null});let Fu,Bu,Pu;"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?Fu=global.fetch:"undefined"!=typeof window&&window.fetch&&(Fu=window.fetch)),"function"==typeof XMLHttpRequest&&("undefined"!=typeof global&&global.XMLHttpRequest?Bu=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Bu=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Pu=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Pu=window.ActiveXObject)),Fu||!Mu||Bu||Pu||(Fu=Mu),"function"!=typeof Fu&&(Fu=void 0);const Lu=(e,t)=>{if(t&&"object"==typeof t){let n="";for(const e in t)n+="&"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},ju=(e,t,n,r)=>("function"==typeof n&&(r=n,n=void 0),r=r||(()=>{}),Fu?((e,t,n,r)=>{e.queryStringParams&&(t=Lu(t,e.queryStringParams));const i=ku({},e.customHeaders);n&&(i["Content-Type"]="application/json"),Fu(t,ku({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},"function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then(e=>{if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then(t=>{r(null,{status:e.status,data:t})}).catch(r)}).catch(r)})(e,t,n,r):"function"==typeof XMLHttpRequest||"function"==typeof ActiveXObject?((e,t,n,r)=>{n&&"object"==typeof n&&(n=Lu("",n).slice(1)),e.queryStringParams&&(t=Lu(t,e.queryStringParams));try{let a;a=Bu?new Bu:new Pu("MSXML2.XMLHTTP.3.0"),a.open(n?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");let o=e.customHeaders;if(o="function"==typeof o?o():o,o)for(var i in o)a.setRequestHeader(i,o[i]);a.onreadystatechange=()=>{a.readyState>3&&r(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(n)}catch(e){console&&console.log(e)}})(e,t,n,r):void 0);class Uu{constructor(e,t={},n={}){this.services=e,this.options=t,this.allOptions=n,this.type="backend",this.init(e,t,n)}init(e,t={},n={}){this.services=e,this.options=ku(t,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:e=>JSON.parse(e),stringify:JSON.stringify,parsePayload:(e,t,n)=>({[t]:n||""}),request:ju,reloadInterval:!1,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.allOptions=n,this.options.reloadInterval&&setInterval(()=>this.reload(),this.options.reloadInterval)}readMulti(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(e,t));const i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n,e,t)}read(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));const i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n,e,t)}loadUrl(e,t,n,r){this.options.request(this.options,e,void 0,(i,a)=>{if(a&&a.status>=500&&a.status<600)return t("failed loading "+e,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e,!1);if(i)return t(i,!1);let o,s;try{o=this.options.parse(a.data,n,r)}catch(t){s="failed parsing "+e+" to json"}if(s)return t(s,!1);t(null,o)})}create(e,t,n,r){if(!this.options.addPath)return;"string"==typeof e&&(e=[e]);const i=this.options.parsePayload(t,n,r);e.forEach(e=>{const n=this.services.interpolator.interpolate(this.options.addPath,{lng:e,ns:t});this.options.request(this.options,n,i,(e,t)=>{})})}reload(){const{backendConnector:e,languageUtils:t,logger:n}=this.services,r=e.language;if(r&&"cimode"===r.toLowerCase())return;const i=[],a=e=>{t.toResolveHierarchy(e).forEach(e=>{i.indexOf(e)<0&&i.push(e)})};a(r),this.allOptions.preload&&this.allOptions.preload.forEach(e=>a(e)),i.forEach(t=>{this.allOptions.ns.forEach(r=>{e.read(t,r,"read",null,null,(i,a)=>{i&&n.warn(`loading namespace ${r} for language ${t} failed`,i),!i&&a&&n.log(`loaded namespace ${r} for language ${t}`,a),e.loaded(`${t}|${r}`,i,a)})})})}}Uu.type="backend";c.use(Uu).use(du).init({lng:"fr",fallbackLng:"fr",debug:"production"!==process.env.NODE_ENV&&!1,backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1}});var qu=function(e){return function(t){return n.createElement(n.Suspense,{fallback:n.createElement(r.Box,{p:2},n.createElement(r.CircularProgress,null))},n.createElement(e,T({},t)))}},zu=function(e,t,n){return r=Lo(e,t,{locale:ka}),a=r,(i=n)&&i.firstLetterUppercase&&(a=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}(a)),a;var r,i,a},Vu=r.makeStyles((function(e){return{btn:function(t){var n=t.hasActivated;return T({padding:"5px 10px",lineHeight:"21px",textTransform:"none",border:"1px solid #ccc",borderRadius:3,boxShadow:"none",backgroundColor:e.palette.common.white},n?{color:"green"}:{})}}})),Hu=q(qu((function(e){var t=e.distribId,i=e.slotDuration,a=Cu(["translation","neo/distrib-slots"]).t,o=R(n.useState(!1),2),s=o[0],u=o[1],c=R(n.useState(),2),d=c[0],f=c[1],p=R(n.useState(!1),2),h=p[0],m=p[1],v=R(n.useState(),2),g=v[0],y=v[1],b=R(n.useState(!1),2),E=b[0],w=b[1],x=R(n.useState("solo-only"),2),O=x[0],A=x[1],C=Vu({hasActivated:E}),S=d&&d.end&&d.start?Math.floor((d.end.getTime()-d.start.getTime())/i):0,N=function(){h||u(!1)};if(n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Zs.distrib.getDistrib(t)];case 1:return n=i.sent(),e&&n&&f(T({},n)),[3,3];case 2:return r=i.sent(),y(a("error",{error:r})),[3,3];case 3:return[2]}}))})),function(){e=!1}}),[]),!d||!d.start||!d.end)return n.createElement(r.Box,{p:2},g?n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},g)):n.createElement(r.CircularProgress,{size:20}));if(d.orderEndDate&&!qo(new Date,d.orderEndDate)){if(!d.slots)return n.createElement(n.Fragment,null);return n.createElement(r.Button,{className:C.btn,variant:"contained",onClick:function(){document.location.href="/distribution/timeSlots/"+d.id}},n.createElement("img",{width:14,height:14,src:"/img/virus.svg",alt:""}),n.createElement(r.Box,{mr:1}),a("neo/distrib-slots:activeDistrib.activatedBtn"))}var I=Nu(r.Button,{title:a("neo/distrib-slots:activeDistrib.disableSlotsAlertTitle"),cancelButtonLabel:a("cancel"),confirmButtonLabel:a("confirm")});return n.createElement(n.Fragment,null,n.createElement(r.Button,{className:C.btn,variant:"contained",onClick:function(){u(!0)}},E?n.createElement(Js,{fontSize:"small"}):n.createElement("img",{width:14,height:14,src:"/img/virus.svg",alt:""}),n.createElement(r.Box,{mr:1}),d.slots?a("neo/distrib-slots:activeDistrib."+(E?"hasActivatedBtn":"activatedBtn")):a("neo/distrib-slots:activeDistrib.activateBtn")),n.createElement(r.Dialog,{open:s,onClose:N},n.createElement(r.DialogTitle,null,n.createElement(r.Box,{display:"flex",alignItems:"center"},n.createElement(r.Box,{mr:2},n.createElement("img",{height:36,src:"/img/virus.svg",alt:""})),n.createElement(r.Typography,{variant:"h4"},a("neo/distrib-slots:activeDistrib.dialogTitle",{date:zu(d.start,"EEEE dd MMMM yyyy")})))),n.createElement(r.DialogContent,null,n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},a("neo/distrib-slots:activeDistrib.alert"))),n.createElement(r.Box,{p:2},n.createElement(r.Typography,null,a("neo/distrib-slots:activeDistrib.slot-description"))),g&&n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},g)),h?n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null)):n.createElement(n.Fragment,null,n.createElement(r.Box,{display:"flex",justifyContent:"center"},n.createElement(r.List,null,M(Array(S)).map((function(e,t){return t})).map((function(e){return n.createElement(r.ListItem,{key:e,alignItems:"center"},n.createElement(r.ListItemText,{primary:zu(Qa(d.start,e*i),"HH'h'mm")+" - "+zu(e===S-1?d.end:Qa(d.start,(e+1)*i),"HH'h'mm"),secondary:n.createElement(r.Box,{display:"flex",justifyContent:"center",component:"span"},n.createElement(r.Typography,{component:"span",variant:"body2"},a("neo/distrib-slots:activeDistrib.slot-id",{id:e+1})))}))})))),d.slots?n.createElement(n.Fragment,null,"default"===d.mode&&n.createElement(r.Box,{p:2},n.createElement(r.Typography,{align:"center"},a("neo/distrib-slots:activeDistrib.modeDefaultActivated")))):n.createElement(r.Box,{p:2},n.createElement(r.Typography,null,a("neo/distrib-slots:activeDistrib.modeLabel")),n.createElement(r.Typography,{variant:"body2",color:"textSecondary"},a("neo/distrib-slots:activeDistrib.modeSubLabel")),n.createElement(r.FormControl,{component:"fieldset"},n.createElement(r.RadioGroup,{"aria-label":"mode-selector",name:"mode",value:O,onChange:function(e){A(e.target.value)}},n.createElement(r.FormControlLabel,{value:"default",control:n.createElement(r.Radio,null),label:a("yes")}),n.createElement(r.FormControlLabel,{value:"solo-only",control:n.createElement(r.Radio,null),label:a("no")})))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},d.slots&&n.createElement(r.Box,{mx:1,color:"error.main"},n.createElement(I,{variant:"outlined",color:"inherit",onClick:function(){return k(void 0,void 0,void 0,(function(){var e,n;return D(this,(function(r){switch(r.label){case 0:y(void 0),m(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),(new FormData).append("mode",O),[4,Zs.distrib.disableSlots(t)];case 2:return(e=r.sent())&&(f(e),m(!1),u(!1)),[3,4];case 3:return n=r.sent(),y(a("error",{error:n})),m(!1),[3,4];case 4:return[2]}}))}))}},a("neo/distrib-slots:activeDistrib.disableSlotsButtonLabel"))),n.createElement(r.Box,{mx:1},n.createElement(r.Button,{variant:"outlined",onClick:N},a(d.slots?"close":"cancel"))),!d.slots&&n.createElement(n.Fragment,null,n.createElement(r.Box,{mx:1},n.createElement(r.Button,{variant:"contained",color:"primary",onClick:function(){return k(void 0,void 0,void 0,(function(){var e,n,r;return D(this,(function(i){switch(i.label){case 0:y(void 0),m(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),(e=new FormData).append("mode",O),[4,Zs.distrib.activateSlots(t,e,"data")];case 2:return(n=i.sent())&&(f(n),m(!1),u(!1),w(!0)),[3,4];case 3:return r=i.sent(),y(a("error",{error:r})),m(!1),[3,4];case 4:return[2]}}))}))}},a("neo/distrib-slots:activeDistrib.confirmBtnLabel")))))))))}))),$u=n.createContext({currentStep:"loading",open:!0,loading:!0,slots:[],inNeedUsers:[],closeDialog:function(){},back:function(){},selectMode:function(){},selectPermissions:function(){},selectSlots:function(){},selectInNeedUsers:function(){},changeSlots:function(){},addInNeeds:function(){}}),Wu=function(e){var t=e.distribId,r=e.children,i=e.onRegister,a=e.onCancel,o=Cu(["translation"]).t,s=R(n.useState(!0),2),u=s[0],l=s[1],c=R(n.useState(!1),2),d=c[0],f=c[1],p=R(n.useState(),2),h=p[0],m=p[1],v=R(n.useState("loading"),2),g=v[0],y=v[1],b=R(n.useState(),2),E=b[0],w=b[1],x=R(n.useState(),2),O=x[0],A=x[1],C=R(n.useState(),2),S=C[0],N=C[1],I=R(n.useState(!1),2),_=I[0],M=I[1],F=function(e,t){if(!E&&!t)throw new Error("?");var n="solo-only"===(t||E).mode?T(T({},e),{has:"solo"}):e;A(n),N(n),n.isResolved?y("resolved"):n.registered?y("summary"):"solo"===n.has?y("select-slots"):y("select-mode")},B=function(e){return k(void 0,void 0,void 0,(function(){var n,r,i;return D(this,(function(a){switch(a.label){case 0:if(!e.has)return[2];m(void 0),f(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),(n=new FormData).append("has",e.has),e.allowed&&n.append("allowed",e.allowed.join(",")),e.registeredSlotIds&&n.append("slotIds",e.registeredSlotIds.join(",")),e.voluntaryForIds&&n.append("userIds",e.voluntaryForIds.join(",")),[4,Zs.distrib.registerMe(t,n,"data")];case 2:return r=a.sent(),F(r),f(!1),M(!0),[3,4];case 3:return i=a.sent(),m(o("error",{error:i})),f(!1),[3,4];case 4:return[2]}}))}))};return n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var n,r,i;return D(this,(function(a){switch(a.label){case 0:f(!0),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,Zs.distrib.getDistrib(t)];case 2:return n=a.sent(),[4,Zs.distrib.getStatus(t)];case 3:return r=a.sent(),e&&n&&r&&(w(n),F(r,n),f(!1)),[3,5];case 4:return i=a.sent(),m(o("error",{error:i})),f(!1),[3,5];case 5:return[2]}}))})),function(){e=!1}}),[]),n.createElement($u.Provider,{value:{currentStep:g,open:u,loading:d,error:h,distribMode:(null==E?void 0:E.mode)||"default",mode:(null==S?void 0:S.has)||void 0,slots:(null==E?void 0:E.slots)||[],inNeedUsers:(null==E?void 0:E.inNeedUsers)||[],registeredSlotIds:(null==O?void 0:O.registeredSlotIds)||void 0,voluntaryFor:(null==O?void 0:O.voluntaryFor)||void 0,closeDialog:function(){d||(_?i():a(),l(!1))},back:function(){O&&O.registered?y("summary"):"select-permissions"===g||"select-slots"===g?(y("select-mode"),N(T(T({},S),{has:null}))):"select-inNeed"===g&&(y("select-slots"),N(T(T({},S),{registeredSlotIds:null})))},selectMode:function(e){var t=T(T({},S),{has:e});N(t),y("inNeed"===e?"select-permissions":"select-slots")},selectPermissions:function(e){var t=T(T({},S),{allowed:e});N(t),B(t)},selectSlots:function(e){var t=T(T({},S),{registeredSlotIds:e});N(t),"solo"===t.has||!E.inNeedUsers||0===E.inNeedUsers.length||O&&O.registered?B(t):y("select-inNeed")},selectInNeedUsers:function(e){var t=T(T({},S),{voluntaryForIds:e});B(t),N(t)},changeSlots:function(){var e=T(T({},S),{registeredSlotIds:null});N(e),y("select-slots")},addInNeeds:function(){var e=T({},S);N(e),y("select-inNeed")}}},r)},Qu=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=i}))),Gu="neo/distrib-slots",Yu=function(e){var t=e.open,i=e.canClose,a=e.children,o=e.onClose,s=Cu(["translation",Gu]).t;return n.createElement(r.Dialog,{open:t,onClose:o},n.createElement(r.DialogTitle,null,n.createElement(r.Box,{flex:1,display:"flex",alignItems:"center"},n.createElement(r.Box,{flex:1,display:"flex",alignItems:"center"},n.createElement(r.Box,{mr:2,display:"flex",alignItems:"center"},n.createElement("img",{height:36,src:"/img/virus.svg",alt:""})),n.createElement(r.Typography,{variant:"h4"},s("neo/distrib-slots:userSlotsSelector.cardTitle"))),!i&&n.createElement(r.Box,{ml:2,display:"flex",alignItems:"center"},n.createElement(r.IconButton,{onClick:o},n.createElement(Qu,null))))),n.createElement(r.DialogContent,null,a))},Ku="neo/distrib-slots:userSlotsSelector",Zu=function(e){var t=e.onSelect,i=Cu(["translation","neo/distrib-slots"]).t,a=R(n.useState(),2),o=a[0],s=a[1];return n.createElement(r.Box,null,n.createElement(r.Box,{py:2},n.createElement(l.Alert,{severity:"error"},i(Ku+".alert.p1"),n.createElement("br",null),i(Ku+".alert.p2"))),n.createElement(r.FormControl,{component:"fieldset"},n.createElement(r.RadioGroup,{"aria-label":"slots-mode-selector",name:"slots-mode",value:o||"",onChange:function(e){s(e.target.value)}},n.createElement(r.FormControlLabel,{value:"inNeed",control:n.createElement(r.Radio,null),label:i(Ku+".modeSelector.inNeed")}),n.createElement(r.FormControlLabel,{value:"voluntary",control:n.createElement(r.Radio,null),label:i(Ku+".modeSelector.voluntary")}),n.createElement(r.FormControlLabel,{value:"solo",control:n.createElement(r.Radio,null),label:i(Ku+".modeSelector.solo")}))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:"outlined",color:"primary",style:{textTransform:"none"},disabled:!o,onClick:function(){t(o)}},i("continue"))))},Ju=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i}))),Xu=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.default=i})));function el(){return(el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tl=Object.prototype.hasOwnProperty;function nl(e,t){return null!=e&&tl.call(e,t)}var rl=Array.isArray,il="object"==typeof global&&global&&global.Object===Object&&global,al="object"==typeof self&&self&&self.Object===Object&&self,ol=il||al||Function("return this")(),sl=ol.Symbol,ul=Object.prototype,ll=ul.hasOwnProperty,cl=ul.toString,dl=sl?sl.toStringTag:void 0;var fl=Object.prototype.toString;var pl=sl?sl.toStringTag:void 0;function hl(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pl&&pl in Object(e)?function(e){var t=ll.call(e,dl),n=e[dl];try{e[dl]=void 0;var r=!0}catch(e){}var i=cl.call(e);return r&&(t?e[dl]=n:delete e[dl]),i}(e):function(e){return fl.call(e)}(e)}function ml(e){return null!=e&&"object"==typeof e}function vl(e){return"symbol"==typeof e||ml(e)&&"[object Symbol]"==hl(e)}var gl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yl=/^\w*$/;function bl(e,t){if(rl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vl(e))||(yl.test(e)||!gl.test(e)||null!=t&&e in Object(t))}function El(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function wl(e){if(!El(e))return!1;var t=hl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var xl,Ol=ol["__core-js_shared__"],Al=(xl=/[^.]+$/.exec(Ol&&Ol.keys&&Ol.keys.IE_PROTO||""))?"Symbol(src)_1."+xl:"";var Cl=Function.prototype.toString;function Sl(e){if(null!=e){try{return Cl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Nl=/^\[object .+?Constructor\]$/,Il=Function.prototype,Tl=Object.prototype,_l=Il.toString,kl=Tl.hasOwnProperty,Dl=RegExp("^"+_l.call(kl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rl(e){return!(!El(e)||(t=e,Al&&Al in t))&&(wl(e)?Dl:Nl).test(Sl(e));var t}function Ml(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Rl(n)?n:void 0}var Fl=Ml(Object,"create");var Bl=Object.prototype.hasOwnProperty;var Pl=Object.prototype.hasOwnProperty;function Ll(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jl(e,t){return e===t||e!=e&&t!=t}function Ul(e,t){for(var n=e.length;n--;)if(jl(e[n][0],t))return n;return-1}Ll.prototype.clear=function(){this.__data__=Fl?Fl(null):{},this.size=0},Ll.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ll.prototype.get=function(e){var t=this.__data__;if(Fl){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Bl.call(t,e)?t[e]:void 0},Ll.prototype.has=function(e){var t=this.__data__;return Fl?void 0!==t[e]:Pl.call(t,e)},Ll.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fl&&void 0===t?"__lodash_hash_undefined__":t,this};var ql=Array.prototype.splice;function zl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zl.prototype.clear=function(){this.__data__=[],this.size=0},zl.prototype.delete=function(e){var t=this.__data__,n=Ul(t,e);return!(n<0)&&(n==t.length-1?t.pop():ql.call(t,n,1),--this.size,!0)},zl.prototype.get=function(e){var t=this.__data__,n=Ul(t,e);return n<0?void 0:t[n][1]},zl.prototype.has=function(e){return Ul(this.__data__,e)>-1},zl.prototype.set=function(e,t){var n=this.__data__,r=Ul(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Vl=Ml(ol,"Map");function Hl(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function $l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$l.prototype.clear=function(){this.size=0,this.__data__={hash:new Ll,map:new(Vl||zl),string:new Ll}},$l.prototype.delete=function(e){var t=Hl(this,e).delete(e);return this.size-=t?1:0,t},$l.prototype.get=function(e){return Hl(this,e).get(e)},$l.prototype.has=function(e){return Hl(this,e).has(e)},$l.prototype.set=function(e,t){var n=Hl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Wl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Wl.Cache||$l),n}Wl.Cache=$l;var Ql=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gl=/\\(\\)?/g,Yl=function(e){var t=Wl(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ql,(function(e,n,r,i){t.push(r?i.replace(Gl,"$1"):n||e)})),t}));function Kl(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Zl=sl?sl.prototype:void 0,Jl=Zl?Zl.toString:void 0;function Xl(e){if("string"==typeof e)return e;if(rl(e))return Kl(e,Xl)+"";if(vl(e))return Jl?Jl.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ec(e){return null==e?"":Xl(e)}function tc(e,t){return rl(e)?e:bl(e,t)?[e]:Yl(ec(e))}function nc(e){return ml(e)&&"[object Arguments]"==hl(e)}var rc=Object.prototype,ic=rc.hasOwnProperty,ac=rc.propertyIsEnumerable,oc=nc(function(){return arguments}())?nc:function(e){return ml(e)&&ic.call(e,"callee")&&!ac.call(e,"callee")},sc=/^(?:0|[1-9]\d*)$/;function uc(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&sc.test(e))&&e>-1&&e%1==0&&e<t}function lc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function cc(e){if("string"==typeof e||vl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dc(e,t,n){for(var r=-1,i=(t=tc(t,e)).length,a=!1;++r<i;){var o=cc(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&lc(i)&&uc(o,i)&&(rl(e)||oc(e))}function fc(e,t){return null!=e&&dc(e,t,nl)}function pc(e){var t=this.__data__=new zl(e);this.size=t.size}pc.prototype.clear=function(){this.__data__=new zl,this.size=0},pc.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pc.prototype.get=function(e){return this.__data__.get(e)},pc.prototype.has=function(e){return this.__data__.has(e)},pc.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zl){var r=n.__data__;if(!Vl||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $l(r)}return n.set(e,t),this.size=n.size,this};var hc=function(){try{var e=Ml(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function mc(e,t,n){"__proto__"==t&&hc?hc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var vc=Object.prototype.hasOwnProperty;function gc(e,t,n){var r=e[t];vc.call(e,t)&&jl(r,n)&&(void 0!==n||t in e)||mc(e,t,n)}function yc(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?mc(n,s,u):gc(n,s,u)}return n}var bc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ec=bc&&"object"==typeof module&&module&&!module.nodeType&&module,wc=Ec&&Ec.exports===bc?ol.Buffer:void 0,xc=(wc?wc.isBuffer:void 0)||function(){return!1},Oc={};function Ac(e){return function(t){return e(t)}}Oc["[object Float32Array]"]=Oc["[object Float64Array]"]=Oc["[object Int8Array]"]=Oc["[object Int16Array]"]=Oc["[object Int32Array]"]=Oc["[object Uint8Array]"]=Oc["[object Uint8ClampedArray]"]=Oc["[object Uint16Array]"]=Oc["[object Uint32Array]"]=!0,Oc["[object Arguments]"]=Oc["[object Array]"]=Oc["[object ArrayBuffer]"]=Oc["[object Boolean]"]=Oc["[object DataView]"]=Oc["[object Date]"]=Oc["[object Error]"]=Oc["[object Function]"]=Oc["[object Map]"]=Oc["[object Number]"]=Oc["[object Object]"]=Oc["[object RegExp]"]=Oc["[object Set]"]=Oc["[object String]"]=Oc["[object WeakMap]"]=!1;var Cc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Sc=Cc&&"object"==typeof module&&module&&!module.nodeType&&module,Nc=Sc&&Sc.exports===Cc&&il.process,Ic=function(){try{var e=Sc&&Sc.require&&Sc.require("util").types;return e||Nc&&Nc.binding&&Nc.binding("util")}catch(e){}}(),Tc=Ic&&Ic.isTypedArray,_c=Tc?Ac(Tc):function(e){return ml(e)&&lc(e.length)&&!!Oc[hl(e)]},kc=Object.prototype.hasOwnProperty;function Dc(e,t){var n=rl(e),r=!n&&oc(e),i=!n&&!r&&xc(e),a=!n&&!r&&!i&&_c(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!kc.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||uc(l,u))||s.push(l);return s}var Rc=Object.prototype;function Mc(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Rc)}function Fc(e,t){return function(n){return e(t(n))}}var Bc=Fc(Object.keys,Object),Pc=Object.prototype.hasOwnProperty;function Lc(e){return null!=e&&lc(e.length)&&!wl(e)}function jc(e){return Lc(e)?Dc(e):function(e){if(!Mc(e))return Bc(e);var t=[];for(var n in Object(e))Pc.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Uc=Object.prototype.hasOwnProperty;function qc(e){if(!El(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Mc(e),n=[];for(var r in e)("constructor"!=r||!t&&Uc.call(e,r))&&n.push(r);return n}function zc(e){return Lc(e)?Dc(e,!0):qc(e)}var Vc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Hc=Vc&&"object"==typeof module&&module&&!module.nodeType&&module,$c=Hc&&Hc.exports===Vc?ol.Buffer:void 0,Wc=$c?$c.allocUnsafe:void 0;function Qc(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Gc(){return[]}var Yc=Object.prototype.propertyIsEnumerable,Kc=Object.getOwnPropertySymbols,Zc=Kc?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(Kc(e),(function(t){return Yc.call(e,t)})))}:Gc;function Jc(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Xc=Fc(Object.getPrototypeOf,Object),ed=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Jc(t,Zc(e)),e=Xc(e);return t}:Gc;function td(e,t,n){var r=t(e);return rl(e)?r:Jc(r,n(e))}function nd(e){return td(e,jc,Zc)}function rd(e){return td(e,zc,ed)}var id=Ml(ol,"DataView"),ad=Ml(ol,"Promise"),od=Ml(ol,"Set"),sd=Ml(ol,"WeakMap"),ud=Sl(id),ld=Sl(Vl),cd=Sl(ad),dd=Sl(od),fd=Sl(sd),pd=hl;(id&&"[object DataView]"!=pd(new id(new ArrayBuffer(1)))||Vl&&"[object Map]"!=pd(new Vl)||ad&&"[object Promise]"!=pd(ad.resolve())||od&&"[object Set]"!=pd(new od)||sd&&"[object WeakMap]"!=pd(new sd))&&(pd=function(e){var t=hl(e),n="[object Object]"==t?e.constructor:void 0,r=n?Sl(n):"";if(r)switch(r){case ud:return"[object DataView]";case ld:return"[object Map]";case cd:return"[object Promise]";case dd:return"[object Set]";case fd:return"[object WeakMap]"}return t});var hd=pd,md=Object.prototype.hasOwnProperty;var vd=ol.Uint8Array;function gd(e){var t=new e.constructor(e.byteLength);return new vd(t).set(new vd(e)),t}var yd=/\w*$/;var bd=sl?sl.prototype:void 0,Ed=bd?bd.valueOf:void 0;function wd(e,t,n){var r,i=e.constructor;switch(t){case"[object ArrayBuffer]":return gd(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?gd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?gd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yd.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new i;case"[object Symbol]":return r=e,Ed?Object(Ed.call(r)):{}}}var xd=Object.create,Od=function(){function e(){}return function(t){if(!El(t))return{};if(xd)return xd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ad=Ic&&Ic.isMap,Cd=Ad?Ac(Ad):function(e){return ml(e)&&"[object Map]"==hd(e)};var Sd=Ic&&Ic.isSet,Nd=Sd?Ac(Sd):function(e){return ml(e)&&"[object Set]"==hd(e)},Id={};function Td(e,t,n,r,i,a){var o,s=1&t,u=2&t,l=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!El(e))return e;var c=rl(e);if(c){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&md.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Qc(e,o)}else{var d=hd(e),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(xc(e))return function(e,t){if(t)return e.slice();var n=e.length,r=Wc?Wc(n):new e.constructor(n);return e.copy(r),r}(e,s);if("[object Object]"==d||"[object Arguments]"==d||f&&!i){if(o=u||f?{}:function(e){return"function"!=typeof e.constructor||Mc(e)?{}:Od(Xc(e))}(e),!s)return u?function(e,t){return yc(e,ed(e),t)}(e,function(e,t){return e&&yc(t,zc(t),e)}(o,e)):function(e,t){return yc(e,Zc(e),t)}(e,function(e,t){return e&&yc(t,jc(t),e)}(o,e))}else{if(!Id[d])return i?e:{};o=wd(e,d,s)}}a||(a=new pc);var p=a.get(e);if(p)return p;a.set(e,o),Nd(e)?e.forEach((function(r){o.add(Td(r,t,n,r,e,a))})):Cd(e)&&e.forEach((function(r,i){o.set(i,Td(r,t,n,i,e,a))}));var h=l?u?rd:nd:u?keysIn:jc,m=c?void 0:h(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(m||e,(function(r,i){m&&(r=e[i=r]),gc(o,i,Td(r,t,n,i,e,a))})),o}Id["[object Arguments]"]=Id["[object Array]"]=Id["[object ArrayBuffer]"]=Id["[object DataView]"]=Id["[object Boolean]"]=Id["[object Date]"]=Id["[object Float32Array]"]=Id["[object Float64Array]"]=Id["[object Int8Array]"]=Id["[object Int16Array]"]=Id["[object Int32Array]"]=Id["[object Map]"]=Id["[object Number]"]=Id["[object Object]"]=Id["[object RegExp]"]=Id["[object Set]"]=Id["[object String]"]=Id["[object Symbol]"]=Id["[object Uint8Array]"]=Id["[object Uint8ClampedArray]"]=Id["[object Uint16Array]"]=Id["[object Uint32Array]"]=!0,Id["[object Error]"]=Id["[object Function]"]=Id["[object WeakMap]"]=!1;function _d(e,t){return Td(e,5,t="function"==typeof t?t:void 0)}function kd(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Dd(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Rd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Md(e){return Rd.test(e)}var Fd="[\\ud800-\\udfff]",Bd="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pd="\\ud83c[\\udffb-\\udfff]",Ld="[^\\ud800-\\udfff]",jd="(?:\\ud83c[\\udde6-\\uddff]){2}",Ud="[\\ud800-\\udbff][\\udc00-\\udfff]",qd="(?:"+Bd+"|"+Pd+")"+"?",zd="[\\ufe0e\\ufe0f]?"+qd+("(?:\\u200d(?:"+[Ld,jd,Ud].join("|")+")[\\ufe0e\\ufe0f]?"+qd+")*"),Vd="(?:"+[Ld+Bd+"?",Bd,jd,Ud,Fd].join("|")+")",Hd=RegExp(Pd+"(?="+Pd+")|"+Vd+zd,"g");function $d(e){return Md(e)?function(e){return e.match(Hd)||[]}(e):function(e){return e.split("")}(e)}function Wd(e){return null==e?[]:function(e,t){return Kl(t,(function(t){return e[t]}))}(e,jc(e))}var Qd=sl?sl.iterator:void 0;function Gd(e){if(!e)return[];if(Lc(e))return function(e){return"string"==typeof e||!rl(e)&&ml(e)&&"[object String]"==hl(e)}(e)?$d(e):Qc(e);if(Qd&&e[Qd])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qd]());var t=hd(e);return("[object Map]"==t?kd:"[object Set]"==t?Dd:Wd)(e)}var Yd=Object.prototype.toString,Kd=Error.prototype.toString,Zd=RegExp.prototype.toString,Jd="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},Xd=/^Symbol\((.*)\)(.*)$/;function ef(e,t){if(void 0===t&&(t=!1),null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'+e+'"':e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Jd.call(e).replace(Xd,"Symbol($1)");var r=Yd.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Kd.call(e)+"]":"RegExp"===r?Zd.call(e):null}function tf(e,t){var n=ef(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=ef(this[e],t);return null!==r?r:n}),2)}var nf={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o=t+" must be a `"+n+"` type, but the final value was: `"+tf(r,!0)+"`"+(a?" (cast from the value `"+tf(i,!0)+"`).":".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},rf={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},af={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",notEqual:"${path} must be not equal to ${notEqual}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},of={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},sf={noUnknown:"${path} field has unspecified keys: ${unknown}"},uf={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items"},lf={mixed:nf,string:rf,number:af,date:of,object:sf,array:uf,boolean:{}},cf=function(e){return e&&e.__isYupSchema__},df=function(){function e(e,t){if(this.refs=e,"function"!=typeof t){if(!fc(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var n=t.is,r=t.then,i=t.otherwise,a="function"==typeof n?n:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every((function(e){return e===n}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.pop(),s=t.pop(),u=a.apply(void 0,t)?r:i;if(u)return"function"==typeof u?u(s):s.concat(u.resolve(o))}}else this.fn=t}return e.prototype.resolve=function(e,t){var n=this.refs.map((function(e){return e.getValue(t)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!cf(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)},e}();function ff(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function pf(e){return Array.prototype.slice.apply(e)}function hf(e){this.status="pending",this._continuations=[],this._parent=null,this._paused=!1,e&&e.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function mf(e){return e&&"function"==typeof e.then}if(hf.prototype={then:function(e,t){var n=hf.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:n,nextFn:e,catchFn:t}),n;if(t)try{var r=t(this._error);return mf(r)?(this._chainPromiseData(r,n),n):hf.resolve(r)._setParent(this)}catch(e){return hf.reject(e)._setParent(this)}return hf.reject(this._error)._setParent(this)}return this._continuations.push({promise:n,nextFn:e,catchFn:t}),this._runResolutions(),n},catch:function(e){if(this._isResolved())return hf.resolve(this._data)._setParent(this);var t=hf.unresolved()._setParent(this);return this._continuations.push({promise:t,catchFn:e}),this._runRejections(),t},finally:function(e){var t=!1;function n(){if(!t)return t=!0,e()}return this.then(n).catch(n)},pause:function(){return this._paused=!0,this},resume:function(){var e=this._findFirstPaused();return e&&(e._paused=!1,e._runResolutions(),e._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(e,t){if(t.promise){var n={promise:t.promise,children:t.promise._findAncestry()};e.push(n)}return e}),[])},_setParent:function(e){if(this._parent)throw new Error("parent already set");return this._parent=e,this},_continueWith:function(e){var t=this._findFirstPending();t&&(t._data=e,t._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(e){return e._isPending&&e._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(e){return e._paused}))},_findFirstAncestor:function(e){for(var t,n=this;n;)e(n)&&(t=n),n=n._parent;return t},_failWith:function(e){var t=this._findFirstPending();t&&(t._error=e,t._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var e=this._error,t=this._takeContinuations(),n=this;t.forEach((function(t){if(t.catchFn)try{var r=t.catchFn(e);n._handleUserFunctionResult(r,t.promise)}catch(e){e.message;t.promise.reject(e)}else t.promise.reject(e)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var e=this._takeContinuations();if(mf(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var t=this._data,n=this;e.forEach((function(e){if(e.nextFn)try{var r=e.nextFn(t);n._handleUserFunctionResult(r,e.promise)}catch(t){n._handleResolutionError(t,e)}else e.promise&&e.promise.resolve(t)}))}},_handleResolutionError:function(e,t){if(this._setRejected(),t.catchFn)try{return void t.catchFn(e)}catch(t){e=t}t.promise&&t.promise.reject(e)},_handleWhenResolvedDataIsPromise:function(e){var t=this;return e.then((function(e){t._data=e,t._runResolutions()})).catch((function(e){t._error=e,t._setRejected(),t._runRejections()}))},_handleUserFunctionResult:function(e,t){mf(e)?this._chainPromiseData(e,t):t.resolve(e)},_chainPromiseData:function(e,t){e.then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)}))},_setResolved:function(){this.status="resolved",this._paused||this._runResolutions()},_setRejected:function(){this.status="rejected",this._paused||this._runRejections()},_isPending:function(){return"pending"===this.status},_isResolved:function(){return"resolved"===this.status},_isRejected:function(){return"rejected"===this.status}},hf.resolve=function(e){return new hf((function(t,n){mf(e)?e.then((function(e){t(e)})).catch((function(e){n(e)})):t(e)}))},hf.reject=function(e){return new hf((function(t,n){n(e)}))},hf.unresolved=function(){return new hf((function(e,t){this.resolve=e,this.reject=t}))},hf.all=function(){var e=pf(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new hf((function(t,n){var r=[],i=0,a=!1;e.forEach((function(o,s){hf.resolve(o).then((function(n){r[s]=n,(i+=1)===e.length&&t(r)})).catch((function(e){!function(e){a||(a=!0,n(e))}(e)}))}))})):hf.resolve([])},Promise===hf)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var vf=Promise;hf.installGlobally=function(e){if(Promise===hf)return e;var t=function(e){if(void 0===e||e.__patched)return e;var t=e;return(e=function(){t.apply(this,pf(arguments))}).__patched=!0,e}(e);return Promise=hf,t},hf.uninstallGlobally=function(){Promise===hf&&(Promise=vf)};var gf=hf,yf=/\$\{\s*(\w+)\s*\}/g,bf=function(e){return function(t){return e.replace(yf,(function(e,n){return tf(t[n])}))}};function Ef(e,t,n,r){var i=this;this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],e&&[].concat(e).forEach((function(e){i.errors=i.errors.concat(e.errors||e),e.inner&&(i.inner=i.inner.concat(e.inner.length?e.inner:e))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ef)}Ef.prototype=Object.create(Error.prototype),Ef.prototype.constructor=Ef,Ef.isError=function(e){return e&&"ValidationError"===e.name},Ef.formatError=function(e,t){"string"==typeof e&&(e=bf(e));var n=function(t){return t.path=t.label||t.path||"this","function"==typeof e?e(t):e};return 1===arguments.length?n:n(t)};var wf=function(e){return e?gf:Promise};function xf(e,t){return e?null:function(e){return t.push(e),e.value}}function Of(e){var t=e.validations,n=e.value,r=e.path,i=e.sync,a=e.errors,o=e.sort;return a=function(e){return void 0===e&&(e=[]),e.inner&&e.inner.length?e.inner:[].concat(e)}(a),function(e,t){var n=wf(t);return n.all(e.map((function(e){return n.resolve(e).then((function(e){return{fulfilled:!0,value:e}}),(function(e){return{fulfilled:!1,value:e}}))})))}(t,i).then((function(e){var t=e.filter((function(e){return!e.fulfilled})).reduce((function(e,t){var n=t.value;if(!Ef.isError(n))throw n;return e.concat(n)}),[]);if(o&&t.sort(o),(a=t.concat(a)).length)throw new Ef(a,n,r);return n}))}function Af(e){var t,n,r,i=e.endEarly,a=ff(e,["endEarly"]);return i?(t=a.validations,n=a.value,r=a.sync,wf(r).all(t).catch((function(e){throw"ValidationError"===e.name&&(e.value=n),e})).then((function(){return n}))):Of(a)}var Cf=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var Sf,Nf=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[Sf?o:++r];if(!1===t(i[s],s,i))break}return e};function If(e,t){return e&&Nf(e,t,jc)}function Tf(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $l;++t<n;)this.add(e[t])}function _f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function kf(e,t){return e.has(t)}Tf.prototype.add=Tf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Tf.prototype.has=function(e){return this.__data__.has(e)};function Df(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var c=-1,d=!0,f=2&n?new Tf:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var p=e[c],h=t[c];if(r)var m=o?r(h,p,c,t,e,a):r(p,h,c,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!_f(t,(function(e,t){if(!kf(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}var Rf=sl?sl.prototype:void 0,Mf=Rf?Rf.valueOf:void 0;var Ff=Object.prototype.hasOwnProperty;var Bf=Object.prototype.hasOwnProperty;function Pf(e,t,n,r,i,a){var o=rl(e),s=rl(t),u=o?"[object Array]":hd(e),l=s?"[object Array]":hd(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f=u==l;if(f&&xc(e)){if(!xc(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new pc),o||_c(e)?Df(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new vd(e),new vd(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=kd;case"[object Set]":var u=1&r;if(s||(s=Dd),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=Df(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Mf)return Mf.call(e)==Mf.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=c&&Bf.call(e,"__wrapped__"),h=d&&Bf.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,v=h?t.value():t;return a||(a=new pc),i(m,v,n,r,a)}}return!!f&&(a||(a=new pc),function(e,t,n,r,i,a){var o=1&n,s=nd(e),u=s.length;if(u!=nd(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Ff.call(t,c)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++l<u;){var h=e[c=s[l]],m=t[c];if(r)var v=o?r(m,h,c,t,e,a):r(h,m,c,e,t,a);if(!(void 0===v?h===m||i(h,m,n,r,a):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))}function Lf(e,t,n,r,i){return e===t||(null==e||null==t||!ml(e)&&!ml(t)?e!=e&&t!=t:Pf(e,t,n,r,Lf,i))}function jf(e){return e==e&&!El(e)}function Uf(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function qf(e){var t=function(e){for(var t=jc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,jf(i)]}return t}(e);return 1==t.length&&t[0][2]?Uf(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var d=new pc;if(r)var f=r(l,c,u,e,t,d);if(!(void 0===f?Lf(c,l,3,r,d):f))return!1}}return!0}(n,e,t)}}function zf(e,t){for(var n=0,r=(t=tc(t,e)).length;null!=e&&n<r;)e=e[cc(t[n++])];return n&&n==r?e:void 0}function Vf(e,t){return null!=e&&t in Object(e)}function Hf(e,t){return bl(e)&&jf(t)?Uf(cc(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:zf(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&dc(e,t,Vf)}(n,e):Lf(t,r,3)}}function $f(e){return e}function Wf(e){return bl(e)?(t=cc(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return zf(t,e)}}(e);var t}function Qf(e){return"function"==typeof e?e:null==e?$f:"object"==typeof e?rl(e)?Hf(e[0],e[1]):qf(e):Wf(e)}function Gf(e,t){var n={};return t=Qf(t),If(e,(function(e,r,i){mc(n,r,t(e,r,i))})),n}function Yf(e){this._maxSize=e,this.clear()}Yf.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Yf.prototype.get=function(e){return this._values[e]},Yf.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Kf=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Zf=/^\d+$/,Jf=/^\d/,Xf=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,ep=/^\s*(['"]?)(.*?)(\1)\s*$/,tp=new Yf(512),np=(new Yf(512),new Yf(512));function rp(e){return tp.get(e)||tp.set(e,ip(e).map((function(e){return e.replace(ep,"$2")})))}function ip(e){return e.match(Kf)}function ap(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function op(e){return!ap(e)&&(function(e){return e.match(Jf)&&!e.match(Zf)}(e)||function(e){return Xf.test(e)}(e))}var sp=ip,up=function(e,t){var n=rp(e);return np.get(e)||np.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},lp=function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(op(r)&&(r='"'+r+'"'),o=ap(r),a=!o&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:ip(e),t,n)},cp="$",dp=".",fp=function(){function e(e,t){if(void 0===t&&(t={}),"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===cp,this.isValue=this.key[0]===dp,this.isSibling=!this.isContext&&!this.isValue;var n=this.isContext?cp:this.isValue?dp:"";this.path=this.key.slice(n.length),this.getter=this.path&&up(this.path,!0),this.map=t.map}var t=e.prototype;return t.getValue=function(e){var t=this.isContext?e.context:this.isValue?e.value:e.parent;return this.getter&&(t=this.getter(t||{})),this.map&&(t=this.map(t)),t},t.cast=function(e,t){return this.getValue(el({},t,{value:e}))},t.resolve=function(){return this},t.describe=function(){return{type:"ref",key:this.key}},t.toString=function(){return"Ref("+this.key+")"},e.isRef=function(e){return e&&e.__isYupRef},e}();fp.prototype.__isYupRef=!0;var pp=Ef.formatError;function hp(e){var t=e.value,n=e.label,r=e.resolve,i=e.originalValue,a=ff(e,["value","label","resolve","originalValue"]);return function(e){var o=void 0===e?{}:e,s=o.path,u=void 0===s?a.path:s,l=o.message,c=void 0===l?a.message:l,d=o.type,f=void 0===d?a.name:d,p=o.params;return p=el({path:u,value:t,originalValue:i,label:n},function(e,t,n){return Gf(el({},e,{},t),n)}(a.params,p,r)),el(new Ef(pp(c,p),t,u,f),{params:p})}}function mp(e){var t=e.name,n=e.message,r=e.test,i=e.params;function a(e){var a=e.value,o=e.path,s=e.label,u=e.options,l=e.originalValue,c=e.sync,d=ff(e,["value","path","label","options","originalValue","sync"]),f=u.parent,p=function(e){return fp.isRef(e)?e.getValue({value:a,parent:f,context:u.context}):e},h=hp({message:n,path:o,value:a,originalValue:l,params:i,label:s,resolve:p,name:t}),m=el({path:o,parent:f,type:t,createError:h,resolve:p,options:u},d);return function(e,t,n,r){var i,a=e.call(t,n);if(!r)return Promise.resolve(a);if((i=a)&&"function"==typeof i.then&&"function"==typeof i.catch)throw new Error('Validation test of type: "'+t.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned');return gf.resolve(a)}(r,m,a,c).then((function(e){if(Ef.isError(e))throw e;if(!e)throw h()}))}return a.OPTIONS=e,a}function vp(e,t,n,r){var i,a,o;return void 0===r&&(r=n),t?(lp(t,(function(s,u,l){var c=u?function(e){return e.substr(0,e.length-1).substr(1)}(s):s;if((e=e.resolve({context:r,parent:i,value:n})).innerType){var d=l?parseInt(c,10):0;if(n&&d>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: "+s+", in the path: "+t+". because there is no value at that index. ");i=n,n=n&&n[d],e=e.innerType}if(!l){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: "+t+". (failed at: "+o+' which is a type: "'+e._type+'")');i=n,n=n&&n[c],e=e.fields[c]}a=c,o=u?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}var gp=function(){function e(){this.list=new Set,this.refs=new Map}var t=e.prototype;return t.toArray=function(){return Gd(this.list).concat(Gd(this.refs.values()))},t.add=function(e){fp.isRef(e)?this.refs.set(e.key,e):this.list.add(e)},t.delete=function(e){fp.isRef(e)?this.refs.delete(e.key):this.list.delete(e)},t.has=function(e,t){if(this.list.has(e))return!0;for(var n,r=this.refs.values();!(n=r.next()).done;)if(t(n.value)===e)return!0;return!1},t.clone=function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t},t.merge=function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n},e}();function yp(e){var t=this;if(void 0===e&&(e={}),!(this instanceof yp))return new yp;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new gp,this._blacklist=new gp,this.tests=[],this.transforms=[],this.withMutation((function(){t.typeError(nf.notType)})),fc(e,"default")&&(this._defaultDefault=e.default),this.type=e.type||"mixed",this._type=e.type||"mixed"}for(var bp=yp.prototype={__isYupSchema__:!0,constructor:yp,clone:function(){var e=this;return this._mutate?this:_d(this,(function(t){if(cf(t)&&t!==e)return t}))},label:function(e){var t=this.clone();return t._label=e,t},meta:function(e){if(0===arguments.length)return this._meta;var t=this.clone();return t._meta=el(t._meta||{},e),t},withMutation:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n},concat:function(e){if(!e||e===this)return this;if(e._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+e._type);var t=function e(t,n){for(var r in n)if(fc(n,r)){var i=n[r],a=t[r];if(void 0===a)t[r]=i;else{if(a===i)continue;cf(a)?cf(i)&&(t[r]=i.concat(a)):Cf(a)?Cf(i)&&(t[r]=e(a,i)):Array.isArray(a)&&Array.isArray(i)&&(t[r]=i.concat(a))}}return t}(e.clone(),this);return fc(e,"_default")&&(t._default=e._default),t.tests=this.tests,t._exclusive=this._exclusive,t._whitelist=this._whitelist.merge(e._whitelist,e._blacklist),t._blacklist=this._blacklist.merge(e._blacklist,e._whitelist),t.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),t},isType:function(e){return!(!this._nullable||null!==e)||(!this._typeCheck||this._typeCheck(e))},resolve:function(e){var t=this;if(t._conditions.length){var n=t._conditions;(t=t.clone())._conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t},cast:function(e,t){void 0===t&&(t={});var n=this.resolve(el({},t,{value:e})),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=tf(e),a=tf(r);throw new TypeError("The value of "+(t.path||"field")+' could not be cast to a value that satisfies the schema type: "'+n._type+'". \n\nattempted value: '+i+" \n"+(a!==i?"result of cast: "+a:""))}return r},_cast:function(e){var t=this,n=void 0===e?e:this.transforms.reduce((function(n,r){return r.call(t,n,e)}),e);return void 0===n&&fc(this,"_default")&&(n=this.default()),n},_validate:function(e,t){var n=this;void 0===t&&(t={});var r=e,i=null!=t.originalValue?t.originalValue:e,a=this._option("strict",t),o=this._option("abortEarly",t),s=t.sync,u=t.path,l=this._label;a||(r=this._cast(r,el({assert:!1},t)));var c={value:r,path:u,schema:this,options:t,label:l,originalValue:i,sync:s},d=[];return this._typeError&&d.push(this._typeError(c)),this._whitelistError&&d.push(this._whitelistError(c)),this._blacklistError&&d.push(this._blacklistError(c)),Af({validations:d,endEarly:o,value:r,path:u,sync:s}).then((function(e){return Af({path:u,sync:s,value:e,endEarly:o,validations:n.tests.map((function(e){return e(c)}))})}))},validate:function(e,t){return void 0===t&&(t={}),this.resolve(el({},t,{value:e}))._validate(e,t)},validateSync:function(e,t){var n,r;if(void 0===t&&(t={}),this.resolve(el({},t,{value:e}))._validate(e,el({},t,{sync:!0})).then((function(e){return n=e})).catch((function(e){return r=e})),r)throw r;return n},isValid:function(e,t){return this.validate(e,t).then((function(){return!0})).catch((function(e){if("ValidationError"===e.name)return!1;throw e}))},isValidSync:function(e,t){try{return this.validateSync(e,t),!0}catch(e){if("ValidationError"===e.name)return!1;throw e}},getDefault:function(e){return void 0===e&&(e={}),this.resolve(e).default()},default:function(e){if(0===arguments.length){var t=fc(this,"_default")?this._default:this._defaultDefault;return"function"==typeof t?t.call(this):_d(t)}var n=this.clone();return n._default=e,n},strict:function(e){void 0===e&&(e=!0);var t=this.clone();return t._options.strict=e,t},_isPresent:function(e){return null!=e},required:function(e){return void 0===e&&(e=nf.required),this.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})},notRequired:function(){var e=this.clone();return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e},nullable:function(e){void 0===e&&(e=!0);var t=this.clone();return t._nullable=e,t},transform:function(e){var t=this.clone();return t.transforms.push(e),t},test:function(){var e;if(void 0===(e=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=nf.default),"function"!=typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=mp(e),r=e.exclusive||e.name&&!0===t._exclusive[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t._exclusive[e.name]=!!e.exclusive,t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t},when:function(e,t){1===arguments.length&&(t=e,e=".");var n=this.clone(),r=[].concat(e).map((function(e){return new fp(e)}));return r.forEach((function(e){e.isSibling&&n._deps.push(e.key)})),n._conditions.push(new df(r,t)),n},typeError:function(e){var t=this.clone();return t._typeError=mp({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t},oneOf:function(e,t){void 0===t&&(t=nf.oneOf);var n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=mp({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist;return!!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n},notOneOf:function(e,t){void 0===t&&(t=nf.notOneOf);var n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=mp({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist;return!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n},strip:function(e){void 0===e&&(e=!0);var t=this.clone();return t._strip=e,t},_option:function(e,t){return fc(t,e)?t[e]:this._options[e]},describe:function(){var e=this.clone();return{type:e._type,meta:e._meta,label:e._label,tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))}},defined:function(e){return void 0===e&&(e=nf.defined),this.nullable().test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},Ep=function(){var e=xp[wp];bp[e+"At"]=function(t,n,r){void 0===r&&(r={});var i=vp(this,t,n,r.context),a=i.parent,o=i.parentPath;return i.schema[e](a&&a[o],el({},r,{parent:a,path:t}))}},wp=0,xp=["validate","validateSync"];wp<xp.length;wp++)Ep();for(var Op=0,Ap=["equals","is"];Op<Ap.length;Op++){bp[Ap[Op]]=bp.oneOf}for(var Cp=0,Sp=["not","nope"];Cp<Sp.length;Cp++){bp[Sp[Cp]]=bp.notOneOf}function Np(e,t,n){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),el(e.prototype,n)}function Ip(){var e=this;if(!(this instanceof Ip))return new Ip;yp.call(this,{type:"boolean"}),this.withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(e))return!0;if(/^(false|0)$/i.test(e))return!1}return e}))}))}bp.optional=bp.notRequired,Np(Ip,yp,{_typeCheck:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}});var Tp=function(e){return null==e},_p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,kp=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Dp=function(e){return Tp(e)||e===e.trim()};function Rp(){var e=this;if(!(this instanceof Rp))return new Rp;yp.call(this,{type:"string"}),this.withMutation((function(){e.transform((function(e){return this.isType(e)?e:null!=e&&e.toString?e.toString():e}))}))}Np(Rp,yp,{_typeCheck:function(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e},_isPresent:function(e){return yp.prototype._cast.call(this,e)&&e.length>0},length:function(e,t){return void 0===t&&(t=rf.length),this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return Tp(t)||t.length===this.resolve(e)}})},min:function(e,t){return void 0===t&&(t=rf.min),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Tp(t)||t.length>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=rf.max),this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return Tp(t)||t.length<=this.resolve(e)}})},matches:function(e,t){var n,r,i=!1;return t&&("string"==typeof t&&(n=t),"object"==typeof t&&(i=t.excludeEmptyString,n=t.message,r=t.name)),this.test({name:r||"matches",message:n||rf.matches,params:{regex:e},test:function(t){return Tp(t)||""===t&&i||-1!==t.search(e)}})},email:function(e){return void 0===e&&(e=rf.email),this.matches(_p,{name:"email",message:e,excludeEmptyString:!0})},url:function(e){return void 0===e&&(e=rf.url),this.matches(kp,{name:"url",message:e,excludeEmptyString:!0})},ensure:function(){return this.default("").transform((function(e){return null===e?"":e}))},trim:function(e){return void 0===e&&(e=rf.trim),this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:Dp})},lowercase:function(e){return void 0===e&&(e=rf.lowercase),this.transform((function(e){return Tp(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Tp(e)||e===e.toLowerCase()}})},uppercase:function(e){return void 0===e&&(e=rf.uppercase),this.transform((function(e){return Tp(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Tp(e)||e===e.toUpperCase()}})}});function Mp(){var e=this;if(!(this instanceof Mp))return new Mp;yp.call(this,{type:"number"}),this.withMutation((function(){e.transform((function(e){var t=e;if("string"==typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}Np(Mp,yp,{_typeCheck:function(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!function(e){return e!=+e}(e)},min:function(e,t){return void 0===t&&(t=af.min),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Tp(t)||t>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=af.max),this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Tp(t)||t<=this.resolve(e)}})},lessThan:function(e,t){return void 0===t&&(t=af.lessThan),this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return Tp(t)||t<this.resolve(e)}})},moreThan:function(e,t){return void 0===t&&(t=af.moreThan),this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return Tp(t)||t>this.resolve(e)}})},positive:function(e){return void 0===e&&(e=af.positive),this.moreThan(0,e)},negative:function(e){return void 0===e&&(e=af.negative),this.lessThan(0,e)},integer:function(e){return void 0===e&&(e=af.integer),this.test({name:"integer",message:e,test:function(e){return Tp(e)||Number.isInteger(e)}})},truncate:function(){return this.transform((function(e){return Tp(e)?e:0|e}))},round:function(e){var t=["ceil","floor","round","trunc"];if("trunc"===(e=e&&e.toLowerCase()||"round"))return this.truncate();if(-1===t.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+t.join(", "));return this.transform((function(t){return Tp(t)?t:Math[e](t)}))}});var Fp=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Bp=new Date("");function Pp(){var e=this;if(!(this instanceof Pp))return new Pp;yp.call(this,{type:"date"}),this.withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=Fp.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?Bp:new Date(e))}))}))}function Lp(e,t){return t||(t=e.slice(0)),e.raw=t,e}Np(Pp,yp,{_typeCheck:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t},min:function(e,t){void 0===t&&(t=of.min);var n=e;if(!fp.isRef(n)&&(n=this.cast(e),!this._typeCheck(n)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return Tp(e)||e>=this.resolve(n)}})},max:function(e,t){void 0===t&&(t=of.max);var n=e;if(!fp.isRef(n)&&(n=this.cast(e),!this._typeCheck(n)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return Tp(e)||e<=this.resolve(n)}})}});var jp=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Up=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qp=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var zp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Vp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Hp="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$p="["+Hp+"]",Wp="\\d+",Qp="[\\u2700-\\u27bf]",Gp="[a-z\\xdf-\\xf6\\xf8-\\xff]",Yp="[^\\ud800-\\udfff"+Hp+Wp+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Kp="(?:\\ud83c[\\udde6-\\uddff]){2}",Zp="[\\ud800-\\udbff][\\udc00-\\udfff]",Jp="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Xp="(?:"+Gp+"|"+Yp+")",eh="(?:"+Jp+"|"+Yp+")",th="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",nh="[\\ufe0e\\ufe0f]?"+th+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Kp,Zp].join("|")+")[\\ufe0e\\ufe0f]?"+th+")*"),rh="(?:"+[Qp,Kp,Zp].join("|")+")"+nh,ih=RegExp([Jp+"?"+Gp+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[$p,Jp,"$"].join("|")+")",eh+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[$p,Jp+Xp,"$"].join("|")+")",Jp+"?"+Xp+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Jp+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wp,rh].join("|"),"g");function ah(e,t,n){return e=ec(e),void 0===(t=n?void 0:t)?function(e){return Vp.test(e)}(e)?function(e){return e.match(ih)||[]}(e):function(e){return e.match(zp)||[]}(e):e.match(t)||[]}var oh=RegExp("['’]","g");function sh(e){return function(t){return function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}(ah(function(e){return(e=ec(e))&&e.replace(Up,jp).replace(qp,"")}(t).replace(oh,"")),e,"")}}var uh=sh((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function lh(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(e,t,n)}var ch,dh=(ch="toUpperCase",function(e){var t=Md(e=ec(e))?$d(e):void 0,n=t?t[0]:e.charAt(0),r=t?lh(t,1).join(""):e.slice(1);return n[ch]()+r});var fh=sh((function(e,t,n){return t=t.toLowerCase(),e+(n?function(e){return dh(ec(e).toLowerCase())}(t):t)}));var ph=function(e){return hh(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)};function hh(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||u(e[a],a,new Set);return r;function u(e,t,a){if(a.has(e)){var l;try{l=", node was:"+JSON.stringify(e)}catch(e){l=""}throw new Error("Cyclic dependency"+l)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];u(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}function mh(e,t){void 0===t&&(t=[]);var n=[],r=[];function i(e,i){var a=sp(e)[0];~r.indexOf(a)||r.push(a),~t.indexOf(i+"-"+a)||n.push([i,a])}for(var a in e)if(fc(e,a)){var o=e[a];~r.indexOf(a)||r.push(a),fp.isRef(o)&&o.isSibling?i(o.path,a):cf(o)&&o._deps&&o._deps.forEach((function(e){return i(e,a)}))}return ph.array(r,n).reverse()}function vh(e,t){var n=1/0;return e.some((function(e,r){if(-1!==t.path.indexOf(e))return n=r,!0})),n}function gh(e){var t=Object.keys(e);return function(e,n){return vh(t,e)-vh(t,n)}}function yh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.reduce((function(e,t){var r=n.shift();return e+(null==r?"":r)+t}));return i.replace(/^\./,"")}function bh(){var e=Lp(["",'["','"]']);return bh=function(){return e},e}function Eh(){var e=Lp(["",".",""]);return Eh=function(){return e},e}function wh(){var e=Lp(["",".",""]);return wh=function(){return e},e}ph.array=hh;var xh=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Oh(e){var t=this;if(!(this instanceof Oh))return new Oh(e);yp.call(this,{type:"object",default:function(){var e=this;if(this._nodes.length){var t={};return this._nodes.forEach((function(n){t[n]=e.fields[n].default?e.fields[n].default():void 0})),t}}}),this.fields=Object.create(null),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){t.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.shape(e)}))}function Ah(){var e=Lp(["","[","]"]);return Ah=function(){return e},e}function Ch(){var e=Lp(["","[","]"]);return Ch=function(){return e},e}function Sh(e){var t=this;if(!(this instanceof Sh))return new Sh(e);yp.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){t.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.of(e)}))}Np(Oh,yp,{_typeCheck:function(e){return xh(e)||"function"==typeof e},_cast:function(e,t){var n=this;void 0===t&&(t={});var r=yp.prototype._cast.call(this,e,t);if(void 0===r)return this.default();if(!this._typeCheck(r))return r;var i=this.fields,a=!0===this._option("stripUnknown",t),o=this._nodes.concat(Object.keys(r).filter((function(e){return-1===n._nodes.indexOf(e)}))),s={},u=el({},t,{parent:s,__validating:!1}),l=!1;return o.forEach((function(e){var n=i[e],o=fc(r,e);if(n){var c,d=n._options&&n._options.strict;if(u.path=yh(wh(),t.path,e),u.value=r[e],!0===(n=n.resolve(u))._strip)return void(l=l||e in r);void 0!==(c=t.__validating&&d?r[e]:n.cast(r[e],u))&&(s[e]=c)}else o&&!a&&(s[e]=r[e]);s[e]!==r[e]&&(l=!0)})),l?s:r},_validate:function(e,t){var n,r,i=this;void 0===t&&(t={});var a=t.sync,o=[],s=null!=t.originalValue?t.originalValue:e;return n=this._option("abortEarly",t),r=this._option("recursive",t),t=el({},t,{__validating:!0,originalValue:s}),yp.prototype._validate.call(this,e,t).catch(xf(n,o)).then((function(e){if(!r||!xh(e)){if(o.length)throw o[0];return e}s=s||e;var u=i._nodes.map((function(n){var r=-1===n.indexOf(".")?yh(Eh(),t.path,n):yh(bh(),t.path,n),o=i.fields[n],u=el({},t,{path:r,parent:e,originalValue:s[n]});return o&&o.validate?(u.strict=!0,o.validate(e[n],u)):function(e){return e?gf:Promise}(a).resolve(!0)}));return Af({sync:a,validations:u,value:e,errors:o,endEarly:n,path:t.path,sort:gh(i.fields)})}))},concat:function(e){var t=yp.prototype.concat.call(this,e);return t._nodes=mh(t.fields,t._excludedEdges),t},shape:function(e,t){void 0===t&&(t=[]);var n=this.clone(),r=el(n.fields,e);if(n.fields=r,t.length){Array.isArray(t[0])||(t=[t]);var i=t.map((function(e){return e[0]+"-"+e[1]}));n._excludedEdges=n._excludedEdges.concat(i)}return n._nodes=mh(r,n._excludedEdges),n},from:function(e,t,n){var r=up(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return fc(i,e)&&(a=el({},i),n||delete a[e],a[t]=r(i)),a}))},noUnknown:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=sf.noUnknown),"string"==typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){var n=function(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}(this.schema,t);return null==t||!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n._options.stripUnknown=e,n},unknown:function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=sf.noUnknown),this.noUnknown(!e,t)},transformKeys:function(e){return this.transform((function(t){return t&&function(e,t){var n={};return t=Qf(t),If(e,(function(e,r,i){mc(n,t(e,r,i),e)})),n}(t,(function(t,n){return e(n)}))}))},camelCase:function(){return this.transformKeys(fh)},snakeCase:function(){return this.transformKeys(uh)},constantCase:function(){return this.transformKeys((function(e){return uh(e).toUpperCase()}))},describe:function(){var e=yp.prototype.describe.call(this);return e.fields=Gf(this.fields,(function(e){return e.describe()})),e}}),Np(Sh,yp,{_typeCheck:function(e){return Array.isArray(e)},_cast:function(e,t){var n=this,r=yp.prototype._cast.call(this,e,t);if(!this._typeCheck(r)||!this.innerType)return r;var i=!1,a=r.map((function(e,r){var a=n.innerType.cast(e,el({},t,{path:yh(Ch(),t.path,r)}));return a!==e&&(i=!0),a}));return i?a:r},_validate:function(e,t){var n=this;void 0===t&&(t={});var r=[],i=t.sync,a=t.path,o=this.innerType,s=this._option("abortEarly",t),u=this._option("recursive",t),l=null!=t.originalValue?t.originalValue:e;return yp.prototype._validate.call(this,e,t).catch(xf(s,r)).then((function(e){if(!u||!o||!n._typeCheck(e)){if(r.length)throw r[0];return e}l=l||e;var c=e.map((function(n,r){var i=yh(Ah(),t.path,r),a=el({},t,{path:i,strict:!0,parent:e,originalValue:l[r]});return!o.validate||o.validate(n,a)}));return Af({sync:i,path:a,value:e,errors:r,endEarly:s,validations:c})}))},_isPresent:function(e){return yp.prototype._cast.call(this,e)&&e.length>0},of:function(e){var t=this.clone();if(!1!==e&&!cf(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+tf(e));return t._subType=e,t.innerType=e,t},min:function(e,t){return t=t||uf.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Tp(t)||t.length>=this.resolve(e)}})},max:function(e,t){return t=t||uf.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Tp(t)||t.length<=this.resolve(e)}})},ensure:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))},compact:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))},describe:function(){var e=yp.prototype.describe.call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}});var Nh=function(){function e(e){this._resolve=function(t,n){var r=e(t,n);if(!cf(r))throw new TypeError("lazy() functions must return a valid schema");return r.resolve(n)}}var t=e.prototype;return t.resolve=function(e){return this._resolve(e.value,e)},t.cast=function(e,t){return this._resolve(e,t).cast(e,t)},t.validate=function(e,t){return this._resolve(e,t).validate(e,t)},t.validateSync=function(e,t){return this._resolve(e,t).validateSync(e,t)},t.validateAt=function(e,t,n){return this._resolve(t,n).validateAt(e,t,n)},t.validateSyncAt=function(e,t,n){return this._resolve(t,n).validateSyncAt(e,t,n)},e}();Nh.prototype.__isYupSchema__=!0;var Ih=Ip;var Th=Object.freeze({__proto__:null,mixed:yp,string:Rp,number:Mp,bool:Ip,boolean:Ih,date:Pp,object:Oh,array:Sh,ref:function(e,t){return new fp(e,t)},lazy:function(e){return new Nh(e)},reach:function(e,t,n,r){return vp(e,t,n,r).schema},isSchema:cf,addMethod:function(e,t,n){if(!e||!cf(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n},setLocale:function(e){Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){lf[t][n]=e[t][n]}))}))},ValidationError:Ef}),_h=H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["IDENTITY_PROOF","REGISTRATION_PROOF"],r=["IDENTITY_PROOF","REGISTRATION_PROOF","ARTICLES_OF_ASSOCIATION"],i=["IDENTITY_PROOF","REGISTRATION_PROOF","ARTICLES_OF_ASSOCIATION"];Th.setLocale({mixed:{required:"mixed.required",notType:"mixed.notType",oneOf:"mixed.oneOf"},string:{min:function(e){return{key:"string.min",values:{min:e.min}}},length:function(e){return{key:"string.length",values:{length:e.length}}},email:"string.email"},date:{max:function(e){return{key:"date.max",values:{max:e.max}}}}});var a=Th.object().shape({email:Th.string().email().required(),password:Th.string().required()}),o=Th.object().shape({firstName:Th.string().min(2).required()}),s=Th.object().shape({AddressLine1:Th.string().required(),City:Th.string().required(),PostalCode:Th.string().required(),Country:Th.string().length(2).required()});
/*!
 * @license
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
function u(e){if(null!=e){var t=new RegExp("^[0-9]{2}$",""),n=l[e.slice(0,2)];if(void 0!==n&&n.chars===e.length&&t.test(e.slice(2,4))&&(r=e.slice(4),i=n.bban_regexp,new RegExp(i,"").test(r))&&function(e){for(var t=parseInt(e.slice(2,4),10),n=e.slice(3)+e.slice(0,2)+"00",r="",i=1;i<n.length;i++){var a=n.charCodeAt(i);r+=a>=65?(a-55).toString():n[i]}for(;r.length>2;){var o=r.slice(0,6);r=(parseInt(o,10)%97).toString()+r.slice(o.length)}return 98-parseInt(r,10)%97===t}(e))return!0}var r,i;return!1}var l={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{chars:null,bban_regexp:null,IBANRegistry:!1},AG:{chars:null,bban_regexp:null,IBANRegistry:!1},AI:{chars:null,bban_regexp:null,IBANRegistry:!1},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{chars:null,bban_regexp:null,IBANRegistry:!1},AO:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!1},AQ:{chars:null,bban_regexp:null,IBANRegistry:!1},AR:{chars:null,bban_regexp:null,IBANRegistry:!1},AS:{chars:null,bban_regexp:null,IBANRegistry:!1},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},AU:{chars:null,bban_regexp:null,IBANRegistry:!1},AW:{chars:null,bban_regexp:null,IBANRegistry:!1},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},BB:{chars:null,bban_regexp:null,IBANRegistry:!1},BD:{chars:null,bban_regexp:null,IBANRegistry:!1},BE:{chars:16,bban_regexp:"^[0-9]{12}$",IBANRegistry:!0},BF:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:16,bban_regexp:"^[0-9]{12}$",IBANRegistry:!1},BJ:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$",IBANRegistry:!1},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{chars:null,bban_regexp:null,IBANRegistry:!1},BN:{chars:null,bban_regexp:null,IBANRegistry:!1},BO:{chars:null,bban_regexp:null,IBANRegistry:!1},BQ:{chars:null,bban_regexp:null,IBANRegistry:!1},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{chars:null,bban_regexp:null,IBANRegistry:!1},BT:{chars:null,bban_regexp:null,IBANRegistry:!1},BV:{chars:null,bban_regexp:null,IBANRegistry:!1},BW:{chars:null,bban_regexp:null,IBANRegistry:!1},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{chars:null,bban_regexp:null,IBANRegistry:!1},CA:{chars:null,bban_regexp:null,IBANRegistry:!1},CC:{chars:null,bban_regexp:null,IBANRegistry:!1},CD:{chars:null,bban_regexp:null,IBANRegistry:!1},CF:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},CG:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$",IBANRegistry:!1},CK:{chars:null,bban_regexp:null,IBANRegistry:!1},CL:{chars:null,bban_regexp:null,IBANRegistry:!1},CM:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},CN:{chars:null,bban_regexp:null,IBANRegistry:!1},CO:{chars:null,bban_regexp:null,IBANRegistry:!1},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{chars:null,bban_regexp:null,IBANRegistry:!1},CV:{chars:null,bban_regexp:null,IBANRegistry:!1},CW:{chars:null,bban_regexp:null,IBANRegistry:!1},CX:{chars:null,bban_regexp:null,IBANRegistry:!1},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},DM:{chars:null,bban_regexp:null,IBANRegistry:!1},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!1},EC:{chars:null,bban_regexp:null,IBANRegistry:!1},EE:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{chars:null,bban_regexp:null,IBANRegistry:!1},ER:{chars:null,bban_regexp:null,IBANRegistry:!1},ES:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},ET:{chars:null,bban_regexp:null,IBANRegistry:!1},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},FJ:{chars:null,bban_regexp:null,IBANRegistry:!1},FK:{chars:null,bban_regexp:null,IBANRegistry:!1},FM:{chars:null,bban_regexp:null,IBANRegistry:!1},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0},GD:{chars:null,bban_regexp:null,IBANRegistry:!1},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{chars:null,bban_regexp:null,IBANRegistry:!1},GH:{chars:null,bban_regexp:null,IBANRegistry:!1},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},GM:{chars:null,bban_regexp:null,IBANRegistry:!1},GN:{chars:null,bban_regexp:null,IBANRegistry:!1},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0},GS:{chars:null,bban_regexp:null,IBANRegistry:!1},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{chars:null,bban_regexp:null,IBANRegistry:!1},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$",IBANRegistry:!1},GY:{chars:null,bban_regexp:null,IBANRegistry:!1},HK:{chars:null,bban_regexp:null,IBANRegistry:!1},HM:{chars:null,bban_regexp:null,IBANRegistry:!1},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!1},HR:{chars:21,bban_regexp:"^[0-9]{17}$",IBANRegistry:!0},HT:{chars:null,bban_regexp:null,IBANRegistry:!1},HU:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0},ID:{chars:null,bban_regexp:null,IBANRegistry:!1},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{chars:null,bban_regexp:null,IBANRegistry:!1},IN:{chars:null,bban_regexp:null,IBANRegistry:!1},IO:{chars:null,bban_regexp:null,IBANRegistry:!1},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!1},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0},JE:{chars:null,bban_regexp:null,IBANRegistry:!1},JM:{chars:null,bban_regexp:null,IBANRegistry:!1},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{chars:null,bban_regexp:null,IBANRegistry:!1},KE:{chars:null,bban_regexp:null,IBANRegistry:!1},KG:{chars:null,bban_regexp:null,IBANRegistry:!1},KH:{chars:null,bban_regexp:null,IBANRegistry:!1},KI:{chars:null,bban_regexp:null,IBANRegistry:!1},KM:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},KN:{chars:null,bban_regexp:null,IBANRegistry:!1},KP:{chars:null,bban_regexp:null,IBANRegistry:!1},KR:{chars:null,bban_regexp:null,IBANRegistry:!1},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{chars:null,bban_regexp:null,IBANRegistry:!1},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{chars:null,bban_regexp:null,IBANRegistry:!1},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0},LK:{chars:null,bban_regexp:null,IBANRegistry:!1},LR:{chars:null,bban_regexp:null,IBANRegistry:!1},LS:{chars:null,bban_regexp:null,IBANRegistry:!1},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0},LY:{chars:null,bban_regexp:null,IBANRegistry:!1},MA:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!1},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},MH:{chars:null,bban_regexp:null,IBANRegistry:!1},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$",IBANRegistry:!1},MM:{chars:null,bban_regexp:null,IBANRegistry:!1},MN:{chars:null,bban_regexp:null,IBANRegistry:!1},MO:{chars:null,bban_regexp:null,IBANRegistry:!1},MP:{chars:null,bban_regexp:null,IBANRegistry:!1},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{chars:null,bban_regexp:null,IBANRegistry:!1},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{chars:null,bban_regexp:null,IBANRegistry:!1},MW:{chars:null,bban_regexp:null,IBANRegistry:!1},MX:{chars:null,bban_regexp:null,IBANRegistry:!1},MY:{chars:null,bban_regexp:null,IBANRegistry:!1},MZ:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!1},NA:{chars:null,bban_regexp:null,IBANRegistry:!1},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$",IBANRegistry:!1},NF:{chars:null,bban_regexp:null,IBANRegistry:!1},NG:{chars:null,bban_regexp:null,IBANRegistry:!1},NI:{chars:32,bban_regexp:"^[A-Z]{4}[0-9]{24}$",IBANRegistry:!1},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",IBANRegistry:!0},NP:{chars:null,bban_regexp:null,IBANRegistry:!1},NR:{chars:null,bban_regexp:null,IBANRegistry:!1},NU:{chars:null,bban_regexp:null,IBANRegistry:!1},NZ:{chars:null,bban_regexp:null,IBANRegistry:!1},OM:{chars:null,bban_regexp:null,IBANRegistry:!1},PA:{chars:null,bban_regexp:null,IBANRegistry:!1},PE:{chars:null,bban_regexp:null,IBANRegistry:!1},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{chars:null,bban_regexp:null,IBANRegistry:!1},PH:{chars:null,bban_regexp:null,IBANRegistry:!1},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{chars:null,bban_regexp:null,IBANRegistry:!1},PR:{chars:null,bban_regexp:null,IBANRegistry:!1},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},PW:{chars:null,bban_regexp:null,IBANRegistry:!1},PY:{chars:null,bban_regexp:null,IBANRegistry:!1},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},RU:{chars:null,bban_regexp:null,IBANRegistry:!1},RW:{chars:null,bban_regexp:null,IBANRegistry:!1},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{chars:null,bban_regexp:null,IBANRegistry:!1},SC:{chars:31,bban_regexp:"^[[A-Z]{4}[]0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{chars:null,bban_regexp:null,IBANRegistry:!1},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},SG:{chars:null,bban_regexp:null,IBANRegistry:!1},SH:{chars:null,bban_regexp:null,IBANRegistry:!1},SI:{chars:19,bban_regexp:"^[0-9]{15}$",IBANRegistry:!0},SJ:{chars:null,bban_regexp:null,IBANRegistry:!1},SK:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},SL:{chars:null,bban_regexp:null,IBANRegistry:!1},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0},SN:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$",IBANRegistry:!1},SO:{chars:null,bban_regexp:null,IBANRegistry:!1},SR:{chars:null,bban_regexp:null,IBANRegistry:!1},SS:{chars:null,bban_regexp:null,IBANRegistry:!1},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{chars:null,bban_regexp:null,IBANRegistry:!1},SY:{chars:null,bban_regexp:null,IBANRegistry:!1},SZ:{chars:null,bban_regexp:null,IBANRegistry:!1},TC:{chars:null,bban_regexp:null,IBANRegistry:!1},TD:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!1},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$",IBANRegistry:!1},TH:{chars:null,bban_regexp:null,IBANRegistry:!1},TJ:{chars:null,bban_regexp:null,IBANRegistry:!1},TK:{chars:null,bban_regexp:null,IBANRegistry:!1},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{chars:null,bban_regexp:null,IBANRegistry:!1},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{chars:null,bban_regexp:null,IBANRegistry:!1},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{chars:null,bban_regexp:null,IBANRegistry:!1},TV:{chars:null,bban_regexp:null,IBANRegistry:!1},TW:{chars:null,bban_regexp:null,IBANRegistry:!1},TZ:{chars:null,bban_regexp:null,IBANRegistry:!1},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{chars:null,bban_regexp:null,IBANRegistry:!1},UM:{chars:null,bban_regexp:null,IBANRegistry:!1},US:{chars:null,bban_regexp:null,IBANRegistry:!1},UY:{chars:null,bban_regexp:null,IBANRegistry:!1},UZ:{chars:null,bban_regexp:null,IBANRegistry:!1},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0},VC:{chars:null,bban_regexp:null,IBANRegistry:!1},VE:{chars:null,bban_regexp:null,IBANRegistry:!1},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{chars:null,bban_regexp:null,IBANRegistry:!1},VN:{chars:null,bban_regexp:null,IBANRegistry:!1},VU:{chars:null,bban_regexp:null,IBANRegistry:!1},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{chars:null,bban_regexp:null,IBANRegistry:!1},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{chars:null,bban_regexp:null,IBANRegistry:!1},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{chars:null,bban_regexp:null,IBANRegistry:!1},ZM:{chars:null,bban_regexp:null,IBANRegistry:!1},ZW:{chars:null,bban_regexp:null,IBANRegistry:!1}},c=Th.object().shape({OwnerName:Th.string().required(),OwnerAddress:s,IBAN:Th.string().required().test("IBAN","custom.iban",(function(e){return u(e||"")})),BIC:Th.string().notRequired().test("BIC","custom.bic",(function(e){return!e||""===e||(t=e||"",n=new RegExp("^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$",""),r=l[t.toUpperCase().slice(4,6)],n.test(t)&&void 0!==r);var t,n,r}))});function d(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function f(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function p(e){f(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function h(e){f(1,arguments);var t=p(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function m(e,t){f(2,arguments);var n=p(e),r=d(t),i=n.getMonth()+r,a=new Date(0);a.setFullYear(n.getFullYear(),i,1),a.setHours(0,0,0,0);var o=h(a);return n.setMonth(i,Math.min(o,n.getDate())),n}function v(e,t){f(2,arguments);var n=d(t);return m(e,12*n)}var g,y=function(e){return Th.date().max(function(e,t){f(2,arguments);var n=d(t);return v(e,-n)}(new Date,function(e){if(!e)return 18;e.toLocaleLowerCase();return 18}(e)),"custom.legalAge")},b=Th.object().shape({Name:Th.string().required(),Email:Th.string().email().required(),LegalPersonType:Th.string().required().oneOf(["BUSINESS","ORGANIZATION","SOLETRADER"]),CompanyNumber:Th.string().when("LegalPersonType",{is:function(e){return"BUSINESS"===e||"SOLETRADER"===e},then:Th.string().required().test("luhn","custom.luhn",(function(e){if(!e)return!1;var t=e.replace(/[\s]/g,"");if(!/^\d+$/.test(t))return!1;for(var n,r=0,i=!1,a=t.length;a>0;a-=1)n=parseInt(t.charAt(a-1),10),r+=i?n=(n*=2)>9?n-9:n:n,i=!i;return 0!==r&&r%10==0})),otherwise:Th.string().notRequired()}),LegalRepresentativeFirstName:Th.string().required(),LegalRepresentativeLastName:Th.string().required(),LegalRepresentativeEmail:Th.string().email().required(),LegalRepresentativeBirthday:Th.date().when("LegalRepresentativeCountryOfResidence",(function(e){return y(e).required()})),LegalRepresentativeNationality:Th.string().length(2).required(),LegalRepresentativeCountryOfResidence:Th.string().length(2).required(),LegalRepresentativeAddress:s,HeadquartersAddress:s}),E=Th.object().shape({City:Th.string().required(),Country:Th.string().length(2).required()}),w=Th.object().shape({FirstName:Th.string().required(),LastName:Th.string().required(),Address:s,Nationality:Th.string().length(2).required(),Birthday:Th.date().required(),Birthplace:E});(g=t.UserListsType||(t.UserListsType={})).all="all",g.test="test",g.admins="admins",g.noOrders="hasNoOrders",g.orders="hasOrders",g.membershipToBeRenewed="noMembership",g.validMembership="membership",g.contractSubscribers="contractSubscribers",g.newUsers="newUsers",g.waitingList="waitingList",g.freeList="freeList";var x=function(){function e(e){this.type=e}return e.getLists=function(){return[e.ALL,e.ADMINS,e.NO_ORDERS,e.WITH_ORDERS,e.NEW_USERS,e.MEMBERSHIP_TO_BE_RENEWED,e.VALID_MEMBERSHIP,e.WAITING_LIST,e.CONTRACT_SUBSCRIBERS]},e.getListByType=function(n){switch(n){case t.UserListsType.all:return e.ALL;case t.UserListsType.admins:return e.ADMINS;case t.UserListsType.test:return e.TEST;case t.UserListsType.noOrders:return e.NO_ORDERS;case t.UserListsType.orders:return e.WITH_ORDERS;case t.UserListsType.membershipToBeRenewed:return e.MEMBERSHIP_TO_BE_RENEWED;case t.UserListsType.validMembership:return e.VALID_MEMBERSHIP;case t.UserListsType.waitingList:return e.WAITING_LIST;case t.UserListsType.contractSubscribers:return e.CONTRACT_SUBSCRIBERS;case t.UserListsType.freeList:return e.FREE_LIST;default:return}},e.prototype.setData=function(e){this.data=e},e.prototype.getData=function(){return this.data},e.ALL=new e(t.UserListsType.all),e.TEST=new e(t.UserListsType.test),e.ADMINS=new e(t.UserListsType.admins),e.NO_ORDERS=new e(t.UserListsType.noOrders),e.WITH_ORDERS=new e(t.UserListsType.orders),e.MEMBERSHIP_TO_BE_RENEWED=new e(t.UserListsType.membershipToBeRenewed),e.VALID_MEMBERSHIP=new e(t.UserListsType.validMembership),e.CONTRACT_SUBSCRIBERS=new e(t.UserListsType.contractSubscribers),e.NEW_USERS=new e(t.UserListsType.newUsers),e.WAITING_LIST=new e(t.UserListsType.waitingList),e.FREE_LIST=new e(t.UserListsType.freeList),e}();t.MangopayBusineddKYCDocumentTypes=i,t.MangopayOrganizationKYCDocumentTypes=r,t.MangopaySoletraderKYCDocumentTypes=n,t.UserLists=x,t.customYup=Th,t.getMangopayRequiredKYCDocumentTypes=function(e){switch(e){case"SOLETRADER":return n;case"ORGANIZATION":return r;case"BUSINESS":return i;default:throw new Error("Invalid LegalPersonType: "+e)}},t.loginSchema=a,t.mangopayAddressSchema=s,t.mangopayBankAccountSchema=c,t.mangopayLegalPersonTypeRequiredUbo=function(e){return"BUSINESS"===e},t.mangopayLegalUserSchema=b,t.mangopayUboSchema=w,t.userSchema=o}));V(_h);var kh=_h.UserListsType,Dh=(_h.MangopayBusineddKYCDocumentTypes,_h.MangopayOrganizationKYCDocumentTypes,_h.MangopaySoletraderKYCDocumentTypes,_h.UserLists),Rh=(_h.customYup,_h.getMangopayRequiredKYCDocumentTypes),Mh=(_h.loginSchema,_h.mangopayAddressSchema,_h.mangopayBankAccountSchema,_h.mangopayLegalPersonTypeRequiredUbo),Fh=_h.mangopayLegalUserSchema,Bh=_h.mangopayUboSchema,Ph=_h.userSchema,Lh=function(e,t){if(t){var n=void 0,r={};return"object"==typeof t?(n=t.key,r=t.values):n=t,e(n,r)}};function jh(e,t){return function(r){var i=Cu(["yup"],{useSuspense:!1}).t,a=t?t(r):r;return a.helperText=Lh(i,a.helperText),n.createElement(e,T({},a))}}var Uh,qh=H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)a["f"+o]=111+o;function s(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return u(e,t)})),i=function(e){return r.some((function(t){return l(t,e)}))};return null==n?i:i(n)}function u(e,t){var n=t&&t.byKey,i={},a=(e=e.replace("++","+add")).split("+"),o=a.length;for(var s in r)i[r[s]]=!1;var u=!0,l=!1,f=void 0;try{for(var p,h=a[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value,v=m.endsWith("?")&&m.length>1;v&&(m=m.slice(0,-1));var g=d(m),y=r[g];1!==o&&y||(n?i.key=g:i.which=c(m)),y&&(i[y]=!v||null)}}catch(e){l=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(l)throw f}}return i}function l(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r))return!1}return!0}function c(e){return e=d(e),a[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=i[e]||e}t.default=s,t.isHotkey=s,t.isCodeHotkey=function(e,t){return s(e,t)},t.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=l,t.toKeyCode=c,t.toKeyName=d})),zh=V(qh),Vh=(qh.isHotkey,qh.isCodeHotkey,qh.isKeyHotkey);qh.parseHotkey,qh.compareHotkey,qh.toKeyCode,qh.toKeyName;
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Hh(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}function $h(e){var t,n;return!1!==Hh(e)&&("function"==typeof(t=e.constructor)&&(!1!==Hh(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}var Wh,Qh,Gh="undefined"!=typeof Symbol,Yh="undefined"!=typeof Map,Kh="undefined"!=typeof Set,Zh=Gh?Symbol("immer-nothing"):((Uh={})["immer-nothing"]=!0,Uh),Jh=Gh?Symbol("immer-draftable"):"__$immer_draftable",Xh=Gh?Symbol("immer-state"):"__$immer_state",em=Gh?Symbol.iterator:"@@iterator",tm=function(e,t){return(tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function nm(e,t){function n(){this.constructor=e}tm(e,t),e.prototype=(n.prototype=t.prototype,new n)}function rm(e){return!!e&&!!e[Xh]}function im(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[Jh]||!!e.constructor[Jh]||dm(e)||fm(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(Wh||(Wh={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(Qh||(Qh={}));var am="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function om(e,t){sm(e)===Wh.Object?am(e).forEach((function(n){return t(n,e[n],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function sm(e){if(e||gm(),e[Xh])switch(e[Xh].type){case Qh.ES5Object:case Qh.ProxyObject:return Wh.Object;case Qh.ES5Array:case Qh.ProxyArray:return Wh.Array;case Qh.Map:return Wh.Map;case Qh.Set:return Wh.Set}return Array.isArray(e)?Wh.Array:dm(e)?Wh.Map:fm(e)?Wh.Set:Wh.Object}function um(e,t){return sm(e)===Wh.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lm(e,t){return sm(e)===Wh.Map?e.get(t):e[t]}function cm(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function dm(e){return Yh&&e instanceof Map}function fm(e){return Kh&&e instanceof Set}function pm(e){return e.copy||e.base}function hm(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return am(e).forEach((function(r){if(r!==Xh){var i=Object.getOwnPropertyDescriptor(e,r),a=i.value;if(i.get){if(!t)throw new Error("Immer drafts cannot have computed properties");a=i.get.call(e)}i.enumerable?n[r]=a:Object.defineProperty(n,r,{value:a,writable:!0,configurable:!0})}})),n}function mm(e,t){if(im(e)&&!rm(e)&&!Object.isFrozen(e)){var n=sm(e);n===Wh.Set?e.add=e.clear=e.delete=vm:n===Wh.Map&&(e.set=e.clear=e.delete=vm),Object.freeze(e),t&&om(e,(function(e,t){return mm(t,!0)}))}}function vm(){throw new Error("This object has been frozen and should not be mutated")}function gm(){throw new Error("Illegal state, please file a bug")}var ym=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(bm),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var n=new e(e.current,t);return e.current=n,n},e}();function bm(e){var t=e[Xh];t.type===Qh.ProxyObject||t.type===Qh.ProxyArray?t.revoke():t.revoked=!0}function Em(e,t,n){var r=n.drafts[0],i=void 0!==t&&t!==r;if(e.willFinalize(n,t,i),i){if(r[Xh].modified)throw n.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");im(t)&&(t=wm(e,t,n),n.parent||Om(e,t)),n.patches&&(n.patches.push({op:"replace",path:[],value:t}),n.inversePatches.push({op:"replace",path:[],value:r[Xh].base}))}else t=wm(e,r,n,[]);return n.revoke(),n.patches&&n.patchListener(n.patches,n.inversePatches),t!==Zh?t:void 0}function wm(e,t,n,r){var i=t[Xh];if(!i)return Object.isFrozen(t)?t:xm(e,t,n);if(i.scope!==n)return t;if(!i.modified)return Om(e,i.base,!0),i.base;if(!i.finalized){if(i.finalized=!0,xm(e,i.draft,n,r),e.onDelete&&i.type!==Qh.Set)if(e.useProxies){om(i.assigned,(function(t,n){n||e.onDelete(i,t)}))}else{var a=i.base,o=i.copy;om(a,(function(t){um(o,t)||e.onDelete(i,t)}))}e.onCopy&&e.onCopy(i),e.autoFreeze&&n.canAutoFreeze&&mm(i.copy,!1),r&&n.patches&&function(e,t,n,r){switch(e.type){case Qh.ProxyObject:case Qh.ES5Object:case Qh.Map:return function(e,t,n,r){var i=e.base,a=e.copy;om(e.assigned,(function(e,o){var s=lm(i,e),u=lm(a,e),l=o?um(i,e)?"replace":"add":"remove";if(s!==u||"replace"!==l){var c=t.concat(e);n.push("remove"===l?{op:l,path:c}:{op:l,path:c,value:u}),r.push("add"===l?{op:"remove",path:c}:"remove"===l?{op:"add",path:c,value:s}:{op:"replace",path:c,value:s})}}))}(e,t,n,r);case Qh.ES5Array:case Qh.ProxyArray:return function(e,t,n,r){var i,a,o=e.base,s=e.assigned,u=e.copy;u||gm();u.length<o.length&&(o=(i=[u,o])[0],u=i[1],n=(a=[r,n])[0],r=a[1]);var l=u.length-o.length,c=0;for(;o[c]===u[c]&&c<o.length;)++c;var d=o.length;for(;d>c&&o[d-1]===u[d+l-1];)--d;for(var f=c;f<d;++f)if(s[f]&&u[f]!==o[f]){var p=t.concat([f]);n.push({op:"replace",path:p,value:u[f]}),r.push({op:"replace",path:p,value:o[f]})}var h=n.length;for(f=d+l-1;f>=d;--f){p=t.concat([f]);n[h+f-d]={op:"add",path:p,value:u[f]},r.push({op:"remove",path:p})}}(e,t,n,r);case Qh.Set:(function(e,t,n,r){var i=e.base,a=e.copy,o=0;i.forEach((function(e){if(!a.has(e)){var i=t.concat([o]);n.push({op:"remove",path:i,value:e}),r.unshift({op:"add",path:i,value:e})}o++})),o=0,a.forEach((function(e){if(!i.has(e)){var a=t.concat([o]);n.push({op:"add",path:a,value:e}),r.unshift({op:"remove",path:a,value:e})}o++}))})(e,t,n,r)}}(i,r,n.patches,n.inversePatches)}return i.copy}function xm(e,t,n,r){var i=t[Xh];return i&&(i.type!==Qh.ES5Object&&i.type!==Qh.ES5Array||(i.copy=hm(i.draft,!0)),t=i.copy),om(t,(function(a,o){return function e(t,n,r,i,a,o,s,u){if(s===a)throw Error("Immer forbids circular references");var l=!!i&&a===r,c=fm(a);if(rm(s)){var d=u&&l&&!c&&!um(i.assigned,o)?u.concat(o):void 0;s=wm(t,s,n,d),function(e,t,n){switch(sm(e)){case Wh.Map:e.set(t,n);break;case Wh.Set:e.delete(t),e.add(n);break;default:e[t]=n}}(a,o,s),rm(s)&&(n.canAutoFreeze=!1)}else{if(l&&cm(s,lm(i.base,o)))return;im(s)&&(om(s,(function(a,o){return e(t,n,r,i,s,a,o,u)})),n.parent||Om(t,s))}l&&t.onAssign&&!c&&t.onAssign(i,o,s)}(e,n,t,i,t,a,o,r)})),t}function Om(e,t,n){void 0===n&&(n=!1),e.autoFreeze&&!rm(t)&&mm(t,n)}var Am={get:function(e,t){if(t===Xh)return e;var n=e.drafts;if(!e.modified&&um(n,t))return n[t];var r=pm(e)[t];if(e.finalized||!im(r))return r;if(e.modified){if(r!==Sm(e.base,t))return r;n=e.copy}return n[t]=e.scope.immer.createProxy(r,e)},has:function(e,t){return t in pm(e)},ownKeys:function(e){return Reflect.ownKeys(pm(e))},set:function(e,t,n){if(!e.modified){var r=Sm(e.base,t);if(n?cm(r,n)||n===e.drafts[t]:cm(r,n)&&t in e.base)return!0;Im(e),Nm(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){return void 0!==Sm(e.base,t)||t in e.base?(e.assigned[t]=!1,Im(e),Nm(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pm(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&(r.writable=!0,r.configurable=e.type!==Qh.ProxyArray||"length"!==t),r},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},Cm={};function Sm(e,t){var n=e[Xh],r=Reflect.getOwnPropertyDescriptor(n?pm(n):e,t);return r&&r.value}function Nm(e){if(!e.modified){if(e.modified=!0,e.type===Qh.ProxyObject||e.type===Qh.ProxyArray){var t=e.copy=hm(e.base);om(e.drafts,(function(e,n){t[e]=n})),e.drafts=void 0}e.parent&&Nm(e.parent)}}function Im(e){e.copy||(e.copy=hm(e.base))}function Tm(e,t,n){e.drafts.forEach((function(e){e[Xh].finalizing=!0})),n?rm(t)&&t[Xh].scope===e&&Pm(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var n=t[Xh];if(!n)return;var r=n.base,i=n.draft,a=n.assigned,o=n.type;if(o===Qh.ES5Object)om(i,(function(t){t!==Xh&&(void 0!==r[t]||um(r,t)?a[t]||e(i[t]):(a[t]=!0,Dm(n)))})),om(r,(function(e){void 0!==i[e]||um(i,e)||(a[e]=!1,Dm(n))}));else if(o===Qh.ES5Array){if(jm(n)&&(Dm(n),a.length=!0),i.length<r.length)for(var s=i.length;s<r.length;s++)a[s]=!1;else for(s=r.length;s<i.length;s++)a[s]=!0;var u=Math.min(i.length,r.length);for(s=0;s<u;s++)void 0===a[s]&&e(i[s])}}(e.drafts[0]),Pm(e.drafts))}function _m(e,t){var n=Array.isArray(e),r=Mm(e);om(r,(function(t){!function(e,t,n){var r=Fm[t];r?r.enumerable=n:Fm[t]=r={configurable:!0,enumerable:n,get:function(){return function(e,t){Bm(e);var n=km(pm(e),t);if(e.finalizing)return n;if(n===km(e.base,t)&&im(n))return Rm(e),e.copy[t]=e.scope.immer.createProxy(n,e);return n}(this[Xh],t)},set:function(e){!function(e,t,n){if(Bm(e),e.assigned[t]=!0,!e.modified){if(cm(n,km(pm(e),t)))return;Dm(e),Rm(e)}e.copy[t]=n}(this[Xh],t,e)}};Object.defineProperty(e,t,r)}(r,t,n||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(!n||!n.enumerable)}(e,t))}));var i,a,o,s={type:n?Qh.ES5Array:Qh.ES5Object,scope:t?t.scope:ym.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoked:!1,isManual:!1};return i=r,a=Xh,o=s,Object.defineProperty(i,a,{value:o,enumerable:!1,writable:!0}),r}function km(e,t){var n=e[Xh];if(n&&!n.finalizing){n.finalizing=!0;var r=e[t];return n.finalizing=!1,r}return e[t]}function Dm(e){e.modified||(e.modified=!0,e.parent&&Dm(e.parent))}function Rm(e){e.copy||(e.copy=Mm(e.base))}function Mm(e){var t=e&&e[Xh];if(t){t.finalizing=!0;var n=hm(t.draft,!0);return t.finalizing=!1,n}return hm(e)}om(Am,(function(e,t){Cm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Cm.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return Am.deleteProperty.call(this,e[0],t)},Cm.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return Am.set.call(this,e[0],t,n,e[0])};var Fm={};function Bm(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(pm(e)))}function Pm(e){for(var t=e.length-1;t>=0;t--){var n=e[t][Xh];if(!n.modified)switch(n.type){case Qh.ES5Array:jm(n)&&Dm(n);break;case Qh.ES5Object:Lm(n)&&Dm(n)}}}function Lm(e){for(var t=e.base,n=e.draft,r=Object.keys(n),i=r.length-1;i>=0;i--){var a=r[i],o=t[a];if(void 0===o&&!um(t,a))return!0;var s=n[a],u=s&&s[Xh];if(u?u.base!==o:!cm(s,o))return!0}return r.length!==Object.keys(t).length}function jm(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var Um=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[Xh]={type:Qh.Map,parent:t,scope:t?t.scope:ym.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}nm(t,e);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return pm(this[Xh]).size},enumerable:!0,configurable:!0}),n.has=function(e){return pm(this[Xh]).has(e)},n.set=function(e,t){var n=this[Xh];return Bm(n),pm(n).get(e)!==t&&(qm(n),n.scope.immer.markChanged(n),n.assigned.set(e,!0),n.copy.set(e,t),n.assigned.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[Xh];return Bm(t),qm(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},n.clear=function(){var e=this[Xh];return Bm(e),qm(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},n.forEach=function(e,t){var n=this;pm(this[Xh]).forEach((function(r,i,a){e.call(t,n.get(i),i,n)}))},n.get=function(e){var t=this[Xh];Bm(t);var n=pm(t).get(e);if(t.finalized||!im(n))return n;if(n!==t.base.get(e))return n;var r=t.scope.immer.createProxy(n,t);return qm(t),t.copy.set(e,r),r},n.keys=function(){return pm(this[Xh]).keys()},n.values=function(){var e,t=this,n=this.keys();return(e={})[em]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,n=this.keys();return(e={})[em]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},n[em]=function(){return this.entries()},t}(Map);function qm(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var zm=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[Xh]={type:Qh.Set,parent:t,scope:t?t.scope:ym.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}nm(t,e);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return pm(this[Xh]).size},enumerable:!0,configurable:!0}),n.has=function(e){var t=this[Xh];return Bm(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},n.add=function(e){var t=this[Xh];return Bm(t),t.copy?t.copy.add(e):t.base.has(e)||(Vm(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[Xh];return Bm(t),Vm(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},n.clear=function(){var e=this[Xh];return Bm(e),Vm(e),e.scope.immer.markChanged(e),e.copy.clear()},n.values=function(){var e=this[Xh];return Bm(e),Vm(e),e.copy.values()},n.entries=function(){var e=this[Xh];return Bm(e),Vm(e),e.copy.entries()},n.keys=function(){return this.values()},n[em]=function(){return this.values()},n.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}(Set);function Vm(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(im(t)){var n=e.scope.immer.createProxy(t,e);e.drafts.set(t,n),e.copy.add(n)}else e.copy.add(t)})))}function Hm(e,t){return t.forEach((function(t){var n=t.path,r=t.op;n.length||gm();for(var i=e,a=0;a<n.length-1;a++)if(!(i=lm(i,n[a]))||"object"!=typeof i)throw new Error("Cannot apply patch, path doesn't resolve: "+n.join("/"));var o=sm(i),s=$m(t.value),u=n[n.length-1];switch(r){case"replace":switch(o){case Wh.Map:return i.set(u,s);case Wh.Set:throw new Error('Sets cannot have "replace" patches.');default:return i[u]=s}case"add":switch(o){case Wh.Array:return i.splice(u,0,s);case Wh.Map:return i.set(u,s);case Wh.Set:return i.add(s);default:return i[u]=s}case"remove":switch(o){case Wh.Array:return i.splice(u,1);case Wh.Map:return i.delete(u);case Wh.Set:return i.delete(t.value);default:return delete i[u]}default:throw new Error("Unsupported patch operation: "+r)}})),e}function $m(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map($m);if(dm(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],$m(e[1])]})));if(fm(e))return new Set(Array.from(e).map($m));var t=Object.create(Object.getPrototypeOf(e));for(var n in e)t[n]=$m(e[n]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Wm(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var Qm={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:"undefined"!=typeof process?"production"!==process.env.NODE_ENV:"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},Gm=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,om(Qm,(function(n,r){var i,a;t[n]=null!=(a=null===(i=e)||void 0===i?void 0:i[n])?a:r})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,n){var r,i=this;if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=this;return function(e){var n=arguments,r=this;void 0===e&&(e=a);for(var i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return o.produce(e,(function(e){return t.call.apply(t,Wm([r,e],i))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("The third argument to `produce` must be a function or undefined");if(im(e)){var s=ym.enter(this),u=this.createProxy(e,void 0),l=!0;try{r=t(u),l=!1}finally{l?s.revoke():s.leave()}return"undefined"!=typeof Promise&&r instanceof Promise?r.then((function(e){return s.usePatches(n),Em(i,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(n),Em(this,r,s))}if((r=t(e))!==Zh)return void 0===r&&(r=e),Om(this,r,!0),r},e.prototype.produceWithPatches=function(e,t,n){var r,i,a=this;return"function"==typeof e?function(t){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return a.produceWithPatches(t,(function(t){return e.apply(void 0,Wm([t],r))}))}:(n&&gm(),[this.produce(e,t,(function(e,t){r=e,i=t})),r,i])},e.prototype.createDraft=function(e){if(!im(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=ym.enter(this),n=this.createProxy(e,void 0);return n[Xh].isManual=!0,t.leave(),n},e.prototype.finishDraft=function(e,t){var n=e&&e[Xh];if(!n||!n.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(n.finalized)throw new Error("The given draft is already finalized");var r=n.scope;return r.usePatches(t),Em(this,void 0,r)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}return rm(e)?Hm(e,t):this.produce(e,(function(e){return Hm(e,t.slice(n+1))}))},e.prototype.createProxy=function(e,t){var n=dm(e)?function(e,t){return new Um(e,t)}(e,t):fm(e)?function(e,t){return new zm(e,t)}(e,t):this.useProxies?function(e,t){var n=Array.isArray(e),r={type:n?Qh.ProxyArray:Qh.ProxyObject,scope:t?t.scope:ym.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},i=r,a=Am;n&&(i=[r],a=Cm);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.draft=u,r.revoke=s,u}(e,t):_m(e,t);return(t?t.scope:ym.current).drafts.push(n),n},e.prototype.willFinalize=function(e,t,n){this.useProxies||Tm(e,t,n)},e.prototype.markChanged=function(e){this.useProxies?Nm(e):Dm(e)},e}()),Ym=Gm.produce,Km=(Gm.produceWithPatches.bind(Gm),Gm.setAutoFreeze.bind(Gm),Gm.setUseProxies.bind(Gm),Gm.applyPatches.bind(Gm),Gm.createDraft.bind(Gm)),Zm=Gm.finishDraft.bind(Gm),Jm=H((function(e,t){!function(n){var r=t,i=e&&e.exports==r&&e,a="object"==typeof z&&z;a.global!==a&&a.window!==a||(n=a);var o=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u=function(e){for(var t="",n=(e=e.replace(o,(function(e,t,n){return u(n)+t})).replace(s,"$2$1")).length;n--;)t+=e.charAt(n);return t},l={version:"0.2.0",reverse:u};if(r&&!r.nodeType)if(i)i.exports=l;else for(var c in l)l.hasOwnProperty(c)&&(r[c]=l[c]);else n.esrever=l}(z)})).reverse;function Xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,av=new WeakMap,ov=new WeakMap,sv=/\s/,uv=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,lv=/['\u2018\u2019]/,cv=e=>{for(var t=0,n=null,r=e.charCodeAt(0);r;)if(fv(r)){var i=pv(r,e,t);if("SURR"===n||"BMP"===n)break;t+=2,n=i?"MOD":"SURR",r=e.charCodeAt(t)}else if(8205!==r)if(mv(r)){if(n&&"ZWJ"!==n&&"VAR"!==n)break;t+=1,n="BMP",r=e.charCodeAt(t)}else{if(!hv(r)){if("MOD"===n){t+=1;break}break}if(n&&"ZWJ"!==n)break;t+=1,n="VAR",r=e.charCodeAt(t)}else t+=1,n="ZWJ",r=e.charCodeAt(t);return t||1},dv=(e,t)=>{if(sv.test(e))return!1;if(lv.test(e)){var n=t.charAt(0),r=cv(n);n=t.slice(0,r);var i=t.slice(r);if(dv(n,i))return!0}return!uv.test(e)},fv=e=>55296<=e&&e<=57343,pv=(e,t,n)=>{if(55356===e){var r=t.charCodeAt(n+1);return r<=57343&&r>=57339}return!1},hv=e=>e<=65039&&e>=65024,mv=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yv={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:a}=t;if(i){var o=yv.path(e,i),s="lowest"===r;for(var[u,l]of yv.levels(e,{at:o,voids:n,match:a,reverse:s}))if(!Fv.isText(u)&&!Cv.equals(o,l))return[u,l]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:yv.point(e,t,{edge:"end"}),focus:yv.end(e,[])},{distance:a=1}=r,o=0;for(var s of yv.positions(e,gv({},r,{at:i}))){if(o>a)break;0!==o&&(n=s),o++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:yv.start(e,[]),focus:yv.point(e,t,{edge:"start"})},{distance:a=1}=r,o=0;for(var s of yv.positions(e,gv({},r,{at:i,reverse:!0}))){if(o>a)break;0!==o&&(n=s),o++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[yv.start(e,t),yv.end(e,t)],end:(e,t)=>yv.point(e,t,{edge:"end"}),first(e,t){var n=yv.path(e,t,{edge:"start"});return yv.node(e,n)},fragment(e,t){var n=yv.range(e,t);return wv.fragment(e,n)},hasBlocks:(e,t)=>t.children.some(t=>yv.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>Fv.isText(t)||yv.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>Fv.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>bv.isElement(t)&&!e.isInline(t),isEditor:e=>$h(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||$h(e.marks))&&(null===e.selection||kv.isRange(e.selection))&&wv.isNodeList(e.children)&&Av.isOperationList(e.operations),isEnd(e,t,n){var r=yv.end(e,n);return Iv.equals(t,r)},isEdge:(e,t,n)=>yv.isStart(e,t,n)||yv.isEnd(e,t,n),isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&Fv.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:(e,t)=>bv.isElement(t)&&e.isInline(t),isNormalizing(e){var t=rv.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=yv.start(e,n);return Iv.equals(t,r)},isVoid:(e,t)=>bv.isElement(t)&&e.isVoid(t),last(e,t){var n=yv.path(e,t,{edge:"end"});return yv.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yv.path(e,t,n);return[wv.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),n){var o=[],s=yv.path(e,n);for(var[u,l]of wv.levels(e,s))if(a(u)&&(o.push([u,l]),!i&&yv.isVoid(e,u)))break;r&&o.reverse(),yield*o}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(kv.isExpanded(n)){var[r]=yv.nodes(e,{match:Fv.isText});if(r){var[i]=r;return ev(i,["text"])}return{}}var{anchor:a}=n,{path:o}=a,[s]=yv.leaf(e,o);if(0===a.offset){var u=yv.previous(e,{at:o,match:Fv.isText}),l=yv.above(e,{match:t=>yv.isBlock(e,t)});if(u&&l){var[c,d]=u,[,f]=l;Cv.isAncestor(f,d)&&(s=c)}}return ev(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:a=e.selection}=t;if(a){var[,o]=yv.last(e,a),[,s]=yv.last(e,[]),u=[o,s];if(Cv.isPath(a)&&0===a.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(Cv.isPath(a)){var[l]=yv.parent(e,a);i=e=>l.children.includes(e)}else i=()=>!0;var[,c]=yv.nodes(e,{at:u,match:i,mode:n,voids:r});return c}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yv.path(e,t,n);return[wv.get(e,r),r]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:i=!1,reverse:a=!1,voids:o=!1}=t,{match:s}=t;if(s||(s=()=>!0),n){var u,l;if(Ev.isSpan(n))u=n[0],l=n[1];else{var c=yv.path(e,n,{edge:"start"}),d=yv.path(e,n,{edge:"end"});u=a?d:c,l=a?c:d}var f,p=wv.nodes(e,{reverse:a,from:u,to:l,pass:t=>{var[n]=t;return!o&&yv.isVoid(e,n)}}),h=[];for(var[m,v]of p){var g=f&&0===Cv.compare(v,f[1]);if("highest"!==r||!g)if(s(m))if("lowest"===r&&g)f=[m,v];else{var y="lowest"===r?f:[m,v];y&&(i?h.push(y):yield y),f=[m,v]}else if(i&&!g&&Fv.isText(m))return}"lowest"===r&&f&&(i?h.push(f):yield f),i&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>tv.get(e)||[];if(yv.isNormalizing(e)){if(n){var i=Array.from(wv.nodes(e),e=>{var[,t]=e;return t});tv.set(e,i)}0!==r(e).length&&yv.withoutNormalizing(e,()=>{for(var t=42*r(e).length,n=0;0!==r(e).length;){if(n>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var i=r(e).pop(),a=yv.node(e,i);e.normalizeNode(a),n++}})}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yv.path(e,t,n),i=Cv.parent(r);return yv.node(e,i)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(Cv.isPath(t))if("start"===i){var[,a]=wv.first(e,t);t=a}else if("end"===i){var[,o]=wv.last(e,t);t=o}return kv.isRange(t)&&(t="start"===i?kv.start(t):"end"===i?kv.end(t):Cv.common(t.anchor.path,t.focus.path)),Iv.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return yv.pathRefs(e).delete(i),i.current=null,t}};return yv.pathRefs(e).add(i),i},pathRefs(e){var t=iv.get(e);return t||(t=new Set,iv.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(Cv.isPath(t)){var i;if("end"===r){var[,a]=wv.last(e,t);i=a}else{var[,o]=wv.first(e,t);i=o}var s=wv.get(e,i);if(!Fv.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(kv.isRange(t)){var[u,l]=kv.edges(t);return"start"===r?u:l}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return yv.pointRefs(e).delete(i),i.current=null,t}};return yv.pointRefs(e).add(i),i},pointRefs(e){var t=av.get(e);return t||(t=new Set,av.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:i=!1}=t;if(n){var a=yv.range(e,n),[o,s]=kv.edges(a),u=i?s:o,l="",c=0,d=0,f=null,p=!1,h=()=>{null==f&&(f="character"===r?cv(l):"word"===r?(e=>{for(var t,n=0,r=0,i=!1;t=e.charAt(r);){var a=cv(t);t=e.slice(r,r+a);var o=e.slice(r+a);if(dv(t,o))i=!0,n+=a;else{if(i)break;n+=a}r+=a}return n})(l):"line"===r||"block"===r?l.length:1,l=l.slice(f)),d=i?d-f:d+f,f=(c-=f)>=0?null:0-c};for(var[m,v]of yv.nodes(e,{at:n,reverse:i})){if(bv.isElement(m)){if(e.isVoid(m)){yield yv.start(e,v);continue}if(e.isInline(m))continue;if(yv.hasInlines(e,m)){var g=Cv.isAncestor(v,s.path)?s:yv.end(e,v),y=Cv.isAncestor(v,o.path)?o:yv.start(e,v),b=yv.string(e,{anchor:y,focus:g});l=i?Jm(b):b,p=!0}}if(Fv.isText(m)){var E=Cv.equals(v,u.path);for(c=m.text.length,d=i?c:0,E&&(c=i?u.offset:c-u.offset,d=u.offset),(E||p||"offset"===r)&&(yield{path:v,offset:d});""!==l&&(h(),c>=0);)yield{path:v,offset:d};p=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:a=e.selection}=t;if(a){var[,o]=yv.first(e,a),[,s]=yv.first(e,[]),u=[o,s];if(Cv.isPath(a)&&0===a.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(Cv.isPath(a)){var[l]=yv.parent(e,a);i=e=>l.children.includes(e)}else i=()=>!0;var[,c]=yv.nodes(e,{reverse:!0,at:u,match:i,mode:n,voids:r});return c}},range:(e,t,n)=>kv.isRange(t)&&!n?t:{anchor:yv.start(e,t),focus:yv.end(e,n||t)},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return yv.rangeRefs(e).delete(i),i.current=null,t}};return yv.rangeRefs(e).add(i),i},rangeRefs(e){var t=ov.get(e);return t||(t=new Set,ov.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>yv.point(e,t,{edge:"start"}),string(e,t){var n=yv.range(e,t),[r,i]=kv.edges(n),a="";for(var[o,s]of yv.nodes(e,{at:n,match:Fv.isText})){var u=o.text;Cv.equals(s,i.path)&&(u=u.slice(0,i.offset)),Cv.equals(s,r.path)&&(u=u.slice(r.offset)),a+=u}return a},transform(e,t){e.children=Km(e.children);var n=e.selection&&Km(e.selection);switch(t.type){case"insert_node":var{path:r,node:i}=t,a=wv.parent(e,r),o=r[r.length-1];if(a.children.splice(o,0,i),n)for(var[s,u]of kv.points(n))n[u]=Iv.transform(s,t);break;case"insert_text":var{path:l,offset:c,text:d}=t,f=wv.leaf(e,l),p=f.text.slice(0,c),h=f.text.slice(c);if(f.text=p+d+h,n)for(var[m,v]of kv.points(n))n[v]=Iv.transform(m,t);break;case"merge_node":var{path:g}=t,y=wv.get(e,g),b=Cv.previous(g),E=wv.get(e,b),w=wv.parent(e,g),x=g[g.length-1];if(Fv.isText(y)&&Fv.isText(E))E.text+=y.text;else{if(Fv.isText(y)||Fv.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(g,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(w.children.splice(x,1),n)for(var[O,A]of kv.points(n))n[A]=Iv.transform(O,t);break;case"move_node":var{path:C,newPath:S}=t;if(Cv.isAncestor(C,S))throw new Error("Cannot move a path [".concat(C,"] to new path [").concat(S,"] because the destination is inside itself."));var N=wv.get(e,C),I=wv.parent(e,C),T=C[C.length-1];I.children.splice(T,1);var _=Cv.transform(C,t),k=wv.get(e,Cv.parent(_)),D=_[_.length-1];if(k.children.splice(D,0,N),n)for(var[R,M]of kv.points(n))n[M]=Iv.transform(R,t);break;case"remove_node":var{path:F}=t,B=F[F.length-1];if(wv.parent(e,F).children.splice(B,1),n)for(var[P,L]of kv.points(n)){var j=Iv.transform(P,t);if(null!=n&&null!=j)n[L]=j;else{var U=void 0,q=void 0;for(var[z,V]of wv.texts(e)){if(-1!==Cv.compare(V,F)){q=[z,V];break}U=[z,V]}U?(P.path=U[1],P.offset=U[0].text.length):q?(P.path=q[1],P.offset=0):n=null}}break;case"remove_text":var{path:H,offset:$,text:W}=t,Q=wv.leaf(e,H),G=Q.text.slice(0,$),Y=Q.text.slice($+W.length);if(Q.text=G+Y,n)for(var[K,Z]of kv.points(n))n[Z]=Iv.transform(K,t);break;case"set_node":var{path:J,newProperties:X}=t;if(0===J.length)throw new Error("Cannot set properties on the root node!");var ee=wv.get(e,J);for(var te in X){if("children"===te||"text"===te)throw new Error('Cannot set the "'.concat(te,'" property of nodes!'));var ne=X[te];null==ne?delete ee[te]:ee[te]=ne}break;case"set_selection":var{newProperties:re}=t;if(null==re)n=re;else if(null==n){if(!kv.isRange(re))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(re)," when there is no current selection."));n=re}else Object.assign(n,re);break;case"split_node":var{path:ie,position:ae,properties:oe}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var se,ue=wv.get(e,ie),le=wv.parent(e,ie),ce=ie[ie.length-1];if(Fv.isText(ue)){var de=ue.text.slice(0,ae),fe=ue.text.slice(ae);ue.text=de,se=gv({},ue,{},oe,{text:fe})}else{var pe=ue.children.slice(0,ae),he=ue.children.slice(ae);ue.children=pe,se=gv({},ue,{},oe,{children:he})}if(le.children.splice(ce+1,0,se),n)for(var[me,ve]of kv.points(n))n[ve]=Iv.transform(me,t)}e.children=Zm(e.children),e.selection=n?rm(n)?Zm(n):n:null},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,a]=kv.edges(t);if(0!==i.offset||0!==a.offset||kv.isCollapsed(t))return t;var o=yv.above(e,{at:a,match:t=>yv.isBlock(e,t)}),s=o?o[1]:[],u={anchor:yv.start(e,[]),focus:a},l=!0;for(var[c,d]of yv.nodes(e,{at:u,match:Fv.isText,reverse:!0,voids:r}))if(l)l=!1;else if(""!==c.text||Cv.isBefore(d,s)){a={path:d,offset:c.text.length};break}return{anchor:i,focus:a}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yv.above(e,gv({},t,{match:t=>yv.isVoid(e,t)}))},withoutNormalizing(e,t){var n=yv.isNormalizing(e);rv.set(e,!1),t(),rv.set(e,n),yv.normalize(e)}},bv={isElement:e=>$h(e)&&wv.isNodeList(e.children)&&!yv.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||bv.isElement(e[0])),matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},Ev={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(Cv.isPath)},wv={ancestor(e,t){var n=wv.get(e,t);if(Fv.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of Cv.ancestors(t,n)){var i=[wv.ancestor(e,r),r];yield i}},child(e,t){if(Fv.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,i=wv.ancestor(e,t),{children:a}=i,o=r?a.length-1:0;r?o>=0:o<a.length;){var s=wv.child(i,o),u=t.concat(o);yield[s,u],o=r?o-1:o+1}},common(e,t,n){var r=Cv.common(t,n);return[wv.get(e,r),r]},descendant(e,t){var n=wv.get(e,t);if(yv.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of wv.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of wv.nodes(e,t))bv.isElement(n)&&(yield[n,r])},first(e,t){for(var n=t.slice(),r=wv.get(e,n);r&&!Fv.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Fv.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Ym(e,e=>{var[n,r]=kv.edges(t),i=wv.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!kv.includes(t,n)}});for(var[,a]of i){if(!kv.includes(t,a)){var o=wv.parent(e,a),s=a[a.length-1];o.children.splice(s,1)}if(Cv.equals(a,r.path)){var u=wv.leaf(e,a);u.text=u.text.slice(0,r.offset)}if(Cv.equals(a,n.path)){var l=wv.leaf(e,a);l.text=l.text.slice(n.offset)}}delete e.selection}).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Fv.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Fv.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:e=>Fv.isText(e)||bv.isElement(e)||yv.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||wv.isNode(e[0])),last(e,t){for(var n=t.slice(),r=wv.get(e,n);r&&!Fv.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=wv.get(e,t);if(!Fv.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of Cv.levels(t,n)){var i=wv.get(e,r);yield[i,r]}},matches:(e,t)=>bv.isElement(e)&&bv.matches(e,t)||Fv.isText(e)&&Fv.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:i=[],to:a}=t,o=new Set,s=[],u=e;!a||!(r?Cv.isBefore(s,a):Cv.isAfter(s,a));)if(o.has(u)||(yield[u,s]),o.has(u)||Fv.isText(u)||0===u.children.length||null!=n&&!1!==n([u,s])){if(0===s.length)break;if(!r){var l=Cv.next(s);if(wv.has(e,l)){s=l,u=wv.get(e,s);continue}}if(r&&0!==s[s.length-1])s=Cv.previous(s),u=wv.get(e,s);else s=Cv.parent(s),u=wv.get(e,s),o.add(u)}else{o.add(u);var c=r?u.children.length-1:0;Cv.isAncestor(s,i)&&(c=i[s.length]),s=s.concat(c),u=wv.get(e,s)}},parent(e,t){var n=Cv.parent(t),r=wv.get(e,n);if(Fv.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:e=>Fv.isText(e)?e.text:e.children.map(wv.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of wv.nodes(e,t))Fv.isText(n)&&(yield[n,r])}};function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Av={isNodeOperation:e=>Av.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!$h(e))return!1;switch(e.type){case"insert_node":return Cv.isPath(e.path)&&wv.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Cv.isPath(e.path);case"merge_node":return"number"==typeof e.position&&Cv.isPath(e.path)&&$h(e.properties);case"move_node":return Cv.isPath(e.path)&&Cv.isPath(e.newPath);case"remove_node":return Cv.isPath(e.path)&&wv.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Cv.isPath(e.path);case"set_node":return Cv.isPath(e.path)&&$h(e.properties)&&$h(e.newProperties);case"set_selection":return null===e.properties&&kv.isRange(e.newProperties)||null===e.newProperties&&kv.isRange(e.properties)||$h(e.properties)&&$h(e.newProperties);case"split_node":return Cv.isPath(e.path)&&"number"==typeof e.position&&$h(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||Av.isOperation(e[0])),isSelectionOperation:e=>Av.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>Av.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Ov({},e,{type:"remove_node"});case"insert_text":return Ov({},e,{type:"remove_text"});case"merge_node":return Ov({},e,{type:"split_node",path:Cv.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;return Cv.equals(t,n)?e:Cv.isSibling(n,t)?Ov({},e,{path:t,newPath:n}):Ov({},e,{path:Cv.transform(n,e),newPath:Cv.transform(Cv.next(n),e)});case"remove_node":return Ov({},e,{type:"insert_node"});case"remove_text":return Ov({},e,{type:"insert_text"});case"set_node":var{properties:r,newProperties:i}=e;return Ov({},e,{properties:i,newProperties:r});case"set_selection":var{properties:a,newProperties:o}=e;return Ov({},e,null==a?{properties:o,newProperties:null}:null==o?{properties:null,newProperties:a}:{properties:o,newProperties:a});case"split_node":return Ov({},e,{type:"merge_node",path:Cv.next(e.path)})}}},Cv={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=Cv.levels(e,t);return r=n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return Cv.equals(r,i)&&a>o},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return Cv.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return Cv.equals(r,i)&&a<o},equals:(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),isAfter:(e,t)=>1===Cv.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===Cv.compare(e,t),isBefore:(e,t)=>-1===Cv.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===Cv.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===Cv.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===Cv.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===Cv.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Cv.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!Cv.isAncestor(t,e)&&!Cv.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ym(e,r=>{var{affinity:i="forward"}=n;if(0!==e.length)switch(t.type){case"insert_node":var{path:a}=t;(Cv.equals(a,r)||Cv.endsBefore(a,r)||Cv.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var{path:o}=t;if(Cv.equals(o,r)||Cv.isAncestor(o,r))return null;Cv.endsBefore(o,r)&&(r[o.length-1]-=1);break;case"merge_node":var{path:s,position:u}=t;Cv.equals(s,r)||Cv.endsBefore(s,r)?r[s.length-1]-=1:Cv.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=u);break;case"split_node":var{path:l,position:c}=t;if(Cv.equals(l,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else Cv.endsBefore(l,r)?r[l.length-1]+=1:Cv.isAncestor(l,r)&&e[l.length]>=c&&(r[l.length-1]+=1,r[l.length]-=c);break;case"move_node":var{path:d,newPath:f}=t;if(Cv.equals(d,f))return;if(Cv.isAncestor(d,r)||Cv.equals(d,r)){var p=f.slice();return Cv.endsBefore(d,f)&&d.length<f.length&&(p[d.length-1]-=1),p.concat(r.slice(d.length))}Cv.isSibling(d,f)&&(Cv.isAncestor(f,r)||Cv.equals(f,r))?Cv.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:Cv.endsBefore(f,r)||Cv.equals(f,r)||Cv.isAncestor(f,r)?(Cv.endsBefore(d,r)&&(r[d.length-1]-=1),r[f.length-1]+=1):Cv.endsBefore(d,r)&&(Cv.equals(f,r)&&(r[f.length-1]+=1),r[d.length-1]-=1)}})}},Sv={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=Cv.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Iv={compare(e,t){var n=Cv.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:(e,t)=>1===Iv.compare(e,t),isBefore:(e,t)=>-1===Iv.compare(e,t),equals:(e,t)=>e.offset===t.offset&&Cv.equals(e.path,t.path),isPoint:e=>$h(e)&&"number"==typeof e.offset&&Cv.isPath(e.path),transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ym(e,e=>{var{affinity:r="forward"}=n,{path:i,offset:a}=e;switch(t.type){case"insert_node":case"move_node":e.path=Cv.transform(i,t,n);break;case"insert_text":Cv.equals(t.path,i)&&t.offset<=a&&(e.offset+=t.text.length);break;case"merge_node":Cv.equals(t.path,i)&&(e.offset+=t.position),e.path=Cv.transform(i,t,n);break;case"remove_text":Cv.equals(t.path,i)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(Cv.equals(t.path,i)||Cv.isAncestor(t.path,i))return null;e.path=Cv.transform(i,t,n);break;case"split_node":if(Cv.equals(t.path,i)){if(t.position===a&&null==r)return null;(t.position<a||t.position===a&&"forward"===r)&&(e.offset-=t.position,e.path=Cv.transform(i,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{affinity:"forward"})))}else e.path=Cv.transform(i,t,n)}})}},Tv={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=Iv.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var kv={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return kv.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=kv.edges(e);return t},equals:(e,t)=>Iv.equals(e.anchor,t.anchor)&&Iv.equals(e.focus,t.focus),includes(e,t){if(kv.isRange(t)){if(kv.includes(e,t.anchor)||kv.includes(e,t.focus))return!0;var[n,r]=kv.edges(e),[i,a]=kv.edges(t);return Iv.isBefore(n,i)&&Iv.isAfter(r,a)}var[o,s]=kv.edges(e),u=!1,l=!1;return Iv.isPoint(t)?(u=Iv.compare(t,o)>=0,l=Iv.compare(t,s)<=0):(u=Cv.compare(t,o.path)>=0,l=Cv.compare(t,s.path)<=0),u&&l},intersection(e,t){var n=ev(e,["anchor","focus"]),[r,i]=kv.edges(e),[a,o]=kv.edges(t),s=Iv.isBefore(r,a)?a:r,u=Iv.isBefore(i,o)?i:o;return Iv.isBefore(u,s)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:s,focus:u},n)},isBackward(e){var{anchor:t,focus:n}=e;return Iv.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Iv.equals(t,n)},isExpanded:e=>!kv.isCollapsed(e),isForward:e=>!kv.isBackward(e),isRange:e=>$h(e)&&Iv.isPoint(e.anchor)&&Iv.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=kv.edges(e);return t},transform(e,t,n){var r,i,{affinity:a="inward"}=n;return"inward"===a?kv.isForward(e)?(r="forward",i="backward"):(r="backward",i="forward"):"outward"===a?kv.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=a,i=a),Ym(e,e=>{var n=Iv.transform(e.anchor,t,{affinity:r}),a=Iv.transform(e.focus,t,{affinity:i});if(!n||!a)return null;e.anchor=n,e.focus=a})}},Dv={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=kv.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function Rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fv={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;for(var i in e)if((!r||"text"!==i)&&e[i]!==t[i])return!1;for(var a in t)if((!r||"text"!==a)&&e[a]!==t[a])return!1;return!0},isText:e=>$h(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||Fv.isText(e[0])),matches(e,t){for(var n in t)if("text"!==n&&e[n]!==t[n])return!1;return!0},decorations(e,t){var n=[Mv({},e)];for(var r of t){var i=ev(r,["anchor","focus"]),[a,o]=kv.edges(r),s=[],u=0;for(var l of n){var{length:c}=l.text,d=u;if(u+=c,a.offset<=d&&o.offset>=d+c)Object.assign(l,i),s.push(l);else if(a.offset>d+c||o.offset<d||o.offset===d&&0!==d)s.push(l);else{var f=l,p=void 0,h=void 0;if(o.offset<d+c){var m=o.offset-d;h=Mv({},f,{text:f.text.slice(m)}),f=Mv({},f,{text:f.text.slice(0,m)})}if(a.offset>d){var v=a.offset-d;p=Mv({},f,{text:f.text.slice(0,v)}),f=Mv({},f,{text:f.text.slice(v)})}Object.assign(f,i),p&&s.push(p),s.push(f),h&&s.push(h)}}n=s}return n}};function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uv={insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yv.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest"}=n,{at:o,match:s,select:u}=n;if(wv.isNode(t)&&(t=[t]),0!==t.length){var[l]=t;if(o||(o=e.selection?e.selection:e.children.length>0?yv.end(e,[]):[0],u=!0),null==u&&(u=!1),kv.isRange(o))if(r||(o=yv.unhangRange(e,o)),kv.isCollapsed(o))o=o.anchor;else{var[,c]=kv.edges(o),d=yv.pointRef(e,c);Wv.delete(e,{at:o}),o=d.unref()}if(Iv.isPoint(o)){null==s&&(s=Fv.isText(l)?e=>Fv.isText(e):e.isInline(l)?t=>Fv.isText(t)||yv.isInline(e,t):t=>yv.isBlock(e,t));var[f]=yv.nodes(e,{at:o.path,match:s,mode:a,voids:i});if(!f)return;var[,p]=f,h=yv.pathRef(e,p),m=yv.isEnd(e,o,p);Wv.splitNodes(e,{at:o,match:s,mode:a,voids:i});var v=h.unref();o=m?Cv.next(v):v}var g=Cv.parent(o),y=o[o.length-1];if(i||!yv.void(e,{at:g})){for(var b of t){var E=g.concat(y);y++,e.apply({type:"insert_node",path:E,node:b})}if(u){var w=yv.end(e,o);w&&Wv.select(e,w)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:a}=t;if(null==a&&(a=Cv.isPath(n)?zv(e,n):t=>yv.isBlock(e,t)),n){var o=yv.nodes(e,{at:n,match:a,mode:r,voids:i}),s=Array.from(o,t=>{var[,n]=t;return yv.pathRef(e,n)});for(var u of s){var l=u.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var c=yv.node(e,Cv.parent(l)),[d,f]=c,p=l[l.length-1],{length:h}=d.children;if(1===h){var m=Cv.next(f);Wv.moveNodes(e,{at:l,to:m,voids:i}),Wv.removeNodes(e,{at:f,voids:i})}else if(0===p)Wv.moveNodes(e,{at:l,to:f,voids:i});else if(p===h-1){var v=Cv.next(f);Wv.moveNodes(e,{at:l,to:v,voids:i})}else{var g=Cv.next(l),y=Cv.next(f);Wv.splitNodes(e,{at:g,voids:i}),Wv.moveNodes(e,{at:l,to:y,voids:i})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv.withoutNormalizing(e,()=>{var{match:n,at:r=e.selection}=t,{hanging:i=!1,voids:a=!1,mode:o="lowest"}=t;if(r){if(null==n)if(Cv.isPath(r)){var[s]=yv.parent(e,r);n=e=>s.children.includes(e)}else n=t=>yv.isBlock(e,t);if(!i&&kv.isRange(r)&&(r=yv.unhangRange(e,r)),kv.isRange(r))if(kv.isCollapsed(r))r=r.anchor;else{var[,u]=kv.edges(r),l=yv.pointRef(e,u);Wv.delete(e,{at:r}),r=l.unref(),null==t.at&&Wv.select(e,r)}var[c]=yv.nodes(e,{at:r,match:n,voids:a,mode:o}),d=yv.previous(e,{at:r,match:n,voids:a,mode:o});if(c&&d){var[f,p]=c,[h,m]=d;if(0!==p.length&&0!==m.length){var v,g,y=Cv.next(m),b=Cv.common(p,m),E=Cv.isSibling(p,m),w=Array.from(yv.levels(e,{at:p}),e=>{var[t]=e;return t}).slice(b.length).slice(0,-1),x=yv.above(e,{at:p,mode:"highest",match:e=>w.includes(e)&&bv.isElement(e)&&1===e.children.length}),O=x&&yv.pathRef(e,x[1]);if(Fv.isText(f)&&Fv.isText(h)){var A=ev(f,["text"]);g=h.text.length,v=A}else{if(!bv.isElement(f)||!bv.isElement(h))throw new Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(f)," ").concat(JSON.stringify(h)));A=ev(f,["children"]);g=h.children.length,v=A}E||Wv.moveNodes(e,{at:p,to:y,voids:a}),O&&Wv.removeNodes(e,{at:O.current,voids:a}),bv.isElement(h)&&yv.isEmpty(e,h)||Fv.isText(h)&&""===h.text?Wv.removeNodes(e,{at:m,voids:a}):e.apply({type:"merge_node",path:y,position:g,properties:v}),O&&O.unref()}}}})},moveNodes(e,t){yv.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:a=!1}=t,{match:o}=t;if(r){null==o&&(o=Cv.isPath(r)?zv(e,r):t=>yv.isBlock(e,t));var s=yv.pathRef(e,n),u=yv.nodes(e,{at:r,match:o,mode:i,voids:a}),l=Array.from(u,t=>{var[,n]=t;return yv.pathRef(e,n)});for(var c of l){var d=c.unref(),f=s.current;0!==d.length&&e.apply({type:"move_node",path:d,newPath:f})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:a=e.selection,match:o}=t;if(a){null==o&&(o=Cv.isPath(a)?zv(e,a):t=>yv.isBlock(e,t)),!n&&kv.isRange(a)&&(a=yv.unhangRange(e,a));var s=yv.nodes(e,{at:a,match:o,mode:i,voids:r}),u=Array.from(s,t=>{var[,n]=t;return yv.pathRef(e,n)});for(var l of u){var c=l.unref();if(c){var[d]=yv.node(e,c);e.apply({type:"remove_node",path:c,node:d})}}}})},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yv.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection}=n,{hanging:a=!1,mode:o="lowest",split:s=!1,voids:u=!1}=n;if(i){if(null==r&&(r=Cv.isPath(i)?zv(e,i):t=>yv.isBlock(e,t)),!a&&kv.isRange(i)&&(i=yv.unhangRange(e,i)),s&&kv.isRange(i)){var l=yv.rangeRef(e,i,{affinity:"inward"}),[c,d]=kv.edges(i),f="lowest"===o?"lowest":"highest";Wv.splitNodes(e,{at:d,match:r,mode:f,voids:u}),Wv.splitNodes(e,{at:c,match:r,mode:f,voids:u}),i=l.unref(),null==n.at&&Wv.select(e,i)}for(var[p,h]of yv.nodes(e,{at:i,match:r,mode:o,voids:u})){var m={},v={};if(0!==h.length){for(var g in t)"children"!==g&&"text"!==g&&t[g]!==p[g]&&(m[g]=p[g],v[g]=t[g]);0!==Object.keys(v).length&&e.apply({type:"set_node",path:h,properties:m,newProperties:v})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:r=!1}=t,{match:i,at:a=e.selection,height:o=0,always:s=!1}=t;if(null==i&&(i=t=>yv.isBlock(e,t)),kv.isRange(a)&&(a=qv(e,a)),Cv.isPath(a)){var u=a,l=yv.point(e,u),[c]=yv.parent(e,u);i=e=>e===c,o=l.path.length-u.length+1,a=l,s=!0}if(a){var d=yv.pointRef(e,a,{affinity:"backward"}),[f]=yv.nodes(e,{at:a,match:i,mode:n,voids:r});if(f){var p=yv.void(e,{at:a,mode:"highest"});if(!r&&p){var[h,m]=p;if(bv.isElement(h)&&e.isInline(h)){var v=yv.after(e,m);if(!v){var g=Cv.next(m);Wv.insertNodes(e,{text:""},{at:g,voids:r}),v=yv.point(e,g)}a=v,s=!0}o=a.path.length-m.length+1,s=!0}var y=yv.pointRef(e,a),b=a.path.length-o,[,E]=f,w=a.path.slice(0,b),x=0===o?a.offset:a.path[b]+0;for(var[O,A]of yv.levels(e,{at:w,reverse:!0,voids:r})){var C=!1;if(A.length<E.length||0===A.length||!r&&yv.isVoid(e,O))break;var S=d.current,N=yv.isEnd(e,S,A);if(s||!d||!yv.isEdge(e,S,A)){C=!0;var I=ev(O,["text","children"]);e.apply({type:"split_node",path:A,position:x,properties:I})}x=A[A.length-1]+(C||N?1:0)}if(null==t.at){var T=y.current||yv.end(e,[]);Wv.select(e,T)}d.unref(),y.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;Wv.setNodes(e,r,n)},unwrapNodes(e,t){yv.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:a=e.selection,match:o}=t;if(a){null==o&&(o=Cv.isPath(a)?zv(e,a):t=>yv.isBlock(e,t)),Cv.isPath(a)&&(a=yv.range(e,a));var s=kv.isRange(a)?yv.rangeRef(e,a):null,u=yv.nodes(e,{at:a,match:o,mode:n,voids:i}),l=Array.from(u,t=>{var[,n]=t;return yv.pathRef(e,n)}),c=function(t){var n=t.unref(),[a]=yv.node(e,n),o=yv.range(e,n);r&&s&&(o=kv.intersection(s.current,o)),Wv.liftNodes(e,{at:o,match:e=>a.children.includes(e),voids:i})};for(var d of l)c(d);s&&s.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yv.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=n,{match:o,at:s=e.selection}=n;if(s){if(null==o&&(o=Cv.isPath(s)?zv(e,s):e.isInline(t)?t=>yv.isInline(e,t)||Fv.isText(t):t=>yv.isBlock(e,t)),i&&kv.isRange(s)){var[u,l]=kv.edges(s),c=yv.rangeRef(e,s,{affinity:"inward"});Wv.splitNodes(e,{at:l,match:o,voids:a}),Wv.splitNodes(e,{at:u,match:o,voids:a}),s=c.unref(),null==n.at&&Wv.select(e,s)}var d=Array.from(yv.nodes(e,{at:s,match:e.isInline(t)?t=>yv.isBlock(e,t):e=>yv.isEditor(e),mode:"lowest",voids:a}));for(var[,f]of d){var p=kv.isRange(s)?kv.intersection(s,yv.range(e,f)):s;if(p){var h=Array.from(yv.nodes(e,{at:p,match:o,mode:r,voids:a}));h.length>0&&function(){var[n]=h,r=h[h.length-1],[,i]=n,[,o]=r,s=Cv.equals(i,o)?Cv.parent(i):Cv.common(i,o),u=yv.range(e,i,o),l=yv.node(e,s),[c]=l,d=s.length+1,f=Cv.next(o.slice(0,d)),p=jv({},t,{children:[]});Wv.insertNodes(e,p,{at:f,voids:a}),Wv.moveNodes(e,{at:u,match:e=>c.children.includes(e),to:f.concat(0),voids:a})}()}}}})}},qv=(e,t)=>{if(kv.isCollapsed(t))return t.anchor;var[,n]=kv.edges(t),r=yv.pointRef(e,n);return Wv.delete(e,{at:t}),r.unref()},zv=(e,t)=>{var[n]=yv.node(e,t);return e=>e===n};function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Wv=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{transform(e,t){e.children=Km(e.children);var n=e.selection&&Km(e.selection);switch(t.type){case"insert_node":var{path:r,node:i}=t,a=wv.parent(e,r),o=r[r.length-1];if(a.children.splice(o,0,i),n)for(var[s,u]of kv.points(n))n[u]=Iv.transform(s,t);break;case"insert_text":var{path:l,offset:c,text:d}=t,f=wv.leaf(e,l),p=f.text.slice(0,c),h=f.text.slice(c);if(f.text=p+d+h,n)for(var[m,v]of kv.points(n))n[v]=Iv.transform(m,t);break;case"merge_node":var{path:g}=t,y=wv.get(e,g),b=Cv.previous(g),E=wv.get(e,b),w=wv.parent(e,g),x=g[g.length-1];if(Fv.isText(y)&&Fv.isText(E))E.text+=y.text;else{if(Fv.isText(y)||Fv.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(g,"] to nodes of different interaces: ").concat(y," ").concat(E));E.children.push(...y.children)}if(w.children.splice(x,1),n)for(var[O,A]of kv.points(n))n[A]=Iv.transform(O,t);break;case"move_node":var{path:C,newPath:S}=t;if(Cv.isAncestor(C,S))throw new Error("Cannot move a path [".concat(C,"] to new path [").concat(S,"] because the destination is inside itself."));var N=wv.get(e,C),I=wv.parent(e,C),T=C[C.length-1];I.children.splice(T,1);var _=Cv.transform(C,t),k=wv.get(e,Cv.parent(_)),D=_[_.length-1];if(k.children.splice(D,0,N),n)for(var[R,M]of kv.points(n))n[M]=Iv.transform(R,t);break;case"remove_node":var{path:F}=t,B=F[F.length-1];if(wv.parent(e,F).children.splice(B,1),n)for(var[P,L]of kv.points(n)){var j=Iv.transform(P,t);if(null!=n&&null!=j)n[L]=j;else{var U=void 0,q=void 0;for(var[z,V]of wv.texts(e)){if(-1!==Cv.compare(V,F)){q=[z,V];break}U=[z,V]}U?(P.path=U[1],P.offset=U[0].text.length):q?(P.path=q[1],P.offset=0):n=null}}break;case"remove_text":var{path:H,offset:$,text:W}=t,Q=wv.leaf(e,H),G=Q.text.slice(0,$),Y=Q.text.slice($+W.length);if(Q.text=G+Y,n)for(var[K,Z]of kv.points(n))n[Z]=Iv.transform(K,t);break;case"set_node":var{path:J,newProperties:X}=t;if(0===J.length)throw new Error("Cannot set properties on the root node!");var ee=wv.get(e,J);for(var te in X){if("children"===te||"text"===te)throw new Error('Cannot set the "'.concat(te,'" property of nodes!'));var ne=X[te];null==ne?delete ee[te]:ee[te]=ne}break;case"set_selection":var{newProperties:re}=t;if(null==re)n=re;else if(null==n){if(!kv.isRange(re))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(re)," when there is no current selection."));n=re}else Object.assign(n,re);break;case"split_node":var{path:ie,position:ae,properties:oe}=t;if(0===ie.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ie,"] because the root node cannot be split."));var se,ue=wv.get(e,ie),le=wv.parent(e,ie),ce=ie[ie.length-1];if(Fv.isText(ue)){var de=ue.text.slice(0,ae),fe=ue.text.slice(ae);ue.text=de,se=Pv({},ue,{},oe,{text:fe})}else{var pe=ue.children.slice(0,ae),he=ue.children.slice(ae);ue.children=pe,se=Pv({},ue,{},oe,{children:he})}if(le.children.splice(ce+1,0,se),n)for(var[me,ve]of kv.points(n))n[ve]=Iv.transform(me,t)}e.children=Zm(e.children),e.selection=n?rm(n)?Zm(n):n:null}},{},Uv,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r)if("anchor"===n)Wv.select(e,r.anchor);else if("focus"===n)Wv.select(e,r.focus);else if("start"===n){var[i]=kv.edges(r);Wv.select(e,i)}else if("end"===n){var[,a]=kv.edges(r);Wv.select(e,a)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:a=!1}=t,{edge:o=null}=t;if(n){"start"===o&&(o=kv.isBackward(n)?"focus":"anchor"),"end"===o&&(o=kv.isBackward(n)?"anchor":"focus");var{anchor:s,focus:u}=n,l={distance:r,unit:i},c={};if(null==o||"anchor"===o){var d=a?yv.before(e,s,l):yv.after(e,s,l);d&&(c.anchor=d)}if(null==o||"focus"===o){var f=a?yv.before(e,u,l):yv.after(e,u,l);f&&(c.focus=f)}Wv.setSelection(e,c)}},select(e,t){var{selection:n}=e;if(t=yv.range(e,t),n)Wv.setSelection(e,t);else{if(!kv.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint(e,t,n){var{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=kv.isBackward(r)?"focus":"anchor"),"end"===i&&(i=kv.isBackward(r)?"anchor":"focus");var{anchor:a,focus:o}=r,s="anchor"===i?a:o;Wv.setSelection(e,{["anchor"===i?"anchor":"focus"]:Hv({},s,{},t)})}},setSelection(e,t){var{selection:n}=e,r={},i={};if(n){for(var a in t)("anchor"===a&&null!=t.anchor&&!Iv.equals(t.anchor,n.anchor)||"focus"===a&&null!=t.focus&&!Iv.equals(t.focus,n.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==n[a])&&(r[a]=n[a],i[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yv.withoutNormalizing(e,()=>{var{reverse:n=!1,unit:r="character",distance:i=1,voids:a=!1}=t,{at:o=e.selection,hanging:s=!1}=t;if(o){if(kv.isRange(o)&&kv.isCollapsed(o)&&(o=o.anchor),Iv.isPoint(o)){var u=yv.void(e,{at:o,mode:"highest"});if(!a&&u){var[,l]=u;o=l}else{var c={unit:r,distance:i};o={anchor:o,focus:n?yv.before(e,o,c)||yv.start(e,[]):yv.after(e,o,c)||yv.end(e,[])},s=!0}}if(Cv.isPath(o))Wv.removeNodes(e,{at:o,voids:a});else if(!kv.isCollapsed(o)){s||(o=yv.unhangRange(e,o,{voids:a}));var[d,f]=kv.edges(o),p=yv.above(e,{match:t=>yv.isBlock(e,t),at:d,voids:a}),h=yv.above(e,{match:t=>yv.isBlock(e,t),at:f,voids:a}),m=p&&h&&!Cv.equals(p[1],h[1]),v=Cv.equals(d.path,f.path),g=a?null:yv.void(e,{at:d,mode:"highest"}),y=a?null:yv.void(e,{at:f,mode:"highest"});if(g){var b=yv.before(e,d);b&&p&&Cv.isAncestor(p[1],b.path)&&(d=b)}if(y){var E=yv.after(e,f);E&&h&&Cv.isAncestor(h[1],E.path)&&(f=E)}var w,x=[];for(var O of yv.nodes(e,{at:o,voids:a})){var[A,C]=O;w&&0===Cv.compare(C,w)||(!a&&yv.isVoid(e,A)||!Cv.isCommon(C,d.path)&&!Cv.isCommon(C,f.path))&&(x.push(O),w=C)}var S=Array.from(x,t=>{var[,n]=t;return yv.pathRef(e,n)}),N=yv.pointRef(e,d),I=yv.pointRef(e,f);if(!v&&!g){var T=N.current,[_]=yv.leaf(e,T),{path:k}=T,{offset:D}=d,R=_.text.slice(D);e.apply({type:"remove_text",path:k,offset:D,text:R})}for(var M of S){var F=M.unref();Wv.removeNodes(e,{at:F,voids:a})}if(!y){var B=I.current,[P]=yv.leaf(e,B),{path:L}=B,j=v?d.offset:0,U=P.text.slice(j,f.offset);e.apply({type:"remove_text",path:L,offset:j,text:U})}!v&&m&&I.current&&N.current&&Wv.mergeNodes(e,{at:I.current,hanging:!0,voids:a});var q=I.unref()||N.unref();null==t.at&&q&&Wv.select(e,q)}}})},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yv.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1}=n,{at:a=e.selection}=n;if(t.length&&a){if(kv.isRange(a))if(r||(a=yv.unhangRange(e,a)),kv.isCollapsed(a))a=a.anchor;else{var[,o]=kv.edges(a);if(!i&&yv.void(e,{at:o}))return;var s=yv.pointRef(e,o);Wv.delete(e,{at:a}),a=s.unref()}else Cv.isPath(a)&&(a=yv.start(e,a));if(i||!yv.void(e,{at:a})){var u=yv.above(e,{at:a,match:t=>yv.isInline(e,t),mode:"highest",voids:i});if(u){var[,l]=u;if(yv.isEnd(e,a,l))a=yv.after(e,l);else if(yv.isStart(e,a,l)){a=yv.before(e,l)}}var c=yv.above(e,{match:t=>yv.isBlock(e,t),at:a,voids:i}),[,d]=c,f=yv.isStart(e,a,d),p=yv.isEnd(e,a,d),h=!f||f&&p,m=!p,[,v]=wv.first({children:t},[]),[,g]=wv.last({children:t},[]),y=[],b=t=>{var[n,r]=t;return!(h&&Cv.isAncestor(r,v)&&bv.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(m&&Cv.isAncestor(r,g)&&bv.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))};for(var E of wv.nodes({children:t},{pass:b}))E[1].length>0&&b(E)&&y.push(E);var w=[],x=[],O=[],A=!0,C=!1;for(var[S]of y)bv.isElement(S)&&!e.isInline(S)?(A=!1,C=!0,x.push(S)):A?w.push(S):O.push(S);var[N]=yv.nodes(e,{at:a,match:t=>Fv.isText(t)||yv.isInline(e,t),mode:"highest",voids:i}),[,I]=N,T=yv.isStart(e,a,I),_=yv.isEnd(e,a,I),k=yv.pathRef(e,p?Cv.next(d):d),D=yv.pathRef(e,_?Cv.next(I):I);Wv.splitNodes(e,{at:a,match:t=>C?yv.isBlock(e,t):Fv.isText(t)||yv.isInline(e,t),mode:C?"lowest":"highest",voids:i});var R=yv.pathRef(e,!T||T&&_?Cv.next(I):I);if(Wv.insertNodes(e,w,{at:R.current,match:t=>Fv.isText(t)||yv.isInline(e,t),mode:"highest",voids:i}),Wv.insertNodes(e,x,{at:k.current,match:t=>yv.isBlock(e,t),mode:"lowest",voids:i}),Wv.insertNodes(e,O,{at:D.current,match:t=>Fv.isText(t)||yv.isInline(e,t),mode:"highest",voids:i}),!n.at){var M;M=O.length>0?Cv.previous(D.current):x.length>0?Cv.previous(k.current):Cv.previous(R.current);var F=yv.end(e,M);Wv.select(e,F)}R.unref(),k.unref(),D.unref()}}})},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yv.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=e.selection}=n;if(i){if(Cv.isPath(i)&&(i=yv.range(e,i)),kv.isRange(i))if(kv.isCollapsed(i))i=i.anchor;else{var a=kv.end(i);if(!r&&yv.void(e,{at:a}))return;var o=yv.pointRef(e,a);Wv.delete(e,{at:i,voids:r}),i=o.unref(),Wv.setSelection(e,{anchor:i,focus:i})}if(r||!yv.void(e,{at:i})){var{path:s,offset:u}=i;e.apply({type:"insert_text",path:s,offset:u,text:t})}}})}});function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yv=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return Cv.levels(t);case"insert_node":var{node:n,path:r}=e;return[...Cv.levels(r),...Fv.isText(n)?[]:Array.from(wv.nodes(n),e=>{var[,t]=e;return r.concat(t)})];case"merge_node":var{path:i}=e;return[...Cv.ancestors(i),Cv.previous(i)];case"move_node":var{path:a,newPath:o}=e;if(Cv.equals(a,o))return[];var s=[],u=[];for(var l of Cv.ancestors(a)){var c=Cv.transform(l,e);s.push(c)}for(var d of Cv.ancestors(o)){var f=Cv.transform(d,e);u.push(f)}return[...s,...u];case"remove_node":var{path:p}=e;return[...Cv.ancestors(p)];case"split_node":var{path:h}=e;return[...Cv.levels(h),Cv.next(h)];default:return[]}};function Kv(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function Zv(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function Jv(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Zv(n.overflowY,t)||Zv(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Xv(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0}function eg(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof o?o:function(e){return e!==o};if(!Kv(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,c=[],d=e;Kv(d)&&u(d);){if((d=d.parentNode)===l){c.push(d);break}d===document.body&&Jv(d)&&!Jv(document.documentElement)||Jv(d,s)&&c.push(d)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),g=v.height,y=v.width,b=v.top,E=v.right,w=v.bottom,x=v.left,O="start"===i||"nearest"===i?b:"end"===i?w:b+g/2,A="center"===a?x+y/2:"end"===a?E:x,C=[],S=0;S<c.length;S++){var N=c[S],I=N.getBoundingClientRect(),T=I.height,_=I.width,k=I.top,D=I.right,R=I.bottom,M=I.left;if("if-needed"===r&&b>=0&&x>=0&&w<=p&&E<=f&&b>=k&&w<=R&&x>=M&&E<=D)return C;var F=getComputedStyle(N),B=parseInt(F.borderLeftWidth,10),P=parseInt(F.borderTopWidth,10),L=parseInt(F.borderRightWidth,10),j=parseInt(F.borderBottomWidth,10),U=0,q=0,z="offsetWidth"in N?N.offsetWidth-N.clientWidth-B-L:0,V="offsetHeight"in N?N.offsetHeight-N.clientHeight-P-j:0;if(l===N)U="start"===i?O:"end"===i?O-p:"nearest"===i?Xv(m,m+p,p,P,j,m+O,m+O+g,g):O-p/2,q="start"===a?A:"center"===a?A-f/2:"end"===a?A-f:Xv(h,h+f,f,B,L,h+A,h+A+y,y),U=Math.max(0,U+m),q=Math.max(0,q+h);else{U="start"===i?O-k-P:"end"===i?O-R+j+V:"nearest"===i?Xv(k,R,T,P,j+V,O,O+g,g):O-(k+T/2)+V/2,q="start"===a?A-M-B:"center"===a?A-(M+_/2)+z/2:"end"===a?A-D+L+z:Xv(M,D,_,B,L+z,A,A+y,y);var H=N.scrollLeft,$=N.scrollTop;O+=$-(U=Math.max(0,Math.min($+U,N.scrollHeight-T+V))),A+=H-(q=Math.max(0,Math.min(H+q,N.scrollWidth-_+z)))}C.push({el:N,top:U,left:q})}return C}function tg(e){return e===Object(e)&&0!==Object.keys(e).length}function ng(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(tg(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:eg(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:tg(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(eg(e,r),r.behavior)}}var rg=function(e){if(e=String(e||""),ag.test(e))return"rtl";if(og.test(e))return"ltr";return"neutral"},ig="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",ag=new RegExp("^[^"+ig+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),og=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+ig+"]");function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ug(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lg=0;class cg{constructor(){this.id="".concat(lg++)}}var dg=new WeakMap,fg=new WeakMap,pg=new WeakMap,hg=new WeakMap,mg=new WeakMap,vg=new WeakMap,gg=new WeakMap,yg=new WeakMap,bg=new WeakMap,Eg=new WeakMap,wg=Symbol("placeholder"),xg=e=>Og(e)&&1===e.nodeType,Og=e=>e instanceof Node,Ag=e=>Og(e)&&3===e.nodeType,Cg=(e,t,n)=>{for(var r,{childNodes:i}=e,a=i[t],o=t,s=!1,u=!1;(Og(r=a)&&8===r.nodeType||xg(a)&&0===a.childNodes.length||xg(a)&&"false"===a.getAttribute("contenteditable"))&&(!s||!u);)o>=i.length?(s=!0,o=t-1,n="backward"):o<0?(u=!0,o=t+1,n="forward"):(a=i[o],o+="forward"===n?1:-1);return a},Sg=e=>{var t="";if(Ag(e)&&e.nodeValue)return e.nodeValue;if(xg(e)){for(var n of Array.from(e.childNodes))t+=Sg(n);var r=getComputedStyle(e).getPropertyValue("display");"block"!==r&&"list"!==r&&"BR"!==e.tagName||(t+="\n")}return t},Ng={findKey(e,t){var n=gg.get(t);return n||(n=new cg,gg.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var i=fg.get(r);if(null==i){if(yv.isEditor(r))return n;break}var a=dg.get(r);if(null==a)break;n.unshift(a),r=i}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!bg.get(e),isReadOnly:e=>!!yg.get(e),blur(e){var t=Ng.toDOMNode(e,e);bg.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=Ng.toDOMNode(e,e);bg.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=window.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&Wv.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,a=Ng.toDOMNode(e,e);try{n=xg(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&(n.closest("[data-slate-editor]")===a&&(!i||n.isContentEditable||!!n.getAttribute("data-slate-zero-width")))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var n=yv.isEditor(t)?pg.get(e):mg.get(Ng.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return n},toDOMPoint(e,t){var n,[r]=yv.node(e,t.path),i=Ng.toDOMNode(e,r);yv.void(e,{at:t})&&(t={path:t.path,offset:0});var a=Array.from(i.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),o=0;for(var s of a){var u=s.childNodes[0];if(null!=u&&null!=u.textContent){var{length:l}=u.textContent,c=s.getAttribute("data-slate-length"),d=o+(null==c?l:parseInt(c,10));if(t.offset<=d){n=[u,Math.min(l,Math.max(0,t.offset-o))];break}o=d}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return n},toDOMRange(e,t){var{anchor:n,focus:r}=t,i=kv.isBackward(t),a=Ng.toDOMPoint(e,n),o=kv.isCollapsed(t)?a:Ng.toDOMPoint(e,r),s=window.document.createRange(),[u,l]=i?o:a,[c,d]=i?a:o,f=!!(xg(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),p=!!(xg(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return s.setStart(u,f?1:l),s.setEnd(c,p?1:d),s},toSlateNode(e,t){var n=xg(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?hg.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(null==n||null==r)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a,o=Ng.toSlateNode(e,t.target),s=Ng.findPath(e,o);if(yv.isVoid(e,o)){var u=i.getBoundingClientRect(),l=e.isInline(o)?n-u.left<u.left+u.width-n:r-u.top<u.top+u.height-r,c=yv.point(e,s,{edge:l?"start":"end"}),d=l?yv.before(e,c):yv.after(e,c);if(d)return yv.range(e,d)}var{document:f}=window;if(f.caretRangeFromPoint)a=f.caretRangeFromPoint(n,r);else{var p=f.caretPositionFromPoint(n,r);p&&((a=f.createRange()).setStart(p.offsetNode,p.offset),a.setEnd(p.offsetNode,p.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return Ng.toSlateRange(e,a)},toSlatePoint(e,t){var[n,r]=(e=>{var[t,n]=e;if(xg(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?"backward":"forward";for(t=Cg(t,r?n-1:n,i);xg(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=Cg(t,a,i)}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]})(t),i=n.parentNode,a=null,o=0;if(i){var s=i.closest('[data-slate-void="true"]'),u=i.closest("[data-slate-leaf]"),l=null;if(u){a=u.closest('[data-slate-node="text"]');var c=window.document.createRange();c.setStart(a,0),c.setEnd(n,r);var d=c.cloneContents();[...d.querySelectorAll("[data-slate-zero-width]"),...d.querySelectorAll("[contenteditable=false]")].forEach(e=>{e.parentNode.removeChild(e)}),o=d.textContent.length,l=a}else s&&(a=(u=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),o=(l=u).textContent.length);l&&o===l.textContent.length&&i.hasAttribute("data-slate-zero-width")&&o--}if(!a)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var f=Ng.toSlateNode(e,a);return{path:Ng.findPath(e,f),offset:o}},toSlateRange(e,t){var n,r,i,a,o;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,a=t.focusOffset,o=t.isCollapsed):(n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,o=t.collapsed)),null==n||null==i||null==r||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=Ng.toSlatePoint(e,[n,r]);return{anchor:s,focus:o?s:Ng.toSlatePoint(e,[i,a])}}},Ig=t.createContext(!1),Tg=t.createContext(null),_g=()=>{var e=t.useContext(Tg);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},kg=t.createContext(null),Dg=()=>{var e=t.useContext(kg);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");var[n]=e;return n},Rg=e=>{var{editor:r,children:i,onChange:a,value:o}=e,s=ug(e,["editor","children","onChange","value"]),[u,l]=t.useState(0),c=t.useMemo(()=>(r.children=o,Object.assign(r,s),[r]),[u,o,...Object.values(s)]),d=t.useCallback(()=>{a(r.children),l(u+1)},[u,a]);return Eg.set(r,d),t.useEffect(()=>()=>{Eg.set(r,()=>{})},[]),n.createElement(kg.Provider,{value:c},n.createElement(Tg.Provider,{value:r},n.createElement(Ig.Provider,{value:Ng.isFocused(r)},i)))},Mg=t.createContext(!1),Fg=t.createContext(!1),Bg=e=>{var{isLast:t,leaf:r,parent:i,text:a}=e,o=_g(),s=Ng.findPath(o,a),u=Cv.parent(s);return o.isVoid(i)?n.createElement(Lg,{length:wv.string(i).length}):""!==r.text||i.children[i.children.length-1]!==a||o.isInline(i)||""!==yv.string(o,u)?""===r.text?n.createElement(Lg,null):t&&"\n"===r.text.slice(-1)?n.createElement(Pg,{isTrailing:!0,text:r.text}):n.createElement(Pg,{text:r.text}):n.createElement(Lg,{isLineBreak:!0})},Pg=e=>{var{text:t,isTrailing:r=!1}=e;return n.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},Lg=e=>{var{length:t=0,isLineBreak:r=!1}=e;return n.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?n.createElement("br",null):null)},jg=n.memo(e=>{var{leaf:t,isLast:r,text:i,parent:a,renderLeaf:o=(e=>n.createElement(Ug,Object.assign({},e)))}=e,s=n.createElement(Bg,{isLast:r,leaf:t,parent:a,text:i});t[wg]&&(s=n.createElement(n.Fragment,null,n.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",userSelect:"none",fontStyle:"normal",fontWeight:"normal",textDecoration:"none"}},t.placeholder),s));return o({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:i})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&Fv.matches(t.leaf,e.leaf)),Ug=e=>{var{attributes:t,children:r}=e;return n.createElement("span",Object.assign({},t),r)},qg="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,zg=n.memo(e=>{for(var{decorations:r,isLast:i,parent:a,renderLeaf:o,text:s}=e,u=_g(),l=t.useRef(null),c=Fv.decorations(s,r),d=Ng.findKey(u,s),f=[],p=0;p<c.length;p++){var h=c[p];f.push(n.createElement(jg,{isLast:i&&p===c.length-1,key:"".concat(d.id,"-").concat(p),leaf:h,text:s,parent:a,renderLeaf:o}))}return qg(()=>{l.current?(mg.set(d,l.current),vg.set(s,l.current),hg.set(l.current,s)):(mg.delete(d),vg.delete(s))}),n.createElement("span",{"data-slate-node":"text",ref:l},f)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text),Vg=n.memo(e=>{var{decorate:r,decorations:i,element:a,renderElement:o=(e=>n.createElement(Hg,Object.assign({},e))),renderLeaf:s,selection:u}=e,l=t.useRef(null),c=_g(),d=t.useContext(Mg),f=c.isInline(a),p=Ng.findKey(c,a),h=n.createElement(Wg,{decorate:r,decorations:i,node:a,renderElement:o,renderLeaf:s,selection:u}),m={"data-slate-node":"element",ref:l};if(f&&(m["data-slate-inline"]=!0),!f&&yv.hasInlines(c,a)){var v=wv.string(a),g=rg(v);"rtl"===g&&(m.dir=g)}if(yv.isVoid(c,a)){m["data-slate-void"]=!0,!d&&f&&(m.contentEditable=!1);var y=f?"span":"div",[[b]]=wv.texts(a);h=d?null:n.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},n.createElement(zg,{decorations:[],isLast:!1,parent:a,text:b})),dg.set(b,0),fg.set(b,a)}return qg(()=>{l.current?(mg.set(p,l.current),vg.set(a,l.current),hg.set(l.current,a)):(mg.delete(p),vg.delete(a))}),n.createElement(Fg.Provider,{value:!!u},o({attributes:m,children:h,element:a}))},(e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&$g(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&kv.equals(e.selection,t.selection))),Hg=e=>{var{attributes:t,children:r,element:i}=e,a=_g().isInline(i)?"span":"div";return n.createElement(a,Object.assign({},t,{style:{position:"relative"}}),r)},$g=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!kv.equals(r,i))return!1}return!0},Wg=e=>{for(var{decorate:t,decorations:r,node:i,renderElement:a,renderLeaf:o,selection:s}=e,u=_g(),l=Ng.findPath(u,i),c=[],d=bv.isElement(i)&&!u.isInline(i)&&yv.hasInlines(u,i),f=0;f<i.children.length;f++){var p=l.concat(f),h=i.children[f],m=Ng.findKey(u,h),v=yv.range(u,p),g=s&&kv.intersection(v,s),y=t([h,p]);for(var b of r){var E=kv.intersection(b,v);E&&y.push(E)}bv.isElement(h)?c.push(n.createElement(Vg,{decorate:t,decorations:y,element:h,key:m.id,renderElement:a,renderLeaf:o,selection:g})):c.push(n.createElement(zg,{decorations:y,key:m.id,isLast:d&&f===i.children.length-1,parent:i,renderLeaf:o,text:h})),dg.set(h,f),fg.set(h,i)}return n.createElement(n.Fragment,null,c)},Qg=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),Gg="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Yg="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Kg="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),Zg="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),Jg={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},Xg={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ey={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ty=e=>{var t=Jg[e],n=Xg[e],r=ey[e],i=t&&Vh(t),a=n&&Vh(n),o=r&&Vh(r);return e=>!(!i||!i(e))||(!!(Qg&&a&&a(e))||!(Qg||!o||!o(e)))},ny={isBold:ty("bold"),isCompose:ty("compose"),isMoveBackward:ty("moveBackward"),isMoveForward:ty("moveForward"),isDeleteBackward:ty("deleteBackward"),isDeleteForward:ty("deleteForward"),isDeleteLineBackward:ty("deleteLineBackward"),isDeleteLineForward:ty("deleteLineForward"),isDeleteWordBackward:ty("deleteWordBackward"),isDeleteWordForward:ty("deleteWordForward"),isExtendBackward:ty("extendBackward"),isExtendForward:ty("extendForward"),isExtendLineBackward:ty("extendLineBackward"),isExtendLineForward:ty("extendLineForward"),isItalic:ty("italic"),isMoveLineBackward:ty("moveLineBackward"),isMoveLineForward:ty("moveLineForward"),isMoveWordBackward:ty("moveWordBackward"),isMoveWordForward:ty("moveWordForward"),isRedo:ty("redo"),isSplitBlock:ty("splitBlock"),isTransposeCharacter:ty("transposeCharacter"),isUndo:ty("undo")};function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){sg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ay=!(Gg||Kg||Zg),oy=e=>{var{autoFocus:r,decorate:i=sy,onDOMBeforeInput:a,placeholder:o,readOnly:s=!1,renderElement:u,renderLeaf:l,style:c={},as:d="div"}=e,f=ug(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),p=Dg(),h=t.useRef(null);yg.set(p,s);var m=t.useMemo(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]);qg(()=>{h.current?(pg.set(p,h.current),vg.set(p,h.current),hg.set(h.current,p)):vg.delete(p)}),qg(()=>{var{selection:e}=p,t=window.getSelection();if(!m.isComposing&&t&&Ng.isFocused(p)){var n="None"!==t.type;if(e||n){var r=pg.get(p),i=!1;if(r.contains(t.anchorNode)&&r.contains(t.focusNode)&&(i=!0),!(n&&i&&e&&kv.equals(Ng.toSlateRange(p,t),e))){var a=Ng.toDOMNode(p,p);m.isUpdatingSelection=!0,t.removeAllRanges();var o=e&&Ng.toDOMRange(p,e);if(o)t.addRange(o),ng(o.startContainer.parentElement,{scrollMode:"if-needed",boundary:a});setTimeout(()=>{o&&Gg&&a.focus(),m.isUpdatingSelection=!1})}}}}),t.useEffect(()=>{h.current&&r&&h.current.focus()},[r]);var v=t.useCallback(e=>{if(!s&&ly(p,e.target)&&!fy(e,a)){var{selection:t}=p,{inputType:n}=e,r=e.dataTransfer||e.data||void 0;if("insertCompositionText"===n||"deleteCompositionText"===n)return;if(e.preventDefault(),!n.startsWith("delete")||n.startsWith("deleteBy")){var[i]=e.getTargetRanges();if(i){var o=Ng.toSlateRange(p,i);t&&kv.equals(t,o)||Wv.select(p,o)}}if(t&&kv.isExpanded(t)&&n.startsWith("delete"))return void yv.deleteFragment(p);switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":yv.deleteFragment(p);break;case"deleteContent":case"deleteContentForward":yv.deleteForward(p);break;case"deleteContentBackward":yv.deleteBackward(p);break;case"deleteEntireSoftLine":yv.deleteBackward(p,{unit:"line"}),yv.deleteForward(p,{unit:"line"});break;case"deleteHardLineBackward":yv.deleteBackward(p,{unit:"block"});break;case"deleteSoftLineBackward":yv.deleteBackward(p,{unit:"line"});break;case"deleteHardLineForward":yv.deleteForward(p,{unit:"block"});break;case"deleteSoftLineForward":yv.deleteForward(p,{unit:"line"});break;case"deleteWordBackward":yv.deleteBackward(p,{unit:"word"});break;case"deleteWordForward":yv.deleteForward(p,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":yv.insertBreak(p);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":r instanceof DataTransfer?Ng.insertData(p,r):"string"==typeof r&&yv.insertText(p,r)}}},[s]);qg(()=>(h.current&&ay&&h.current.addEventListener("beforeinput",v),()=>{h.current&&ay&&h.current.removeEventListener("beforeinput",v)}),[v]);var g=t.useCallback(we(()=>{if(!s&&!m.isComposing&&!m.isUpdatingSelection){var{activeElement:e}=window.document,t=Ng.toDOMNode(p,p),n=window.getSelection();if(e===t?(m.latestElement=e,bg.set(p,!0)):bg.delete(p),!n)return Wv.deselect(p);var{anchorNode:r,focusNode:i}=n,a=ly(p,r)||cy(p,r),o=ly(p,i)||cy(p,i);if(a&&o){var u=Ng.toSlateRange(p,n);Wv.select(p,u)}else Wv.deselect(p)}},100),[s]);qg(()=>(window.document.addEventListener("selectionchange",g),()=>{window.document.removeEventListener("selectionchange",g)}),[g]);var y=i([p,[]]);if(o&&1===p.children.length&&1===Array.from(wv.texts(p)).length&&""===wv.string(p)){var b=yv.start(p,[]);y.push({[wg]:!0,placeholder:o,anchor:b,focus:b})}return n.createElement(Mg.Provider,{value:s},n.createElement(d,Object.assign({"data-gramm":!1,role:s?void 0:"textbox"},f,{spellCheck:ay?f.spellCheck:void 0,autoCorrect:ay?f.autoCorrect:void 0,autoCapitalize:ay?f.autoCapitalize:void 0,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s||void 0,suppressContentEditableWarning:!0,ref:h,style:iy({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},c),onBeforeInput:t.useCallback(e=>{if(!ay&&!s&&!dy(e,f.onBeforeInput)&&ly(p,e.target)){e.preventDefault();var t=e.data;yv.insertText(p,t)}},[s]),onBlur:t.useCallback(e=>{if(!s&&!m.isUpdatingSelection&&ly(p,e.target)&&!dy(e,f.onBlur)&&m.latestElement!==window.document.activeElement){var{relatedTarget:t}=e;if(!(t===Ng.toDOMNode(p,p)||xg(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&Og(t)&&Ng.hasDOMNode(p,t)){var n=Ng.toSlateNode(p,t);if(bv.isElement(n)&&!p.isVoid(n))return}bg.delete(p)}}},[s,f.onBlur]),onClick:t.useCallback(e=>{if(!s&&uy(p,e.target)&&!dy(e,f.onClick)&&Og(e.target)){var t=Ng.toSlateNode(p,e.target),n=Ng.findPath(p,t),r=yv.start(p,n),i=yv.end(p,n),a=yv.void(p,{at:r}),o=yv.void(p,{at:i});if(a&&o&&Cv.equals(a[1],o[1])){var u=yv.range(p,r);Wv.select(p,u)}}},[s,f.onClick]),onCompositionEnd:t.useCallback(e=>{ly(p,e.target)&&!dy(e,f.onCompositionEnd)&&(m.isComposing=!1,Yg||Gg||!e.data||yv.insertText(p,e.data))},[f.onCompositionEnd]),onCompositionStart:t.useCallback(e=>{ly(p,e.target)&&!dy(e,f.onCompositionStart)&&(m.isComposing=!0)},[f.onCompositionStart]),onCopy:t.useCallback(e=>{ly(p,e.target)&&!dy(e,f.onCopy)&&(e.preventDefault(),Ng.setFragmentData(p,e.clipboardData))},[f.onCopy]),onCut:t.useCallback(e=>{if(!s&&ly(p,e.target)&&!dy(e,f.onCut)){e.preventDefault(),Ng.setFragmentData(p,e.clipboardData);var{selection:t}=p;t&&kv.isExpanded(t)&&yv.deleteFragment(p)}},[s,f.onCut]),onDragOver:t.useCallback(e=>{if(uy(p,e.target)&&!dy(e,f.onDragOver)){var t=Ng.toSlateNode(p,e.target);yv.isVoid(p,t)&&e.preventDefault()}},[f.onDragOver]),onDragStart:t.useCallback(e=>{if(uy(p,e.target)&&!dy(e,f.onDragStart)){var t=Ng.toSlateNode(p,e.target),n=Ng.findPath(p,t);if(yv.void(p,{at:n})){var r=yv.range(p,n);Wv.select(p,r)}Ng.setFragmentData(p,e.dataTransfer)}},[f.onDragStart]),onDrop:t.useCallback(e=>{if(uy(p,e.target)&&!s&&!dy(e,f.onDrop)&&(!ay||!Yg&&e.dataTransfer.files.length>0)){e.preventDefault();var t=Ng.findEventRange(p,e),n=e.dataTransfer;Wv.select(p,t),Ng.insertData(p,n)}},[s,f.onDrop]),onFocus:t.useCallback(e=>{if(!s&&!m.isUpdatingSelection&&ly(p,e.target)&&!dy(e,f.onFocus)){var t=Ng.toDOMNode(p,p);if(m.latestElement=window.document.activeElement,Gg&&e.target!==t)return void t.focus();bg.set(p,!0)}},[s,f.onFocus]),onKeyDown:t.useCallback(e=>{if(!s&&ly(p,e.target)&&!dy(e,f.onKeyDown)){var{nativeEvent:t}=e,{selection:n}=p;if(ny.isRedo(t))return e.preventDefault(),void("function"==typeof p.redo&&p.redo());if(ny.isUndo(t))return e.preventDefault(),void("function"==typeof p.undo&&p.undo());if(ny.isMoveLineBackward(t))return e.preventDefault(),void Wv.move(p,{unit:"line",reverse:!0});if(ny.isMoveLineForward(t))return e.preventDefault(),void Wv.move(p,{unit:"line"});if(ny.isExtendLineBackward(t))return e.preventDefault(),void Wv.move(p,{unit:"line",edge:"focus",reverse:!0});if(ny.isExtendLineForward(t))return e.preventDefault(),void Wv.move(p,{unit:"line",edge:"focus"});if(ny.isMoveBackward(t))return e.preventDefault(),void(n&&kv.isCollapsed(n)?Wv.move(p,{reverse:!0}):Wv.collapse(p,{edge:"start"}));if(ny.isMoveForward(t))return e.preventDefault(),void(n&&kv.isCollapsed(n)?Wv.move(p):Wv.collapse(p,{edge:"end"}));if(ny.isMoveWordBackward(t))return e.preventDefault(),void Wv.move(p,{unit:"word",reverse:!0});if(ny.isMoveWordForward(t))return e.preventDefault(),void Wv.move(p,{unit:"word"});if(!ay){if(ny.isBold(t)||ny.isItalic(t)||ny.isTransposeCharacter(t))return void e.preventDefault();if(ny.isSplitBlock(t))return e.preventDefault(),void yv.insertBreak(p);if(ny.isDeleteBackward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteBackward(p));if(ny.isDeleteForward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteForward(p));if(ny.isDeleteLineBackward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteBackward(p,{unit:"line"}));if(ny.isDeleteLineForward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteForward(p,{unit:"line"}));if(ny.isDeleteWordBackward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteBackward(p,{unit:"word"}));if(ny.isDeleteWordForward(t))return e.preventDefault(),void(n&&kv.isExpanded(n)?yv.deleteFragment(p):yv.deleteForward(p,{unit:"word"}))}}},[s,f.onKeyDown]),onPaste:t.useCallback(e=>{dy(e,f.onPaste)||ay&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||s||!ly(p,e.target)||(e.preventDefault(),Ng.insertData(p,e.clipboardData))},[s,f.onPaste])}),n.createElement(Wg,{decorate:i,decorations:y,node:p,renderElement:u,renderLeaf:l,selection:p.selection})))},sy=()=>[],uy=(e,t)=>Og(t)&&Ng.hasDOMNode(e,t),ly=(e,t)=>Og(t)&&Ng.hasDOMNode(e,t,{editable:!0}),cy=(e,t)=>{var n=uy(e,t)&&Ng.toSlateNode(e,t);return yv.isVoid(e,n)},dy=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),fy=(e,t)=>!!t&&(t(e),e.defaultPrevented);function py(){return(py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hy(e,t){var r=n.memo(n.forwardRef((function(t,r){return n.createElement(o,py({ref:r},t),e)})));return"production"!==process.env.NODE_ENV&&(r.displayName="".concat(t,"Icon")),r.muiName=o.muiName,r}var my=hy(n.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile"),vy=hy(n.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),gy=hy(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),yy=hy(n.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),by=hy(n.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Ey=hy(n.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),wy=hy(n.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenter"),xy=hy(n.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),"FormatAlignLeft"),Oy=hy(n.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),"FormatAlignRight"),Ay=hy(n.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBold"),Cy=hy(n.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),Sy=hy(n.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted"),Ny=hy(n.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumbered"),Iy=hy(n.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlined"),Ty=hy(n.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),_y=hy(n.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink"),ky=hy(n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"}),"LooksOne"),Dy=hy(n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"}),"LooksTwo");
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Ry(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}var My,Fy={isHistory(e){return!1!==Ry(t=e)&&"function"==typeof(n=t.constructor)&&!1!==Ry(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||Av.isOperationList(e.redos[0]))&&(0===e.undos.length||Av.isOperationList(e.undos[0]));var t,n,r}},By=new WeakMap,Py=new WeakMap,Ly={isHistoryEditor:e=>yv.isEditor(e)&&Fy.isHistory(e.history),isMerging:e=>Py.get(e),isSaving:e=>By.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=Ly.isMerging(e);Py.set(e,!1),t(),Py.set(e,n)},withoutSaving(e,t){var n=Ly.isSaving(e);By.set(e,!1),t(),By.set(e,n)}},jy=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!Cv.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!Cv.equals(e.path,t.path))),Uy=(e,t)=>"set_selection"!==e.type||null!=e.newProperties,qy=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),zy=e=>"set_selection"!==e.type,Vy=r.makeStyles((function(e){return{menu:{"& > *":{display:"inline-block",verticalAlign:"middle"},"& > * + *":{marginLeft:e.spacing(2)}},button:{cursor:"pointer"}}})),Hy=function(e){var t=e.active,i=e.onMouseDown,a=e.onMouseUp,o=e.children,s=Vy();return n.createElement(r.Box,{onMouseDown:i,onMouseUp:a,color:t?"black":"grey.500",className:s.button},o)},$y=function(e){var t=e.children,r=Vy();return n.createElement("div",{className:r.menu},t)},Wy=function(e){var t=e.children;return n.createElement(r.Box,{position:"relative",bgcolor:"divider",p:1},n.createElement($y,null,t))};!function(e){e.bold="bold",e.italic="italic",e.underline="underline",e.headingOne="heading-one",e.headingTwo="heading-two",e.blockQuote="block-quote",e.numberedList="numbered-list",e.bulletedList="bulleted-list",e.listItem="list-item",e.paragraph="paragraph",e.alignCenter="align-center",e.alignLeft="align-left",e.alignRight="align-right",e.hyperlink="hyperlink",e.image="image"}(My||(My={}));var Qy=function(e){return e===My.numberedList||e===My.bulletedList},Gy=function(e){return e===My.alignCenter||e===My.alignLeft||e===My.alignRight},Yy=function(e){return e===My.headingOne||e===My.headingTwo},Ky=My,Zy=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,Jy=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)\s/,Xy=function(e){return Zy.test(e)},eb=function(e){return!!R(yv.nodes(e,{match:function(e){return e.type===Ky.hyperlink}}),1)[0]},tb=function(e,t,n){eb(e)&&function(e){Wv.unwrapNodes(e,{match:function(e){return e.type===Ky.hyperlink}})}(e);var r=e.selection,i=r&&kv.isCollapsed(r),a={type:Ky.hyperlink,url:t,children:i?[{text:n||t}]:[]};i?Wv.insertNodes(e,a):(Wv.wrapNodes(e,a,{split:!0}),Wv.collapse(e,{edge:"end"}))},nb=function(e){var t,n=e,r=n.insertData,i=n.insertText,a=n.isInline,o=n.normalizeNode;return n.isInline=function(e){return e.type===Ky.hyperlink||a(e)},n.insertText=function(e){e&&Xy(e)?tb(n,e):i(e)},n.insertData=function(e){var t=e.getData("text/plain"),i=t&&t.trim();i&&Xy(i)?tb(n,i):r(e)},n.normalizeNode=function(e){var r=e[0];if(r.text){var i=r.text;if(t&&t[0].text.trim()===i)t=void 0;else if(i&&function(e){return Jy.test(e)}(i)){var a=i.match(Zy)[0];t=e;var s=n.selection,u=s.focus,l=s.anchor,c=i.indexOf(a),d=c+a.length;return Wv.setSelection(n,{focus:{offset:d,path:u.path},anchor:{offset:c,path:l.path}}),void tb(n,a)}}o(e)},n},rb=m.makeStyles((function(){return{popoverContent:{flexGrow:1},icon:{display:"block"}}})),ib={anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}},ab=function(){var e=Cu(["messages/default"]).t,t=Dg(),i=rb(),a=R(n.useState(null),2),o=a[0],s=a[1],u=R(n.useState(),2),l=u[0],c=u[1],d=R(n.useState(),2),f=d[0],p=d[1],h=R(n.useState(null),2),m=h[0],y=h[1],b=R(n.useState(!1),2),E=b[0],w=b[1],x=function(){s(null),c(""),p(""),y(null),w(!1)},O=Boolean(o),A=O?"link-popover":void 0;return n.createElement(n.Fragment,null,n.createElement(Hy,{"aria-describedby":A,active:E||eb(t),onMouseDown:function(e){e.preventDefault(),w(!0),y(t.selection),s(e.currentTarget)}},n.createElement(_y,{className:i.icon})),n.createElement(v,{id:A,open:O,anchorEl:o,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.createElement(r.Box,{className:i.popoverContent,p:2},n.createElement(r.Grid,{container:!0,spacing:1},n.createElement(r.Grid,{item:!0,xs:9},n.createElement(r.TextField,{label:"Texte",variant:"outlined",fullWidth:!0,value:l,onChange:function(e){c(e.target.value)}})),n.createElement(r.Grid,{item:!0,container:!0,xs:12,direction:"row",alignItems:"center"},n.createElement(r.Grid,{item:!0,xs:9},n.createElement(r.TextField,{label:"Lien",variant:"outlined",fullWidth:!0,value:f,onChange:function(e){p(e.target.value)}})),n.createElement(r.Grid,{item:!0,xs:3,container:!0,justify:"center"},n.createElement(g,{variant:"contained",onClick:function(){if(f){t.selection=m||ib;var e=f;f.startsWith("http://")&&f.startsWith("https://")||(e="http://"+f),function(e,t,n){e.selection&&tb(e,t,n)}(t,e,l),x()}}},e("apply"))))))))},ob=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sb=function(){return(sb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ub={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},lb=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return ob(n,e),n.prototype.render=function(){return t.createElement("div",{className:this.props.className||"",style:sb(sb({position:"absolute",userSelect:"none"},ub[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(t.PureComponent);function cb(e,t,n,r){var i,a=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function db(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return void 0===a&&(a=e.apply(this,r),t.set(i,a)),a}function fb(e,t,n,r,i){return n.bind(t,e,r,i)}function pb(e,t){return fb(e,this,1===e.length?cb:db,t.cache.create(),t.serializer)}function hb(){return JSON.stringify(arguments)}function mb(){this.cache=Object.create(null)}mb.prototype.has=function(e){return e in this.cache},mb.prototype.get=function(e){return this.cache[e]},mb.prototype.set=function(e,t){this.cache[e]=t};var vb={create:function(){return new mb}},gb=function(e,t){var n=t&&t.cache?t.cache:vb,r=t&&t.serializer?t.serializer:hb;return(t&&t.strategy?t.strategy:pb)(e,{cache:n,serializer:r})},yb={variadic:function(e,t){return fb(e,this,db,t.cache.create(),t.serializer)},monadic:function(e,t){return fb(e,this,cb,t.cache.create(),t.serializer)}};gb.strategies=yb;var bb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eb=function(){return(Eb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wb={width:"auto",height:"auto"},xb=gb((function(e,t,n){return Math.max(Math.min(e,n),t)})),Ob=gb((function(e,t){return Math.round(e/t)*t})),Ab=gb((function(e,t){return new RegExp(e,"i").test(t)})),Cb=function(e){return Boolean(e.touches&&e.touches.length)},Sb=gb((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),Nb=gb((function(e,t){return e.substr(e.length-t.length,t.length)===t})),Ib=gb((function(e){return"auto"===(e=e.toString())||Nb(e,"px")||Nb(e,"%")||Nb(e,"vh")||Nb(e,"vw")||Nb(e,"vmax")||Nb(e,"vmin")?e:e+"px"})),Tb=function(e,t,n,r){if(e&&"string"==typeof e){if(Nb(e,"px"))return Number(e.replace("px",""));if(Nb(e,"%"))return t*(Number(e.replace("%",""))/100);if(Nb(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(Nb(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},_b=gb((function(e,t,n,r,i,a,o){return r=Tb(r,e.width,t,n),i=Tb(i,e.height,t,n),a=Tb(a,e.width,t,n),o=Tb(o,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===a?void 0:Number(a),minHeight:void 0===o?void 0:Number(o)}})),kb=["as","style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Db=function(e){function n(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return bb(n,e),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||wb},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&Nb(e.propsSize[t].toString(),"%")){if(Nb(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return Ib(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?Ib(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?Ib(t.height):n("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}}else if("window"===this.props.bounds){if(this.window){r=this.window.innerWidth-this.resizableLeft,i=this.window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<i?t:i}}else if(this.props.bounds){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}return{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,a=i.direction,o=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,d=o.width,f=o.height,p=l||0,h=c||0;return Ab("right",a)&&(d=o.width+(e-o.x)*r/n,u&&(f=(d-h)/this.ratio+p)),Ab("left",a)&&(d=o.width-(e-o.x)*r/n,u&&(f=(d-h)/this.ratio+p)),Ab("bottom",a)&&(f=o.height+(t-o.y)*r/n,u&&(d=(f-p)*this.ratio+h)),Ab("top",a)&&(f=o.height-(t-o.y)*r/n,u&&(d=(f-p)*this.ratio+h)),{newWidth:d,newHeight:f}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,a=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,c=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,f=o||0,p=s||0;if(a){var h=(c-f)*this.ratio+p,m=(d-f)*this.ratio+p,v=(u-p)/this.ratio+f,g=(l-p)/this.ratio+f,y=Math.max(u,h),b=Math.min(l,m),E=Math.max(c,v),w=Math.min(d,g);e=xb(e,y,b),t=xb(t,E,w)}else e=xb(e,u,l),t=xb(t,c,d);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,a=r.top;this.resizableLeft=i,this.resizableTop=a}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)){if(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent&&Cb(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var a=this.window.getComputedStyle(this.resizable);if("auto"!==a.flexBasis){var o=this.parentNode;if(o){var s=this.window.getComputedStyle(o).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Eb(Eb({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(u)}},n.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&Cb(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,a=t.minHeight,o=Cb(e)?e.touches[0].clientX:e.clientX,s=Cb(e)?e.touches[0].clientY:e.clientY,u=this.state,l=u.direction,c=u.original,d=u.width,f=u.height,p=this.getParentSize(),h=_b(p,this.window.innerWidth,this.window.innerHeight,n,r,i,a);n=h.maxWidth,r=h.maxHeight,i=h.minWidth,a=h.minHeight;var m=this.calculateNewSizeFromDirection(o,s),v=m.newHeight,g=m.newWidth,y=this.calculateNewMaxFromBoundary(n,r),b=this.calculateNewSizeFromAspectRatio(g,v,{width:y.maxWidth,height:y.maxHeight},{width:i,height:a});if(g=b.newWidth,v=b.newHeight,this.props.grid){var E=Ob(g,this.props.grid[0]),w=Ob(v,this.props.grid[1]),x=this.props.snapGap||0;g=0===x||Math.abs(E-g)<=x?E:g,v=0===x||Math.abs(w-v)<=x?w:v}this.props.snap&&this.props.snap.x&&(g=Sb(g,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=Sb(v,this.props.snap.y,this.props.snapGap));var O={width:g-c.width,height:v-c.height};if(d&&"string"==typeof d)if(Nb(d,"%"))g=g/p.width*100+"%";else if(Nb(d,"vw")){g=g/this.window.innerWidth*100+"vw"}else if(Nb(d,"vh")){g=g/this.window.innerHeight*100+"vh"}if(f&&"string"==typeof f)if(Nb(f,"%"))v=v/p.height*100+"%";else if(Nb(f,"vw")){v=v/this.window.innerWidth*100+"vw"}else if(Nb(f,"vh")){v=v/this.window.innerHeight*100+"vh"}var A={width:this.createSizeForCssProperty(g,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?A.flexBasis=A.width:"column"===this.flexDir&&(A.flexBasis=A.height),this.setState(A),this.props.onResize&&this.props.onResize(e,l,this.resizable,O)}},n.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var a={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,a),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Eb(Eb({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var e=this,n=this.props,r=n.enable,i=n.handleStyles,a=n.handleClasses,o=n.handleWrapperStyle,s=n.handleWrapperClass,u=n.handleComponent;if(!r)return null;var l=Object.keys(r).map((function(n){return!1!==r[n]?t.createElement(lb,{key:n,direction:n,onResizeStart:e.onResizeStart,replaceStyles:i&&i[n],className:a&&a[n]},u&&u[n]?u[n]:null):null}));return t.createElement("span",{className:s,style:o},l)},n.prototype.render=function(){var e=this,n=Object.keys(this.props).reduce((function(t,n){return-1!==kb.indexOf(n)||(t[n]=e.props[n]),t}),{}),r=Eb(Eb(Eb({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return t.createElement(i,Eb({ref:this.ref,style:r,className:this.props.className},n),this.state.isResizing&&t.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(t.PureComponent);function Rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach((function(t){Rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lb="undefined"!=typeof window,jb=Lb&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ub=Lb&&(jb&&jb.getOriginalSymbol(window,"File")||File),qb=Lb&&(jb&&jb.getOriginalSymbol(window,"FileReader")||FileReader),zb=Lb&&new Promise((function(e,t){var n,r,i,a;return Hb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return Qb(n=o).then((function(o){try{return Gb(r=o[1],n.type,n.name,n.lastModified).then((function(n){try{return i=n,Xb(r),Vb(i).then((function(n){try{return $b(n).then((function(n){try{return e(1===(a=n).width&&2===a.height)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}));function Vb(e){return new Promise((function(t,n){var r=new qb;r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.readAsDataURL(e)}))}function Hb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((function(r){for(var i=e.split(","),a=i[0].match(/:(.*?);/)[1],o=window.atob(i[1]),s=o.length,u=new Uint8Array(s);s--;)u[s]=o.charCodeAt(s);var l=new Blob([u],{type:a});l.name=t,l.lastModified=n,r(l)}))}function $b(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(e){return n(e)},r.src=e}))}function Wb(e){var t=Bb(Jb(e.width,e.height),2),n=t[0];return t[1].drawImage(e,0,0,n.width,n.height),n}function Qb(e){return new Promise((function(t,n){var r,i,a=function(){try{return i=Wb(r),t([r,i])}catch(e){return n(e)}},o=function(t){try{return Vb(e).then((function(e){try{return $b(e).then((function(e){try{return r=e,a()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){return n(e)}};try{return createImageBitmap(e).then((function(e){try{return r=e,a()}catch(e){return o()}}),o)}catch(e){o()}}))}function Gb(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(a,o){var s;return"function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:i}).then(function(e){try{return(s=e).name=n,s.lastModified=r,u.call(this)}catch(e){return o(e)}}.bind(this),o):Hb(e.toDataURL(t,i),n,r).then(function(e){try{return s=e,u.call(this)}catch(e){return o(e)}}.bind(this),o);function u(){return a(s)}}))}function Yb(e){return new Promise((function(t,n){var r=new qb;r.onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);for(var r=n.byteLength,i=2;i<r;){if(n.getUint16(i+2,!1)<=8)return t(-1);var a=n.getUint16(i,!1);if(i+=2,65505==a){if(1165519206!=n.getUint32(i+=2,!1))return t(-1);var o=18761==n.getUint16(i+=6,!1);i+=n.getUint32(i+4,o);var s=n.getUint16(i,o);i+=2;for(var u=0;u<s;u++)if(274==n.getUint16(i+12*u,o))return t(n.getUint16(i+12*u+8,o))}else{if(65280!=(65280&a))break;i+=n.getUint16(i,!1)}}return t(-1)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e)}))}function Kb(e,t){var n,r=e.width,i=e.height,a=t.maxWidthOrHeight,o=e;if(isFinite(a)&&(r>a||i>a)){var s=Bb(Jb(r,i),2);o=s[0],n=s[1],r>i?(o.width=a,o.height=i/r*a):(o.width=r/i*a,o.height=a),n.drawImage(e,0,0,o.width,o.height),Xb(e)}return o}function Zb(e,t){var n=e.width,r=e.height,i=Bb(Jb(n,r),2),a=i[0],o=i[1];switch(4<t&&t<9?(a.width=r,a.height=n):(a.width=n,a.height=r),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,r),Xb(e),a}function Jb(e,t){var n,r;try{if(null===(r=(n=new OffscreenCanvas(e,t)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(e){r=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=t,[n,r]}function Xb(e){e.width=0,e.height=0}function eE(e,t){return new Promise((function(n,r){var i,a,o,s,u,l,c,d,f,p,h,m,v,g,y,b;function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;i+=e,t.onProgress(Math.min(i,100))}function w(e){i=Math.min(Math.max(e,i),100),t.onProgress(i)}return i=0,a=t.maxIteration||10,o=1024*t.maxSizeMB*1024,E(),Qb(e).then(function(i){try{var x=Bb(i,2);return x[0],s=x[1],E(),u=Kb(s,t),E(),new Promise((function(n,r){var i;if(!(i=t.exifOrientation))return Yb(e).then(function(e){try{return i=e,a.call(this)}catch(e){return r(e)}}.bind(this),r);function a(){return n(i)}return a.call(this)})).then(function(i){try{return t.exifOrientation=i,E(),zb.then(function(i){try{return l=i?u:Zb(u,t.exifOrientation),E(),c=1,Gb(l,t.fileType||e.type,e.name,e.lastModified,c).then(function(i){try{{if(d=i,E(),f=d.size>o,p=d.size>e.size,!f&&!p)return w(100),n(d);var x;function O(){if(a--&&(v>o||v>h)){var n,i,s=Bb(Jb(n=f?.95*b.width:b.width,i=f?.95*b.height:b.height),2);return y=s[0],s[1].drawImage(b,0,0,n,i),"image/jpeg"===e.type&&(c*=.95),Gb(y,t.fileType||e.type,e.name,e.lastModified,c).then((function(e){try{return g=e,Xb(b),b=y,v=g.size,w(Math.min(99,Math.floor((m-v)/(m-o)*100))),O}catch(e){return r(e)}}),r)}return[1]}return h=e.size,m=d.size,v=m,b=l,(x=function(e){for(;e;){if(e.then)return void e.then(x,r);try{if(e.pop){if(e.length)return e.pop()?A.call(this):e;e=O}else e=e.call(this)}catch(e){return r(e)}}}.bind(this))(O);function A(){return Xb(b),Xb(y),Xb(u),Xb(l),Xb(s),w(100),n(g)}}}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}))}Lb&&(Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e});var tE,nE,rE=0;function iE(){return function(e){return"function"==typeof e&&(e="(".concat(f,")()")),new Worker(URL.createObjectURL(new Blob([e])))}("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function aE(e,t){return new Promise((function(n,r){var i,a,o;if(t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,a="boolean"!=typeof t.useWebWorker||t.useWebWorker,delete t.useWebWorker,void 0===t.onProgress&&(t.onProgress=function(){}),!(e instanceof Blob||e instanceof Ub))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(o="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!a||"function"!=typeof Worker||o)return eE(e,t).then(function(e){try{return i=e,l.call(this)}catch(e){return r(e)}}.bind(this),r);var s=function(){try{return l.call(this)}catch(e){return r(e)}}.bind(this),u=function(n){try{return eE(e,t).then((function(e){try{return i=e,s()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return function(e,t){return new Promise((function(n,r){return new Promise((function(i,a){var o=rE++;return tE||(tE=function(e){return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}("\n    function imageCompression (){return (".concat(aE,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(aE.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(aE.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(aE.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(aE.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(aE.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(aE.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(aE.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(aE.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(aE.followExifOrientation,"\n    imageCompression.cleanupMemory = ").concat(aE.cleanupMemory,"\n\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupMemory = imageCompression.cleanupMemory\n\n    getNewCanvasAndCtx = ").concat(Jb,"\n    \n    CustomFileReader = FileReader\n    \n    CustomFile = File\n    \n    function _slicedToArray(arr, n) { return arr }\n    \n    function _typeof(a) { return typeof a }\n\n    function compress (){return (").concat(eE,").apply(null, arguments)}\n    "))),nE||(nE=iE()),nE.addEventListener("message",(function e(i){if(i.data.id===o){if(void 0!==i.data.progress)return void t.onProgress(i.data.progress);nE.removeEventListener("message",e),i.data.error&&r(new Error(i.data.error)),n(i.data.file)}})),nE.addEventListener("error",r),nE.postMessage({file:e,id:o,imageCompressionLibUrl:tE,options:Fb(Fb({},t),{},{onProgress:void 0})}),i()}))}))}(e,t).then((function(e){try{return i=e,s()}catch(e){return u()}}),u)}catch(e){u()}function l(){try{i.name=e.name,i.lastModified=e.lastModified}catch(e){}return n(i)}}))}aE.getDataUrlFromFile=Vb,aE.getFilefromDataUrl=Hb,aE.loadImage=$b,aE.drawImageInCanvas=Wb,aE.drawFileInCanvas=Qb,aE.canvasToFile=Gb,aE.getExifOrientation=Yb,aE.handleMaxWidthOrHeight=Kb,aE.followExifOrientation=Zb,aE.cleanupMemory=Xb,aE.version="1.0.12";var oE=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"],sE=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(){return n(t.result)},t.onerror=function(){return r(t.error)},t.readAsDataURL(e)}))},uE="production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV,lE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];uE&&console.error(e)},cE=Bi.parse;function dE(e){return e.replace(/[\s,]+/g," ").trim()}var fE={},pE={};var hE=!0;var mE=!1;function vE(e){var t=dE(e);if(fE[t])return fE[t];var n=cE(e,{experimentalFragmentVariables:mE});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,a,o,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(a=t[s[i]],"[object Object]"!==(o=Object.prototype.toString.call(a))&&"[object Array]"!==o||(t[s[i]]=e(a,!0)));return t}(n=function(e){for(var t,n={},r=[],i=0;i<e.definitions.length;i++){var a=e.definitions[i];if("FragmentDefinition"===a.kind){var o=a.name.value,s=dE((t=a.loc).source.body.substring(t.start,t.end));pE.hasOwnProperty(o)&&!pE[o][s]?(hE&&console.warn("Warning: fragment with name "+o+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),pE[o][s]=!0):pE.hasOwnProperty(o)||(pE[o]={},pE[o][s]=!0),n[s]||(n[s]=!0,r.push(a))}else r.push(a)}return e.definitions=r,e}(n),!1),fE[t]=n,n}function gE(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return vE(n)}gE.default=gE,gE.resetCaches=function(){fE={},pE={}},gE.disableFragmentWarnings=function(){hE=!1},gE.enableExperimentalFragmentVariables=function(){mE=!0},gE.disableExperimentalFragmentVariables=function(){mE=!1};var yE,bE,EE,wE,xE,OE,AE,CE,SE,NE=gE;!function(e){e.IBAN="IBAN",e.GB="GB",e.US="US",e.CA="CA",e.OTHER="OTHER"}(yE||(yE={})),function(e){e.DOCUMENT_UNREADABLE="DOCUMENT_UNREADABLE",e.DOCUMENT_NOT_ACCEPTED="DOCUMENT_NOT_ACCEPTED",e.DOCUMENT_HAS_EXPIRED="DOCUMENT_HAS_EXPIRED",e.DOCUMENT_INCOMPLETE="DOCUMENT_INCOMPLETE",e.DOCUMENT_MISSING="DOCUMENT_MISSING",e.DOCUMENT_DO_NOT_MATCH_USER_DATA="DOCUMENT_DO_NOT_MATCH_USER_DATA",e.DOCUMENT_DO_NOT_MATCH_ACCOUNT_DATA="DOCUMENT_DO_NOT_MATCH_ACCOUNT_DATA",e.SPECIFIC_CASE="SPECIFIC_CASE",e.DOCUMENT_FALSIFIED="DOCUMENT_FALSIFIED",e.UNDERAGE_PERSON="UNDERAGE_PERSON"}(bE||(bE={})),function(e){e.CREATED="CREATED",e.VALIDATION_ASKED="VALIDATION_ASKED",e.REFUSED="REFUSED",e.VALIDATED="VALIDATED"}(EE||(EE={})),function(e){e.IDENTITY_PROOF="IDENTITY_PROOF",e.ARTICLES_OF_ASSOCIATION="ARTICLES_OF_ASSOCIATION",e.REGISTRATION_PROOF="REGISTRATION_PROOF",e.SHAREHOLDER_DECLARATION="SHAREHOLDER_DECLARATION"}(wE||(wE={})),function(e){e.LIGHT="LIGHT",e.REGULAR="REGULAR"}(xE||(xE={})),function(e){e.ORGANIZATION="ORGANIZATION",e.BUSINESS="BUSINESS",e.SOLETRADER="SOLETRADER"}(OE||(OE={})),function(e){e.CREATED="CREATED",e.VALIDATION_ASKED="VALIDATION_ASKED",e.INCOMPLETE="INCOMPLETE",e.VALIDATED="VALIDATED",e.REFUSED="REFUSED"}(AE||(AE={})),function(e){e.MISSING_UBO="MISSING_UBO",e.WRONG_UBO_INFORMATION="WRONG_UBO_INFORMATION",e.UBO_IDENTITY_NEEDED="UBO_IDENTITY_NEEDED",e.SHAREHOLDERS_DECLARATION_NEEDED="SHAREHOLDERS_DECLARATION_NEEDED",e.ORGANIZATION_CHART_NEEDED="ORGANIZATION_CHART_NEEDED",e.DOCUMENTS_NEEDED="DOCUMENTS_NEEDED",e.DECLARATION_DO_NOT_MATCH_UBO_INFORMATION="DECLARATION_DO_NOT_MATCH_UBO_INFORMATION",e.SPECIFIC_CASE="SPECIFIC_CASE"}(CE||(CE={})),function(e){e.CHECKING="CHECKING",e.SAVINGS="SAVINGS"}(SE||(SE={}));var IE=NE(pw||(pw=B(["\n    fragment User on User {\n  id\n  firstName\n  lastName\n  address1\n  address2\n  zipCode\n  city\n  nationality\n  countryOfResidence\n  birthDate\n  email\n  email2\n  firstName2\n  lastName2\n}\n    "],["\n    fragment User on User {\n  id\n  firstName\n  lastName\n  address1\n  address2\n  zipCode\n  city\n  nationality\n  countryOfResidence\n  birthDate\n  email\n  email2\n  firstName2\n  lastName2\n}\n    "]))),TE=NE(hw||(hw=B(["\n    fragment MangopayAddress on MangopayAddress {\n  AddressLine1\n  AddressLine2\n  City\n  PostalCode\n  Country\n}\n    "],["\n    fragment MangopayAddress on MangopayAddress {\n  AddressLine1\n  AddressLine2\n  City\n  PostalCode\n  Country\n}\n    "]))),_E=NE(mw||(mw=B(["\n    fragment MangopayKycDocument on MangopayKycDocument {\n  Id\n  Type\n  ProcessedDate\n  Status\n  RefusedReasonType\n  RefusedReasonMessage\n}\n    "],["\n    fragment MangopayKycDocument on MangopayKycDocument {\n  Id\n  Type\n  ProcessedDate\n  Status\n  RefusedReasonType\n  RefusedReasonMessage\n}\n    "]))),kE=NE(vw||(vw=B(["\n    fragment MangopayBirthplace on MangopayBirthplace {\n  City\n  Country\n}\n    "],["\n    fragment MangopayBirthplace on MangopayBirthplace {\n  City\n  Country\n}\n    "]))),DE=NE(gw||(gw=B(["\n    fragment MangopayUbo on MangopayUbo {\n  Id\n  CreationDate\n  FirstName\n  LastName\n  Address {\n    ...MangopayAddress\n  }\n  Nationality\n  Birthday\n  Birthplace {\n    ...MangopayBirthplace\n  }\n}\n    ","\n",""],["\n    fragment MangopayUbo on MangopayUbo {\n  Id\n  CreationDate\n  FirstName\n  LastName\n  Address {\n    ...MangopayAddress\n  }\n  Nationality\n  Birthday\n  Birthplace {\n    ...MangopayBirthplace\n  }\n}\n    ","\n",""])),TE,kE),RE=NE(yw||(yw=B(["\n    fragment MangopayUboDeclaration on MangopayUboDeclaration {\n  Id\n  Status\n  Reason\n  Message\n  Ubos {\n    ...MangopayUbo\n  }\n}\n    ",""],["\n    fragment MangopayUboDeclaration on MangopayUboDeclaration {\n  Id\n  Status\n  Reason\n  Message\n  Ubos {\n    ...MangopayUbo\n  }\n}\n    ",""])),DE),ME=NE(bw||(bw=B(["\n    fragment MangopayIbanBankAccount on MangopayIbanBankAccount {\n  Id\n  Type\n  OwnerAddress {\n    ...MangopayAddress\n  }\n  OwnerName\n  Active\n  IBAN\n  BIC\n}\n    ",""],["\n    fragment MangopayIbanBankAccount on MangopayIbanBankAccount {\n  Id\n  Type\n  OwnerAddress {\n    ...MangopayAddress\n  }\n  OwnerName\n  Active\n  IBAN\n  BIC\n}\n    ",""])),TE),FE=NE(Ew||(Ew=B(["\n    fragment MangopayLegalUser on MangopayLegalUser {\n  bankAccountId\n  KYCLevel\n  Name\n  CompanyNumber\n  Email\n  LegalPersonType\n  LegalRepresentativeFirstName\n  LegalRepresentativeLastName\n  LegalRepresentativeEmail\n  LegalRepresentativeBirthday\n  LegalRepresentativeNationality\n  LegalRepresentativeCountryOfResidence\n  HeadquartersAddress {\n    ...MangopayAddress\n  }\n  LegalRepresentativeAddress {\n    ...MangopayAddress\n  }\n  KycDocuments {\n    ...MangopayKycDocument\n  }\n  UboDeclarations {\n    ...MangopayUboDeclaration\n  }\n  BankAccounts {\n    ... on MangopayIbanBankAccount {\n      ...MangopayIbanBankAccount\n    }\n  }\n  legalRepr {\n    id\n    firstName\n    lastName\n    email\n    address1\n    address2\n    zipCode\n    city\n    nationality\n    countryOfResidence\n    birthDate\n  }\n}\n    ","\n","\n","\n",""],["\n    fragment MangopayLegalUser on MangopayLegalUser {\n  bankAccountId\n  KYCLevel\n  Name\n  CompanyNumber\n  Email\n  LegalPersonType\n  LegalRepresentativeFirstName\n  LegalRepresentativeLastName\n  LegalRepresentativeEmail\n  LegalRepresentativeBirthday\n  LegalRepresentativeNationality\n  LegalRepresentativeCountryOfResidence\n  HeadquartersAddress {\n    ...MangopayAddress\n  }\n  LegalRepresentativeAddress {\n    ...MangopayAddress\n  }\n  KycDocuments {\n    ...MangopayKycDocument\n  }\n  UboDeclarations {\n    ...MangopayUboDeclaration\n  }\n  BankAccounts {\n    ... on MangopayIbanBankAccount {\n      ...MangopayIbanBankAccount\n    }\n  }\n  legalRepr {\n    id\n    firstName\n    lastName\n    email\n    address1\n    address2\n    zipCode\n    city\n    nationality\n    countryOfResidence\n    birthDate\n  }\n}\n    ","\n","\n","\n",""])),TE,_E,RE,ME),BE=(NE(ww||(ww=B(["\n    mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    user {\n      ...User\n    }\n    token\n  }\n}\n    ",""],["\n    mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    user {\n      ...User\n    }\n    token\n  }\n}\n    ",""])),IE),NE(xw||(xw=B(["\n    query Me {\n  me {\n    ...User\n  }\n}\n    ",""],["\n    query Me {\n  me {\n    ...User\n  }\n}\n    ",""])),IE));function PE(e){return Oa(BE,e)}NE(Ow||(Ow=B(["\n    query GroupPreview($id: Int!) {\n  groupPreview(id: $id) {\n    id\n    name\n  }\n}\n    "],["\n    query GroupPreview($id: Int!) {\n  groupPreview(id: $id) {\n    id\n    name\n  }\n}\n    "]))),NE(Aw||(Aw=B(["\n    query getUserMemberships($userId: Int!, $groupId: Int!) {\n  getUserMemberships(userId: $userId, groupId: $groupId) {\n    user {\n      id\n      firstName\n      lastName\n      email\n    }\n    group {\n      id\n      name\n    }\n    year\n  }\n}\n    "],["\n    query getUserMemberships($userId: Int!, $groupId: Int!) {\n  getUserMemberships(userId: $userId, groupId: $groupId) {\n    user {\n      id\n      firstName\n      lastName\n      email\n    }\n    group {\n      id\n      name\n    }\n    year\n  }\n}\n    "])));var LE=NE(Cw||(Cw=B(["\n    query isGroupAdmin($groupId: Int!) {\n  isGroupAdmin(groupId: $groupId)\n}\n    "],["\n    query isGroupAdmin($groupId: Int!) {\n  isGroupAdmin(groupId: $groupId)\n}\n    "])));NE(Sw||(Sw=B(["\n    query MangopayGroup($id: Int!) {\n  group(id: $id) {\n    id\n    mangopayGroup {\n      legalUser {\n        KYCLevel\n      }\n    }\n  }\n}\n    "],["\n    query MangopayGroup($id: Int!) {\n  group(id: $id) {\n    id\n    mangopayGroup {\n      legalUser {\n        KYCLevel\n      }\n    }\n  }\n}\n    "])));var jE=NE(Nw||(Nw=B(["\n    query MangopayGroupConfig($id: Int!) {\n  group(id: $id) {\n    id\n    users {\n      id\n      firstName\n      lastName\n      email\n      address1\n      address2\n      zipCode\n      city\n      nationality\n      countryOfResidence\n      birthDate\n    }\n    mangopayGroup {\n      legalUser {\n        ...MangopayLegalUser\n      }\n    }\n  }\n}\n    ",""],["\n    query MangopayGroupConfig($id: Int!) {\n  group(id: $id) {\n    id\n    users {\n      id\n      firstName\n      lastName\n      email\n      address1\n      address2\n      zipCode\n      city\n      nationality\n      countryOfResidence\n      birthDate\n    }\n    mangopayGroup {\n      legalUser {\n        ...MangopayLegalUser\n      }\n    }\n  }\n}\n    ",""])),FE);var UE=NE(Iw||(Iw=B(["\n    query MangopayLegalUserByLegalRepr($input: GetMangopayLegalUserByLegalRepr!) {\n  mangopayLegalUserByLegalRepr(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""],["\n    query MangopayLegalUserByLegalRepr($input: GetMangopayLegalUserByLegalRepr!) {\n  mangopayLegalUserByLegalRepr(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""])),FE);var qE=NE(Tw||(Tw=B(["\n    mutation CreateMangopayLegalUser($input: CreateMangopayLegalUserInput!) {\n  createMangopayLegalUser(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""],["\n    mutation CreateMangopayLegalUser($input: CreateMangopayLegalUserInput!) {\n  createMangopayLegalUser(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""])),FE);var zE=NE(_w||(_w=B(["\n    mutation UpdateMangopayLegalUser($input: UpdateMangopayLegalUserInput!) {\n  updateMangopayLegalUser(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""],["\n    mutation UpdateMangopayLegalUser($input: UpdateMangopayLegalUserInput!) {\n  updateMangopayLegalUser(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""])),FE);var VE=NE(kw||(kw=B(["\n    mutation LinkMangopayLegalUserToGroup($input: LinkMangopayLegalUserToGroupInput!) {\n  linkMangopayLegalUserToGroup(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""],["\n    mutation LinkMangopayLegalUserToGroup($input: LinkMangopayLegalUserToGroupInput!) {\n  linkMangopayLegalUserToGroup(input: $input) {\n    ...MangopayLegalUser\n  }\n}\n    ",""])),FE);var HE=NE(Dw||(Dw=B(["\n    mutation CreateMangopayKycDocuments($input: CreateMangopayKycDocumentsInput!) {\n  createMangopayKycDocuments(input: $input) {\n    ...MangopayKycDocument\n  }\n}\n    ",""],["\n    mutation CreateMangopayKycDocuments($input: CreateMangopayKycDocumentsInput!) {\n  createMangopayKycDocuments(input: $input) {\n    ...MangopayKycDocument\n  }\n}\n    ",""])),_E);var $E=NE(Rw||(Rw=B(["\n    mutation CreateMangopayUboDeclaration($input: CreateMangopayUboDeclarationInput!) {\n  createMangopayUboDeclaration(input: $input) {\n    ...MangopayUboDeclaration\n  }\n}\n    ",""],["\n    mutation CreateMangopayUboDeclaration($input: CreateMangopayUboDeclarationInput!) {\n  createMangopayUboDeclaration(input: $input) {\n    ...MangopayUboDeclaration\n  }\n}\n    ",""])),RE);var WE=NE(Mw||(Mw=B(["\n    mutation SubmitMangopayUboDeclaration($input: SubmitMangopayUboDeclarationInput!) {\n  submitMangopayUboDeclaration(input: $input) {\n    ...MangopayUboDeclaration\n  }\n}\n    ",""],["\n    mutation SubmitMangopayUboDeclaration($input: SubmitMangopayUboDeclarationInput!) {\n  submitMangopayUboDeclaration(input: $input) {\n    ...MangopayUboDeclaration\n  }\n}\n    ",""])),RE);var QE=NE(Fw||(Fw=B(["\n    mutation CreateOrUpdateMangopayUbo($input: CreateOrUpdateMangopayUboInput!) {\n  createOrUpdateMangopayUbo(input: $input) {\n    ...MangopayUbo\n  }\n}\n    ",""],["\n    mutation CreateOrUpdateMangopayUbo($input: CreateOrUpdateMangopayUboInput!) {\n  createOrUpdateMangopayUbo(input: $input) {\n    ...MangopayUbo\n  }\n}\n    ",""])),DE);var GE=NE(Bw||(Bw=B(["\n    mutation CreateMangopayIbanBankAccount($input: CreateMangopayIbanBankAccountInput!) {\n  createMangopayIbanBankAccount(input: $input) {\n    ... on MangopayIbanBankAccount {\n      ...MangopayIbanBankAccount\n    }\n  }\n}\n    ",""],["\n    mutation CreateMangopayIbanBankAccount($input: CreateMangopayIbanBankAccountInput!) {\n  createMangopayIbanBankAccount(input: $input) {\n    ... on MangopayIbanBankAccount {\n      ...MangopayIbanBankAccount\n    }\n  }\n}\n    ",""])),ME);var YE=NE(Pw||(Pw=B(["\n    mutation DeactivateMangopayBankAccount($input: DeactivateMangopayBankAccountInput!) {\n  deactivateMangopayBankAccount(input: $input)\n}\n    "],["\n    mutation DeactivateMangopayBankAccount($input: DeactivateMangopayBankAccountInput!) {\n  deactivateMangopayBankAccount(input: $input)\n}\n    "])));var KE=NE(Lw||(Lw=B(["\n    mutation selectMangopayBankAccountId($input: SelectMangopayLegalUserBankAccount!) {\n  selectMangopayBankAccountId(input: $input) {\n    mangopayUserId\n    bankAccountId\n  }\n}\n    "],["\n    mutation selectMangopayBankAccountId($input: SelectMangopayLegalUserBankAccount!) {\n  selectMangopayBankAccountId(input: $input) {\n    mangopayUserId\n    bankAccountId\n  }\n}\n    "])));var ZE=NE(jw||(jw=B(["\n    query getMembersOfGroupByListType($listType: String!, $groupId: Int!, $data: String) {\n  getUserListInGroupByListType(listType: $listType, groupId: $groupId, data: $data) {\n    id\n    firstName\n    lastName\n    firstName2\n    lastName2\n    city\n    zipCode\n    address1\n    address2\n  }\n}\n    "],["\n    query getMembersOfGroupByListType($listType: String!, $groupId: Int!, $data: String) {\n  getUserListInGroupByListType(listType: $listType, groupId: $groupId, data: $data) {\n    id\n    firstName\n    lastName\n    firstName2\n    lastName2\n    city\n    zipCode\n    address1\n    address2\n  }\n}\n    "])));var JE=NE(Uw||(Uw=B(["\n    query getWaitingListsOfGroup($groupId: Int!) {\n  getWaitingListsOfGroup(groupId: $groupId) {\n    user {\n      id\n      firstName\n      lastName\n      firstName2\n      lastName2\n      email\n      phone\n    }\n    date\n    message\n  }\n}\n    "],["\n    query getWaitingListsOfGroup($groupId: Int!) {\n  getWaitingListsOfGroup(groupId: $groupId) {\n    user {\n      id\n      firstName\n      lastName\n      firstName2\n      lastName2\n      email\n      phone\n    }\n    date\n    message\n  }\n}\n    "])));var XE=NE(qw||(qw=B(["\n    mutation moveBackToWaitingList($userId: Int!, $groupId: Int!, $message: String!) {\n  moveBackToWaitingList(userId: $userId, groupId: $groupId, message: $message) {\n    amapId\n    userId\n  }\n}\n    "],["\n    mutation moveBackToWaitingList($userId: Int!, $groupId: Int!, $message: String!) {\n  moveBackToWaitingList(userId: $userId, groupId: $groupId, message: $message) {\n    amapId\n    userId\n  }\n}\n    "])));var ew=NE(zw||(zw=B(["\n    mutation removeUserFromGroup($userId: Int!, $groupId: Int!) {\n  removeUserFromGroup(userId: $userId, groupId: $groupId) {\n    groupId\n    userId\n  }\n}\n    "],["\n    mutation removeUserFromGroup($userId: Int!, $groupId: Int!) {\n  removeUserFromGroup(userId: $userId, groupId: $groupId) {\n    groupId\n    userId\n  }\n}\n    "])));var tw=NE(Vw||(Vw=B(["\n    mutation approveRequest($userId: Int!, $groupId: Int!) {\n  approveRequest(userId: $userId, groupId: $groupId) {\n    userId\n  }\n}\n    "],["\n    mutation approveRequest($userId: Int!, $groupId: Int!) {\n  approveRequest(userId: $userId, groupId: $groupId) {\n    userId\n  }\n}\n    "])));var nw=NE(Hw||(Hw=B(["\n    mutation cancelRequest($userId: Int!, $groupId: Int!) {\n  cancelRequest(userId: $userId, groupId: $groupId) {\n    userId\n  }\n}\n    "],["\n    mutation cancelRequest($userId: Int!, $groupId: Int!) {\n  cancelRequest(userId: $userId, groupId: $groupId) {\n    userId\n  }\n}\n    "])));var rw=NE($w||($w=B(["\n    mutation createMembership($input: CreateMembershipInput!) {\n  createMembership(input: $input) {\n    date\n    amount\n  }\n}\n    "],["\n    mutation createMembership($input: CreateMembershipInput!) {\n  createMembership(input: $input) {\n    date\n    amount\n  }\n}\n    "])));var iw=NE(Ww||(Ww=B(["\n    query GroupMembershipFee($id: Int!) {\n  group(id: $id) {\n    membershipFee\n    hasMembership\n  }\n}\n    "],["\n    query GroupMembershipFee($id: Int!) {\n  group(id: $id) {\n    membershipFee\n    hasMembership\n  }\n}\n    "])));var aw=NE(Qw||(Qw=B(["\n    query MessagesGroup($id: Int!) {\n  group(id: $id) {\n    id\n    name\n    hasMembership\n  }\n}\n    "],["\n    query MessagesGroup($id: Int!) {\n  group(id: $id) {\n    id\n    name\n    hasMembership\n  }\n}\n    "])));var ow=NE(Gw||(Gw=B(["\n    query UserLists($groupId: Int!) {\n  getUserLists(groupId: $groupId) {\n    type\n    count\n    data\n  }\n}\n    "],["\n    query UserLists($groupId: Int!) {\n  getUserLists(groupId: $groupId) {\n    type\n    count\n    data\n  }\n}\n    "])));function sw(e){return Oa(ow,e)}var uw=NE(Yw||(Yw=B(["\n    query getUserListInGroupByListType($listType: String!, $groupId: Int!, $data: String) {\n  getUserListInGroupByListType(listType: $listType, groupId: $groupId, data: $data) {\n    id\n    firstName\n    lastName\n    firstName2\n    lastName2\n    email\n    email2\n  }\n}\n    "],["\n    query getUserListInGroupByListType($listType: String!, $groupId: Int!, $data: String) {\n  getUserListInGroupByListType(listType: $listType, groupId: $groupId, data: $data) {\n    id\n    firstName\n    lastName\n    firstName2\n    lastName2\n    email\n    email2\n  }\n}\n    "])));var lw=NE(Kw||(Kw=B(["\n    mutation createMessage($input: CreateMessageInput!) {\n  createMessage(input: $input) {\n    id\n  }\n}\n    "],["\n    mutation createMessage($input: CreateMessageInput!) {\n  createMessage(input: $input) {\n    id\n  }\n}\n    "])));var cw=NE(Zw||(Zw=B(["\n    query GetMessagesForGroup($groupId: Int!) {\n  getMessagesForGroup(groupId: $groupId) {\n    id\n    title\n    date\n  }\n}\n    "],["\n    query GetMessagesForGroup($groupId: Int!) {\n  getMessagesForGroup(groupId: $groupId) {\n    id\n    title\n    date\n  }\n}\n    "])));var dw=NE(Jw||(Jw=B(["\n    query GetUserMessagesForGroup($groupId: Int!) {\n  getUserMessagesForGroup(groupId: $groupId) {\n    id\n    title\n    date\n  }\n}\n    "],["\n    query GetUserMessagesForGroup($groupId: Int!) {\n  getUserMessagesForGroup(groupId: $groupId) {\n    id\n    title\n    date\n  }\n}\n    "])));var fw=NE(Xw||(Xw=B(["\n    query GetMessageById($id: Int!) {\n  message(id: $id) {\n    id\n    title\n    date\n    recipientListId\n    sender {\n      id\n      firstName\n      lastName\n    }\n    body\n    recipients\n    attachments\n  }\n}\n    "],["\n    query GetMessageById($id: Int!) {\n  message(id: $id) {\n    id\n    title\n    date\n    recipientListId\n    sender {\n      id\n      firstName\n      lastName\n    }\n    body\n    recipients\n    attachments\n  }\n}\n    "])));var pw,hw,mw,vw,gw,yw,bw,Ew,ww,xw,Ow,Aw,Cw,Sw,Nw,Iw,Tw,_w,kw,Dw,Rw,Mw,Fw,Bw,Pw,Lw,jw,Uw,qw,zw,Vw,Hw,$w,Ww,Qw,Gw,Yw,Kw,Zw,Jw,Xw,ex,tx=NE(ex||(ex=B(["\n    query getActiveContracts($groupId: Int!) {\n  getActiveContracts(groupId: $groupId) {\n    vendor {\n      name\n      image {\n        data\n      }\n    }\n  }\n}\n    "],["\n    query getActiveContracts($groupId: Int!) {\n  getActiveContracts(groupId: $groupId) {\n    vendor {\n      name\n      image {\n        data\n      }\n    }\n  }\n}\n    "])));var nx,rx=n.createContext({groupId:-1,whichUser:!0,attachments:[],error:void 0,setError:function(){},addAttachment:function(){},removeAttachment:function(){},resetAttachments:function(){},recipients:[],setRecipients:function(){},selectedUserList:void 0,setSelectedUserList:function(){}}),ix=function(e){var t=e.children,r=e.groupId,i=e.whichUser,a=R(n.useState([]),2),o=a[0],s=a[1],u=R(n.useState(),2),l=u[0],c=u[1],d=R(n.useState([]),2),f=d[0],p=d[1],h=R(n.useState(),2),m=h[0],v=h[1];return n.createElement(rx.Provider,{value:{groupId:r,whichUser:i,attachments:o,error:l,setError:c,addAttachment:function(e){if(-1===o.findIndex((function(t){return t.name===e.name}))){var t=M(o);t.push(e),s(t)}},removeAttachment:function(e){var t=M(o),n=t.indexOf(e);-1!==n&&(t.splice(n,1),s(t))},resetAttachments:function(){s([])},recipients:f,setRecipients:p,selectedUserList:m,setSelectedUserList:v}},t)},ax=r.makeStyles((function(e){return{image:{display:"block",maxWidth:"100%",maxHeight:"100%",boxShadow:"none"},selectedAndFocusedImage:{boxShadow:"0 0 0 3px #B4D5FF"},alignLeft:{float:"left",marginRight:e.spacing(2)},alignCenter:{display:"block",margin:"0px auto"},alignRight:{float:"right",marginLeft:e.spacing(2)},icon:{display:"block"},deviceMenuItem:{height:"56px",paddingLeft:"30px"}}})),ox=function(e,t){var n={type:Ky.image,imageSource:t,children:[{text:""}]},r={types:[Ky.paragraph],children:[{text:""}]};Wv.insertNodes(e,[n,r])},sx=function(e){var t=e,n=t.insertData,r=t.isVoid;return t.isVoid=function(e){return e.type===Ky.image||r(e)},t.insertData=function(t){var r=t.getData("text/plain"),i=t.files;i&&i.length>0?Array.from(i).forEach((function(t){var n=new FileReader;"image"===R(t.type.split("/"),1)[0]&&(n.addEventListener("load",(function(){var t=n.result;ox(e,t)})),n.readAsDataURL(t))})):!function(e){if(!e)return!1;if(!Xy(e))return!1;var t=e.split(".").pop();return t&&oE.includes(t)}(r)?n(t):ox(e,r)},t},ux=function(e){var r=e.attributes,i=e.children,a=e.element,o=ax(),s=t.useContext(Fg),u=t.useContext(Ig),l=Dg(),c=R(t.useState(a.width||200),2),d=c[0],f=c[1],p=R(t.useState(a.height||200),2),h=p[0],m=p[1],v=R(t.useState(Math.PI/4),2),g=v[0],y=v[1],b=n.useRef(null);function E(){return Ng.findPath(l,a)}function w(e,t){Wv.setNodes(l,{width:e,height:t},{at:E()})}var x=o.alignCenter;return a.align!==Ky.alignLeft&&a.align?a.align===Ky.alignRight&&(x=o.alignRight):x=o.alignLeft,n.createElement("div",T({},r),n.createElement("div",{contentEditable:!1},n.createElement(Db,{size:{width:d,height:h},onResizeStart:function(){Ng.focus(l),Wv.select(l,E())},onResizeStop:function(e,t,n,r){var i=d+r.width,a=h+r.height;w(i,a),f(i),m(a)},lockAspectRatio:!0,minWidth:100*Math.cos(g),minHeight:100*Math.sin(g),maxWidth:600*Math.cos(g),maxHeight:600*Math.sin(g),className:x},n.createElement("img",{ref:b,src:a.imageSource,alt:"",className:s&&u?o.selectedAndFocusedImage+" "+o.image:o.image,onLoad:function(){var e=a.width||b.current.naturalWidth,t=a.height||b.current.naturalHeight,n=Math.atan(t/e),r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),i=e,o=t;!function(e){return e<100}(r)?function(e){return e>600}(r)&&(i=600*Math.cos(n),o=600*Math.sin(n)):(i=100*Math.cos(n),o=100*Math.sin(n)),w(i,o),f(i),m(o),y(n)}}))),i)},lx=function(){var e,t=Cu(["messages/default"]).t,i=ax(),a=n.useContext(rx).groupId,o=(e={variables:{groupId:a}},Oa(tx,e)).data,s=_g(),u=n.useRef(null),c=R(n.useState(!1),2),d=c[0],f=c[1],p=R(n.useState(null),2),h=p[0],m=p[1],v=R(n.useState(!1),2),g=v[0],y=v[1],b=R(n.useState(null),1)[0],E=R(n.useState(""),2),w=E[0],x=E[1],O=function(){m(null),y(!1)};return n.createElement(Hy,{active:g,onMouseDown:function(e){e.preventDefault(),function(e){y(!0),m(e.currentTarget)}(e)},"aria-controls":"image-upload-menu","aria-haspopup":"true"},d?n.createElement(r.CircularProgress,{size:20.4}):n.createElement(Ty,{className:i.icon}),n.createElement(r.Menu,{id:"image-upload-menu",anchorEl:h,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,keepMounted:!0,open:Boolean(h),onClose:O,disableScrollLock:!0},n.createElement(r.MenuItem,{onClick:function(){u&&u.current&&(O(),u.current.value="",u.current.click())},className:i.deviceMenuItem},t("form.fromDevice")),void 0!==(null==o?void 0:o.getActiveContracts)&&n.createElement(r.ListItem,null,n.createElement(l.Autocomplete,{options:o.getActiveContracts,getOptionLabel:function(e){return e?e.vendor.name:""},renderInput:function(e){return n.createElement(r.TextField,T({},e,{label:t("form.fromCatalog"),variant:"outlined"}))},disableClearable:!0,autoSelect:!0,autoHighlight:!0,fullWidth:!0,style:{width:300},clearOnEscape:!0,clearOnBlur:!0,value:b,onChange:function(e,t){t&&(O(),ox(s,"data:image/jpg;base64,"+t.vendor.image.data),x(""))},inputValue:w,onInputChange:function(e,t){x(t)}}))),n.createElement(r.Box,{display:"none"},n.createElement("input",{type:"file",accept:"image/*",ref:u,onChange:function(e){return k(void 0,void 0,void 0,(function(){var t,n,r,i,a,o;return D(this,(function(u){switch(u.label){case 0:if(!e||!e.target||!e.target.files||0===e.target.files.length)return[2];f(!0),t=document.body.style.cursor,document.body.style.cursor="wait",n=e.target.files[0],r={maxSizeMB:1,maxWidthOrHeight:600,useWebWorker:!0},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,aE(n,r)];case 2:return i=u.sent(),[4,sE(i)];case 3:return a=u.sent(),ox(s,a),f(!1),document.body.style.cursor=t,[3,5];case 4:return o=u.sent(),f(!1),document.body.style.cursor=t,lE(o),[3,5];case 5:return[2]}}))}))}})))},cx=r.makeStyles((function(e){return{icon:{display:"block"},chip:{maxWidth:"100%"},attachments:{borderRight:"solid "+e.palette.divider,borderBottom:"solid "+e.palette.divider,borderLeft:"solid "+e.palette.divider,flexDirection:"row",display:"flex",flexWrap:"wrap",alignItems:"center"}}})),dx=function(e){var t=["o"," Ko"," Mo"," Go"];if(e<1e3)return""+e+t[0];if(e<1e6)return""+Math.round(e/1024)+t[1];var n=e/1048576;return""+Math.round(10*n)/10+t[2]},fx=function(){var e=cx(),t=n.useContext(rx),i=t.attachments,a=t.removeAttachment;return 0===i.length?null:n.createElement(r.Box,{position:"relative",className:e.attachments,p:1},n.createElement(my,{className:e.icon}),i.map((function(t){return n.createElement(r.Box,{m:.5,key:t.name,maxWidth:"100%"},n.createElement(r.Chip,{label:t.name+" ("+dx(1.33*t.size)+")",size:"small",onDelete:function(){return a(t)},className:e.chip}))})))},px=function(){var e=cx(),t=n.useContext(rx).addAttachment,i=n.useRef(null),a=R(n.useState(!1),2),o=a[0],s=a[1];return n.createElement(Hy,{active:o,onMouseDown:function(e){e.preventDefault(),s(!0),i&&i.current&&(i.current.value="",i.current.click())},"aria-controls":"attachment-upload-menu","aria-haspopup":"true",onMouseUp:function(){s(!1)}},n.createElement(my,{className:e.icon}),n.createElement(r.Box,{display:"none"},n.createElement("input",{type:"file",accept:"*",ref:i,onChange:function(e){return k(void 0,void 0,void 0,(function(){var n;return D(this,(function(r){return e&&e.target&&e.target.files&&0!==e.target.files.length?(n=e.target.files[0],t(n),[2]):[2]}))}))}})))},hx=r.makeStyles((function(e){return{editor:{"&:hover":{borderBottom:"2px solid #777"}},editorFocused:{borderBottom:"2px solid "+e.palette.primary.main},icon:{display:"block"},editable:{minHeight:"350px",padding:"8px",overflow:"hidden"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"}}})),mx={"mod+b":Ky.bold,"mod+i":Ky.italic,"mod+u":Ky.underline},vx=function(e,t){return t===Ky.alignLeft?!R(yv.nodes(e,{match:function(e){if(!e.types)return!(!e.type||e.type!==Ky.image)&&!(!e.align||e.align===t);var n=e.types;return n.includes(Ky.alignCenter)||n.includes(Ky.alignRight)}}),1)[0]:!!R(yv.nodes(e,{match:function(e){return e.types?e.types.includes(t):!(!e.type||e.type!==Ky.image||!Gy(t))&&e.align===t}}),1)[0]},gx=function(e,t){var n=yv.marks(e);return!!n&&!0===n[t]},yx=function(e,t){var n=vx(e,t),r=Qy(t);if(r){var i=vx(e,function(e){return e===Ky.numberedList?Ky.bulletedList:Ky.numberedList}(t));(n||i)&&Wv.unwrapNodes(e,{match:function(e){var t=!1;return e.types&&e.types.forEach((function(e){Qy(e)&&(t=!0)})),t},split:!0})}var a=r?Ky.listItem:t,o=[],s=e.selection&&e.children[e.selection.anchor.path[0]];if(s&&s.type&&s.type===Ky.image)Gy(a)&&Wv.setNodes(e,{align:a});else{var u=s?s.types:[];if(s&&s.children.length>0&&s.children[0].types&&(u=s.children[0].types),u.length&&u[0]===Ky.paragraph||o.push.apply(o,M(u)),n){var l=u.findIndex((function(e){return e===a}));o.splice(l,1)}else if(Gy(a)){var c=u.findIndex((function(e){return Gy(e)}));-1!==c?o.splice(c,1,a):o.push(a)}else if(Yy(a)){var d=u.findIndex((function(e){return Yy(e)}));-1!==d?o.splice(d,1,a):o.push(a)}else if(r){-1===u.findIndex((function(e){return function(e){return e===My.listItem}(e)}))&&o.push(a)}else o.push(a);if(Wv.setNodes(e,{types:o}),!n&&r){var f={types:[t],children:[]};Wv.wrapNodes(e,f)}}},bx=function(e,t){gx(e,t)?yv.removeMark(e,t):yv.addMark(e,t,!0)},Ex=function(e){var t=e.attributes,r=e.children,i=e.element,a=hx(),o=r;if(i.type){if(i.type===Ky.hyperlink)return n.createElement("a",T({},t,{href:i.url}),r);if(i.type===Ky.image)return n.createElement(ux,{attributes:t,element:i},r)}return i.types.forEach((function(e){switch(e){case Ky.bulletedList:o=n.createElement("ul",T({},t),o);break;case Ky.headingOne:o=n.createElement("h1",T({},t),o);break;case Ky.headingTwo:o=n.createElement("h2",T({},t),o);break;case Ky.listItem:o=n.createElement("li",T({},t),o);break;case Ky.numberedList:o=n.createElement("ol",T({},t),o);break;case Ky.alignCenter:o=n.createElement("div",T({},t,{className:a.alignCenter}),o);break;case Ky.alignRight:o=n.createElement("div",T({},t,{className:a.alignRight}),o);break;case Ky.alignLeft:break;default:o=n.createElement("p",T({},t),o)}})),o},wx=function(e){var t=e.attributes,r=e.children,i=e.leaf,a=r;return i.bold&&(a=n.createElement("strong",null,r)),i.italic&&(a=n.createElement("em",null,r)),i.underline&&(a=n.createElement("u",null,r)),n.createElement("span",T({},t),a)},xx=function(e){var t=e.format,r=e.icon,i=Dg(),a=vx(i,t);return n.createElement(Hy,{active:a,onMouseDown:function(e){e.preventDefault(),yx(i,t)}},r)},Ox=function(e){var t=e.format,r=e.icon,i=Dg();return n.createElement(Hy,{active:gx(i,t),onMouseDown:function(e){e.preventDefault(),bx(i,t)}},r)},Ax=[{types:[Ky.paragraph],children:[{text:""}]}],Cx=function(e){if(Fv.isText(e)){var t=e.text;return e.bold&&(t="<strong>"+t+"</strong>"),e.italic&&(t="<em>"+t+"</em>"),e.underline&&(t="<u>"+t+"</u>"),t}var n=e.children.map((function(e){return Cx(e)})).join("");if(e.type){if(e.type===Ky.hyperlink)return'<a href="'+e.url+'">'+n+"</a>";if(e.type===Ky.image){var r="float: left;";return e.align===Ky.alignCenter&&(r="display: 'block'; margin: '0px auto';"),e.align===Ky.alignRight&&(r="float: right;"),'<div style="width: '+e.width+"px; height: "+e.height+"px; "+r+'"><img src="'+e.imageSource+'" style="max-width: 100%; max-height: 100%;"/></div>'}}if(!e.types)return null!==e.children.find((function(e){return e.type&&e.type===Ky.image}))?'<div style="overflow:auto;">'+n+"</div>":n;var i=n;return e.types.forEach((function(e){switch(e){case Ky.bulletedList:i="<ul>"+i+"</ul>";break;case Ky.headingOne:i="<h1>"+i+"</h1>";break;case Ky.headingTwo:i="<h2>"+i+"</h2>";break;case Ky.listItem:i="<li>"+i+"</li>";break;case Ky.numberedList:i="<ol>"+i+"</ol>";break;case Ky.alignCenter:i="<div style='text-align: center'>"+i+"</div>";break;case Ky.alignRight:i="<div style='text-align: right'>"+i+"</div>";break;case Ky.alignLeft:break;default:i="<p>"+i+"</p>"}})),i},Sx=function(e){var i=e.name,a=e.onBlur,o=e.onChange,u=e.value,l=Cu(["messages/default"]).t,c=hx(),d=R(t.useState(Ax),2),f=d[0],p=d[1],h=R(t.useState(!1),2),m=h[0],v=h[1],g=t.useCallback((function(e){return n.createElement(Ex,T({},e))}),[]),y=t.useCallback((function(e){return n.createElement(wx,T({},e))}),[]),b=t.useMemo((function(){return sx(nb((e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:n}=e;if(n.length>0){var r=n[n.length-1];Ly.withoutSaving(t,()=>{yv.withoutNormalizing(t,()=>{for(var e of r)t.apply(e)})}),e.redos.pop(),e.undos.push(r)}},t.undo=()=>{var{history:e}=t,{undos:n}=e;if(n.length>0){var r=n[n.length-1];Ly.withoutSaving(t,()=>{yv.withoutNormalizing(t,()=>{var e=r.map(Av.inverse).reverse();for(var n of e)n===e[e.length-1]&&"set_selection"===n.type&&null==n.newProperties||t.apply(n)})}),e.redos.push(r),e.undos.pop()}},t.apply=e=>{var{operations:r,history:i}=t,{undos:a}=i,o=a[a.length-1],s=o&&o[o.length-1],u=qy(e,s),l=Ly.isSaving(t),c=Ly.isMerging(t);if(null==l&&(l=Uy(e)),l){if(null==c&&(c=null!=o&&(0!==r.length||(jy(e,s)||u))),o&&c)u&&o.pop(),o.push(e);else{var d=[e];a.push(d)}for(;a.length>100;)a.shift();zy(e)&&(i.redos=[])}n(e)},t})((e=>{var t=e,{apply:n,onChange:r}=t;return t.apply=e=>{var r=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[i,a]of yv.levels(t,{at:e.path})){var o=Ng.findKey(t,i);r.push([a,o])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[s,u]of yv.levels(t,{at:Cv.parent(e.path)})){var l=Ng.findKey(t,s);r.push([u,l])}}for(var[c,d]of(n(e),r)){var[f]=yv.node(t,c);gg.set(f,d)}},t.setFragmentData=e=>{var{selection:n}=t;if(n){var[r,i]=kv.edges(n),a=yv.void(t,{at:r.path}),o=yv.void(t,{at:i.path});if(!kv.isCollapsed(n)||a){var s=Ng.toDOMRange(t,n),u=s.cloneContents(),l=u.childNodes[0];if(u.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)}),o){var[c]=o,d=s.cloneRange(),f=Ng.toDOMNode(t,c);d.setEndAfter(f),u=d.cloneContents()}if(a&&(l=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),Ag(l)){var p=document.createElement("span");p.style.whiteSpace="pre",p.appendChild(l),u.appendChild(p),l=p}var h=t.getFragment(),m=JSON.stringify(h),v=window.btoa(encodeURIComponent(m));l.setAttribute("data-slate-fragment",v),e.setData("application/x-slate-fragment",v);var g=document.createElement("div");g.appendChild(u),g.setAttribute("hidden","true"),document.body.appendChild(g),e.setData("text/html",g.innerHTML),e.setData("text/plain",Sg(g)),document.body.removeChild(g)}}},t.insertData=e=>{var n=e.getData("application/x-slate-fragment");if(n){var r=decodeURIComponent(window.atob(n)),i=JSON.parse(r);Wv.insertFragment(t,i)}else{var a=e.getData("text/plain");if(a){var o=a.split(/\r\n|\r|\n/),s=!1;for(var u of o)s&&Wv.splitNodes(t,{always:!0}),Wv.insertText(t,u),s=!0}}},t.onChange=()=>{s.unstable_batchedUpdates(()=>{var e=Eg.get(t);e&&e(),r()})},t})((()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of yv.pathRefs(e))Sv.transform(n,t);for(var r of yv.pointRefs(e))Tv.transform(r,t);for(var i of yv.rangeRefs(e))Dv.transform(i,t);var a=new Set,o=[],s=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),o.push(e))}},u=tv.get(e)||[],l=Yv(t);for(var c of u){s(Cv.transform(c,t))}for(var d of l)s(d);tv.set(e,o),yv.transform(e,t),e.operations.push(t),yv.normalize(e),"set_selection"===t.type&&(e.marks=null),nv.get(e)||(nv.set(e,!0),Promise.resolve().then(()=>{nv.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:r}=e;if(r)if(kv.isExpanded(r))Wv.setNodes(e,{[t]:n},{match:Fv.isText,split:!0});else{var i=Gv({},yv.marks(e)||{},{[t]:n});e.marks=i,e.onChange()}},deleteBackward:t=>{var{selection:n}=e;n&&kv.isCollapsed(n)&&Wv.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&kv.isCollapsed(n)&&Wv.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&kv.isExpanded(t)&&Wv.delete(e)},getFragment:()=>{var{selection:t}=e;return t?wv.fragment(e,t):[]},insertBreak:()=>{Wv.splitNodes(e,{always:!0})},insertFragment:t=>{Wv.insertFragment(e,t)},insertNode:t=>{Wv.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(kv.isCollapsed(n)){var i=yv.above(e,{match:t=>yv.isInline(e,t),mode:"highest"});if(i){var[,a]=i;if(yv.isEnd(e,n.anchor,a)){var o=yv.after(e,a);Wv.setSelection(e,{anchor:o,focus:o})}}}if(r){var s=Gv({text:t},r);Wv.insertNodes(e,s)}else Wv.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!Fv.isText(n))if(bv.isElement(n)&&0===n.children.length){Wv.insertNodes(e,{text:""},{at:r.concat(0),voids:!0})}else for(var i=!yv.isEditor(n)&&(bv.isElement(n)&&(e.isInline(n)||0===n.children.length||Fv.isText(n.children[0])||e.isInline(n.children[0]))),a=0,o=0;o<n.children.length;o++,a++){var s=n.children[o],u=n.children[o-1],l=o===n.children.length-1;if((Fv.isText(s)||bv.isElement(s)&&e.isInline(s))!==i)Wv.removeNodes(e,{at:r.concat(a),voids:!0}),a--;else if(bv.isElement(s)){if(e.isInline(s))if(null!=u&&Fv.isText(u)){if(l){Wv.insertNodes(e,{text:""},{at:r.concat(a+1),voids:!0}),a++}}else{Wv.insertNodes(e,{text:""},{at:r.concat(a),voids:!0}),a++}}else null!=u&&Fv.isText(u)&&(Fv.equals(s,u,{loose:!0})?(Wv.mergeNodes(e,{at:r.concat(a),voids:!0}),a--):""===u.text?(Wv.removeNodes(e,{at:r.concat(a-1),voids:!0}),a--):l&&""===s.text&&(Wv.removeNodes(e,{at:r.concat(a),voids:!0}),a--))}},removeMark:t=>{var{selection:n}=e;if(n)if(kv.isExpanded(n))Wv.unsetNodes(e,t,{match:Fv.isText,split:!0});else{var r=Gv({},yv.marks(e)||{});delete r[t],e.marks=r,e.onChange()}}};return e})()))))}),[]);t.useEffect((function(){""===u&&(b.selection=null,p(Ax))}),[u]);return n.createElement(r.Box,{border:1,borderColor:"divider",className:m?c.editorFocused:c.editor,mt:2,mb:1},n.createElement(Rg,{editor:b,value:f,onChange:function(e){v(Ng.isFocused(b)),p(e)}},n.createElement(Wy,null,n.createElement(Ox,{format:Ky.bold,icon:n.createElement(Ay,{className:c.icon})}),n.createElement(Ox,{format:Ky.italic,icon:n.createElement(Cy,{className:c.icon})}),n.createElement(Ox,{format:Ky.underline,icon:n.createElement(Iy,{className:c.icon})}),n.createElement(xx,{format:Ky.headingOne,icon:n.createElement(ky,{className:c.icon})}),n.createElement(xx,{format:Ky.headingTwo,icon:n.createElement(Dy,{className:c.icon})}),n.createElement(xx,{format:Ky.alignLeft,icon:n.createElement(xy,{className:c.icon})}),n.createElement(xx,{format:Ky.alignCenter,icon:n.createElement(wy,{className:c.icon})}),n.createElement(xx,{format:Ky.alignRight,icon:n.createElement(Oy,{className:c.icon})}),n.createElement(xx,{format:Ky.numberedList,icon:n.createElement(Ny,{className:c.icon})}),n.createElement(xx,{format:Ky.bulletedList,icon:n.createElement(Sy,{className:c.icon})}),n.createElement(ab,null),n.createElement(lx,null),n.createElement(px,null)),n.createElement(fx,null),n.createElement(oy,{renderElement:g,renderLeaf:y,placeholder:l("form.placeholder"),spellCheck:!0,onBlur:function(e){a(i)(e),o(i)(Cx(b))},className:c.editable,onKeyDown:function(e){Object.keys(mx).forEach((function(t){zh(t,e)&&(e.preventDefault(),bx(b,mx[t]))}))}})))};!function(e){e.Custom="custom",e.Default="default",e.Select="select",e.Editor="Editor"}(nx||(nx={}));var Nx=jh(r.TextField,p.fieldToTextField);function Ix(e,t){return e.map((function(e){if(e.type===nx.Default||e.type===nx.Select||e.type===nx.Editor){var r=e.type!==nx.Editor&&(e.component||Nx),i=void 0;return e.type===nx.Editor&&(i=Sx),e.type===nx.Select&&e.component&&(i=e.component),n.createElement(d.Field,{key:e.name,component:r,fullWidth:!0,margin:"normal",label:e.label,name:e.name,disabled:e.disabled,required:e.required||!1,select:e.type===nx.Select&&!e.component,as:i},e.type===nx.Select&&!e.component&&e.selectOptions.map((function(t){return n.createElement(h,{key:t.value+"_"+t.label,value:t.value,onClick:function(){return e.onSelectOption&&e.onSelectOption(t.value)}},t.label)})))}return e.render(e.name,t)}))}function Tx(e){return e.reduce((function(e,t){return e[t.name]=t.initialValues,e}),{})}var _x=r.withStyles({root:{boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(r.ExpansionPanel),kx=r.withStyles({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(r.ExpansionPanelSummary),Dx=function(e){var t=e.user,i=e.onSubmit,a=Cu(["translation","users/form"]).t,o=[{type:nx.Default,name:"firstName",initialValues:(null==t?void 0:t.firstName)||"",label:a("firstName"),required:!0},{type:nx.Default,name:"lastName",initialValues:(null==t?void 0:t.lastName)||"",label:a("lastName"),required:!0},{type:nx.Default,name:"email",initialValues:(null==t?void 0:t.email)||"",label:a("email"),disabled:!0}],s=[{type:nx.Default,name:"phone",initialValues:(null==t?void 0:t.phone)||"",label:a("phone")},{type:nx.Default,name:"address1",initialValues:(null==t?void 0:t.address1)||"",label:a("address1")},{type:nx.Default,name:"address2",initialValues:(null==t?void 0:t.address2)||"",label:a("address2")},{type:nx.Default,name:"zipCode",initialValues:(null==t?void 0:t.zipCode)||"",label:a("zipCode")},{type:nx.Default,name:"city",initialValues:(null==t?void 0:t.city)||"",label:a("city")}],u=[{type:nx.Default,name:"firstName2",initialValues:(null==t?void 0:t.firstName2)||"",label:a("users/form:firstName2")},{type:nx.Default,name:"lastName2",initialValues:(null==t?void 0:t.lastName2)||"",label:a("users/form:lastName2")},{type:nx.Default,name:"email2",initialValues:(null==t?void 0:t.email2)||"",label:a("users/form:email2")},{type:nx.Default,name:"phone2",initialValues:(null==t?void 0:t.phone2)||"",label:a("users/form:phone2")}],c=T(T(T({},Tx(o)),Tx(s)),Tx(u));return n.createElement(d.Formik,{initialValues:c,validationSchema:Ph,onSubmit:i},(function(e){return n.createElement(d.Form,null,e.status&&n.createElement(r.Box,{my:2},n.createElement(l.Alert,{severity:"error"},e.status)),n.createElement(r.Box,null,n.createElement(_x,{expanded:!0},n.createElement(r.ExpansionPanelDetails,null,n.createElement(r.Box,{width:"100%"},Ix(o,e)))),n.createElement(_x,{defaultExpanded:!0},n.createElement(kx,{expandIcon:n.createElement(Xu,null)},n.createElement(r.Typography,null,a("users/form:contactInfos"))),n.createElement(r.ExpansionPanelDetails,null,n.createElement(r.Box,{width:"100%"},Ix(s,e)))),n.createElement(_x,{defaultExpanded:!0},n.createElement(kx,{expandIcon:n.createElement(Xu,null)},n.createElement(r.Typography,null,a("users/form:spose"))),n.createElement(r.ExpansionPanelDetails,null,n.createElement(r.Box,{width:"100%"},Ix(u,e))))),n.createElement(r.Box,{pt:4,pb:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:"contained",color:"primary",type:"submit",disabled:e.isSubmitting},"Valider")))}))},Rx="neo/distrib-slots:userInNeed",Mx=function(e,t){var n=[],r=function(e,n){if(!n)return!1;if(t){var r=t.find((function(t){return t.name===e}));return!!r&&r.checked}return!0};n.push({name:"email",label:"email",value:e.email,checked:r("email",e.email),disabled:!1,canEdit:!1});var i=Hs(e);return n.push({name:"address",label:"address",value:i,checked:r("address",i),disabled:!i,canEdit:!0}),n.push({name:"phone",label:"phone",value:e.phone,checked:r("phone",e.phone),disabled:!e.phone,canEdit:!0}),n},Fx=function(e){var t=e.onConfirm,i=e.onCancel,a=Cu(["translation","neo/distrib-slots"]).t,o=R(n.useState(),2),s=o[0],u=o[1],c=R(n.useState(),2),d=c[0],f=c[1],p=R(n.useState([]),2),h=p[0],m=p[1],v=R(n.useState(!1),2),g=v[0],y=v[1],b=R(n.useState(!1),2),E=b[0],w=b[1],x=h&&!!h.find((function(e){return e.checked})),O=function(){y(!0)},A=function(){E||y(!1)},C=function(e){m(h.map((function(t){return t.name===e.target.name?T(T({},t),{checked:e.target.checked}):t})))};return n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Zs.me()];case 1:return t=n.sent(),e&&t&&(u(t),m(Mx(t))),[3,3];case 2:return n.sent(),f(a("error")),[3,3];case 3:return[2]}}))})),function(){e=!1}}),[]),n.createElement(n.Fragment,null,n.createElement(r.Box,null,n.createElement(r.Typography,{color:"primary"},a(Rx+".consentement")),d&&n.createElement(l.Alert,{severity:"error"},d),s?n.createElement(n.Fragment,null,n.createElement(r.List,null,h.map((function(e){return n.createElement(r.ListItem,{key:e.name},n.createElement(r.ListItemText,{primary:a(e.label),secondary:e.value||a(Rx+".no"+e.label)}),n.createElement(r.ListItemSecondaryAction,null,e.canEdit&&n.createElement(r.ListItemIcon,null,n.createElement(r.IconButton,{onClick:O},n.createElement(Ju,null))),n.createElement(r.ListItemIcon,null,n.createElement(r.Checkbox,{checked:e.checked,disabled:e.disabled,name:e.name,tabIndex:-1,disableRipple:!0,onChange:C}))))}))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{onClick:i},a("cancel")),n.createElement(r.Box,{mx:1}),n.createElement(r.Button,{variant:"contained",color:"primary",disabled:!x,onClick:function(){t(h.filter((function(e){return e.checked})).map((function(e){return e.name})))}},a("validate")))):n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null))),n.createElement(r.Dialog,{open:g,onClose:A},n.createElement(n.Fragment,null,s&&n.createElement(n.Fragment,null,n.createElement(r.Box,{pt:2,px:2},n.createElement(r.Typography,{variant:"h6"},a(Rx+".userFormTitle"))),n.createElement(r.Box,{px:2},n.createElement(Dx,{user:s,onSubmit:function(e,t){return k(void 0,void 0,void 0,(function(){var n,r,i;return D(this,(function(o){switch(o.label){case 0:w(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),n=new FormData,Object.keys(e).forEach((function(t){n.append(t,e[t])})),[4,Zs.updateMe(n,"data")];case 2:if(!(r=o.sent()))throw new Error("");return u(r),m(Mx(r,h)),w(!1),t.setErrors(a("error")),t.setSubmitting(!1),setTimeout((function(){A()})),[3,4];case 3:return i=o.sent(),w(!1),t.setStatus(a("error",{error:i})),t.setSubmitting(!1),[3,4];case 4:return[2]}}))}))}}))))))},Bx="neo/distrib-slots:userSlotsSelector.selector",Px=r.withStyles({colorPrimary:{opacity:.5,backgroundColor:"#e8f5e9"},barColorPrimary:{backgroundColor:"#4caf50"}})(r.LinearProgress),Lx=r.withStyles({colorPrimary:{opacity:.5,backgroundColor:"#fff3e0"},barColorPrimary:{backgroundColor:"#e65100"}})(r.LinearProgress),jx=function(e){var t=e.slots,i=e.isLastStep,a=e.onSelect,o=e.onCancel,s=Cu(["translation","neo/distrib-slots"]).t,u=t.reduce((function(e,t){return e<t.registeredUserIds.length?t.registeredUserIds.length:e}),0),l=R(n.useState(t.map((function(e){var t=u>0?e.registeredUserIds.length/u:0;return T(T({},e),{name:"slot-"+e.id,checked:t<=.75,nbUsers:e.registeredUserIds.length,prc:t})}))),2),c=l[0],d=l[1],f=!!c.find((function(e){return e.checked})),p=function(e){d(c.map((function(t){return t.name===e.target.name?T(T({},t),{checked:e.target.checked}):t})))};return n.createElement(n.Fragment,null,n.createElement(r.Box,{mb:2},n.createElement(r.Typography,{color:"primary",variant:"h6",align:"center"},s(Bx+".chooseSlot")),n.createElement(r.Box,{mt:1},n.createElement(r.Typography,{variant:"body2",align:"center"},s(Bx+".chooseSlotSub")))),n.createElement(r.List,null,c.map((function(e){return n.createElement(n.Fragment,{key:e.name},n.createElement(r.ListItem,null,n.createElement(r.ListItemText,{primary:"De "+zu(e.start,"HH'h'mm")+" à "+zu(e.end,"HH'h'mm"),secondary:s(Bx+"."+(0===e.prc?"noneUsersInSlot":"usersInSlot"),{count:e.nbUsers})}),n.createElement(r.ListItemSecondaryAction,null,n.createElement(r.ListItemIcon,null,n.createElement(r.Checkbox,{checked:e.checked,name:e.name,tabIndex:-1,disableRipple:!0,onChange:p})))),n.createElement(r.Box,{px:2,pr:4,mb:2},e.prc>.75?n.createElement(Lx,{variant:"determinate",value:90*e.prc}):n.createElement(Px,{variant:"determinate",value:100*e.prc})))}))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},o&&n.createElement(r.Box,{mr:2},n.createElement(r.Button,{onClick:o},s("cancel"))),n.createElement(r.Button,{variant:i?"contained":"outlined",color:"primary",disabled:!f,onClick:function(){f&&a(c.reduce((function(e,t){return t.checked&&e.push(t.id),e}),[]))}},s(i?"validate":"continue"))))},Ux=function(e){var t=e.user,i=e.userInfos,a=e.children;return n.createElement(r.ListItem,{alignItems:"center"},n.createElement(r.ListItemText,{primary:n.createElement(r.Box,{component:"span",display:"flex",justifyContent:"center"},n.createElement(r.Typography,{component:"span"},t.firstName+" "+t.lastName)),secondary:n.createElement(r.Box,{component:"span",display:"flex",flexDirection:"column",alignItems:"center"},i&&i.includes("address")&&n.createElement(r.Typography,{variant:"body2",color:"textSecondary",component:"span"},Hs(t)),i&&i.includes("phone")&&n.createElement(r.Typography,{variant:"body2",color:"textSecondary",component:"span"},t.phone),i&&i.includes("email")&&n.createElement(r.Typography,{variant:"body2",color:"textSecondary",component:"span"},t.email))}),a&&n.createElement(r.ListItemSecondaryAction,null,a))},qx=function(e){var t=e.inNeedUsers,i=e.onConfirm,a=e.onCancel,o=Cu(["translation","neo/distrib-slots"]).t,s=R(n.useState(t.map((function(e){return T(T({},e),{fieldName:"user-"+e.id,checked:!1})}))),2),u=s[0],l=s[1],c=function(e){l(u.map((function(t){return t.fieldName===e.target.name?T(T({},t),{checked:e.target.checked}):t})))};return n.createElement(r.Box,null,n.createElement(r.Typography,{color:"primary"},o("neo/distrib-slots:userInNeedSelected.choose")),n.createElement(r.List,null,u.map((function(e){return n.createElement(Ux,{key:e.id,user:e,userInfos:["address"]},n.createElement(r.ListItemIcon,null,n.createElement(r.Checkbox,{checked:e.checked,name:e.fieldName,tabIndex:-1,disableRipple:!0,onChange:c})))}))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{onClick:a},o("cancel")),n.createElement(r.Box,{mx:2}),n.createElement(r.Button,{variant:"contained",color:"primary",onClick:function(){i(u.filter((function(e){return e.checked})).map((function(e){return e.id})))}},o("validate"))))},zx="neo/distrib-slots:userSlotsSelector",Vx=function(e){var t=e.mode,i=e.slots,a=e.registeredSlotIds,o=e.voluntaryFor,s=e.inNeedUsers,u=e.onSalesProcess,l=e.changeSlots,c=e.addInNeeds,d=e.close,f=Cu(["translation","neo/distrib-slots"]).t,p="";return p=f("inNeed"===t?zx+".end.inNeed":"voluntary"===t?zx+".end.voluntary":zx+".end.solo"),n.createElement(r.Box,{py:2},n.createElement(r.Typography,{align:"center"},p),a&&a.length>0&&n.createElement(r.Box,{mt:2},n.createElement(r.Box,{display:"flex",flexDirection:"column",alignItems:"center"},n.createElement(r.Typography,{variant:"h6",color:"primary"},f(zx+".selectedSlots")),n.createElement(r.List,null,i.filter((function(e){return(null==a?void 0:a.includes(e.id))||!1})).map((function(e){return n.createElement(r.ListItem,{key:e.id,alignItems:"center"},n.createElement(r.ListItemText,{primary:"De "+zu(e.start,"HH'h'mm")+" à "+zu(e.end,"HH'h'mm")}))}))),n.createElement(r.Box,{p:1},n.createElement(r.Button,{variant:u?"outlined":"contained",color:"primary",onClick:l},f("change"))))),n.createElement(r.Box,{my:2},n.createElement(r.Divider,null)),o&&o.length>0&&n.createElement(r.Box,null,n.createElement(r.Typography,{align:"center"},f(zx+".end.voluntaryDetails")),n.createElement(r.List,null,o.map((function(e){return n.createElement(Ux,{key:e.id,user:e,userInfos:["adress","email","phone"]})})))),"voluntary"===t&&s&&s.length>0&&n.createElement(r.Box,{p:1,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:u?"outlined":"contained",color:"primary",onClick:c},f("add"))),n.createElement(r.Box,{my:2},n.createElement(r.Divider,null)),n.createElement(r.Box,{display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:u?"contained":"outlined",color:u?"primary":"default",onClick:d},f(u?"continue":"close"))))},Hx=function(e){var t=e.onSalesProcess,i=void 0!==t&&t,a=function(){var e=n.useContext($u);if(!e)throw new Error("useViewCtx must be used within a ViewCtxProvider");return e}(),o=a.currentStep,s=a.open,u=a.loading,c=a.error,d=a.distribMode,f=a.mode,p=a.slots,h=a.inNeedUsers,m=a.registeredSlotIds,v=a.voluntaryFor,g=a.closeDialog,y=a.back,b=a.selectMode,E=a.selectPermissions,w=a.selectSlots,x=a.selectInNeedUsers,O=a.changeSlots,A=a.addInNeeds;return n.createElement(Yu,{open:s,canClose:u,onClose:g},c&&n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},c)),function(){if("loading"===o||u)return n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null));switch(o){case"select-mode":return n.createElement(Zu,{onSelect:b});case"select-permissions":return n.createElement(Fx,{onConfirm:E,onCancel:y});case"select-slots":return n.createElement(jx,{slots:p,isLastStep:"solo"===f,onSelect:w,onCancel:"default"===d?y:void 0});case"select-inNeed":return n.createElement(qx,{inNeedUsers:h,onConfirm:x,onCancel:y});case"summary":return n.createElement(Vx,{mode:f,slots:p,registeredSlotIds:m,voluntaryFor:v,inNeedUsers:h,onSalesProcess:i,changeSlots:O,addInNeeds:A,close:g});case"resolved":return n.createElement("div",null,"resolved");default:return n.createElement(n.Fragment,null)}}())},$x=q(qu((function(e){var t=e.distribId,r=e.onRegister,i=e.onCancel,a=e.onSalesProcess;return n.createElement(Wu,{distribId:t,onRegister:r,onCancel:i},n.createElement(Hx,{onSalesProcess:a}))}))),Wx=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=i}))),Qx=H((function(e,t){"undefined"!=typeof self&&self,e.exports=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),a=n(3),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPrint=function(e,n){var r=t.props.removeAfterPrint;setTimeout((function(){if(e.contentWindow.focus(),e.contentWindow.print(),n&&n(),r){var t=document.getElementById("printWindow");t&&document.body.removeChild(t)}}),500)},t.triggerPrint=function(e){var n=t.props,r=n.onAfterPrint,i=n.onBeforePrint,a=n.onPrintError;if(i){var o=i();o&&"function"==typeof o.then?o.then((function(){t.startPrint(e,r)})).catch((function(e){a&&a("onBeforePrint",e)})):t.startPrint(e,r)}else t.startPrint(e,r)},t.handleClick=function(){var e=t.props,n=e.onBeforeGetContent,r=e.onPrintError;if(n){var i=n();i&&"function"==typeof i.then?i.then(t.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):t.handlePrint()}else t.handlePrint()},t.handlePrint=function(){var e=t.props,n=e.bodyClass,r=void 0===n?"":n,i=e.content,o=e.copyStyles,s=void 0===o||o,u=e.pageStyle,l=e.suppressErrors,c=i();if(void 0!==c)if(null!==c){var d=document.createElement("iframe");d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.id="printWindow",d.title="Print Window";var f=a.findDOMNode(c),p=document.querySelectorAll("link[rel='stylesheet'], img");t.linkTotal=p.length||0,t.linksLoaded=[],t.linksErrored=[];var h=function(e,n){n?t.linksLoaded.push(e):(l||console.error('"react-to-print" was unable to load a link. It may be invalid. "react-to-print" will continue attempting to print the page. The link the errored was:',e),t.linksErrored.push(e)),t.linksLoaded.length+t.linksErrored.length===t.linkTotal&&t.triggerPrint(d)};d.onload=function(){window.navigator&&window.navigator.userAgent.indexOf("Trident/7.0")>-1&&(d.onload=null);var e=d.contentDocument||d.contentWindow.document,n=f.querySelectorAll("canvas");if(e){e.open(),e.write(f.outerHTML),e.close();var i=void 0===u?"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }":u,a=e.createElement("style");a.appendChild(e.createTextNode(i)),e.head.appendChild(a),r.length&&e.body.classList.add(r);for(var o=e.querySelectorAll("canvas"),l=0,c=o.length;l<c;++l){var p=(g=o[l]).getContext("2d");p&&p.drawImage(n[l],0,0)}if(!1!==s)for(var m=document.querySelectorAll("style, link[rel='stylesheet'], img"),v=(l=0,m.length);l<v;++l){var g;if("STYLE"===(g=m[l]).tagName){var y=e.createElement(g.tagName),b=g.sheet;if(b){for(var E="",w=0,x=b.cssRules.length;w<x;++w)"string"==typeof b.cssRules[w].cssText&&(E+=b.cssRules[w].cssText+"\r\n");y.setAttribute("id","react-to-print-"+l),y.appendChild(e.createTextNode(E)),e.head.appendChild(y)}}else if(g.hasAttribute("href")&&g.getAttribute("href")||g.hasAttribute("src")&&g.getAttribute("src")){y=e.createElement(g.tagName),w=0;for(var O=g.attributes.length;w<O;++w){var A=g.attributes[w];A&&y.setAttribute(A.nodeName,A.nodeValue||"")}y.onload=h.bind(null,y,!0),y.onerror=h.bind(null,y,!1),e.head.appendChild(y)}else console.warn('"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',g),h(g,!0)}}0!==t.linkTotal&&!1!==s||t.triggerPrint(d)};var m=document.getElementById("printWindow");m&&document.body.removeChild(m),document.body.appendChild(d)}else l||console.error('There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.');else l||console.error('Refs are not available for stateless components. For "react-to-print" to work only Class based components can be printed')},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.trigger;return i.cloneElement(e(),{onClick:this.handleClick})},t}(i.Component);t.default=o},function(e,t,n){n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return a})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return x}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,l):c(a[0][2],n)}catch(e){c(a[0][3],e)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}},function(t,n){t.exports=e},function(e,n){e.exports=t}])}(n,s)})),Gx=V(Qx),Yx=(Qx.lib,function(e){var t=e.users,i=Cu(["translation","neo/distrib-slots"]).t;return n.createElement(r.Box,{p:2},n.createElement(r.Table,{size:"small"},n.createElement(r.TableHead,null,n.createElement(r.TableRow,null,n.createElement(r.TableCell,{align:"center",style:{backgroundColor:"#F1F1F1",fontWeight:700},colSpan:2},i("neo/distrib-slots:resolver.userInNeedsNotLocked")))),n.createElement(r.TableBody,null,t.map((function(e){return n.createElement(r.TableRow,{key:e.id},n.createElement(r.TableCell,null,e.firstName+" "+e.lastName),n.createElement(r.TableCell,null,Hs(e)))})))))}),Kx="neo/distrib-slots:resolver",Zx=function(e){return e.firstName.charAt(0).toUpperCase()+e.firstName.slice(1)+" "+e.lastName.toUpperCase()+"\n "},Jx=function(e){var t=e.distrib,i=Cu(["translation","neo/distrib-slots"]).t,a=function(e){return n.createElement(r.Table,{size:"small"},n.createElement(r.TableHead,null,n.createElement(r.TableRow,null,n.createElement(r.TableCell,{align:"center",style:{backgroundColor:"#F1F1F1",fontWeight:700}},i(Kx+".user")),n.createElement(r.TableCell,{align:"center",style:{backgroundColor:"#F1F1F1",fontWeight:700}},i(Kx+".getOrderFor")))),n.createElement(r.TableBody,null,e.map((function(e){return n.createElement(r.TableRow,{key:e.id},n.createElement(r.TableCell,null,Object.keys(t.voluntaryMap).includes(""+e.id)?n.createElement("b",null,Zx(e)+"*"):Zx(e)),n.createElement(r.TableCell,{align:"center"},function(e){if(!t)return[];if(!Object.keys(t.voluntaryMap).includes(""+e))return[];var n=[],r=t.voluntaryMap[""+e];return r&&r.forEach((function(e){var r=(t.inNeedUsers||[]).find((function(t){return t.id===e}));r&&n.push(r)})),n.map(Zx).join(", ")}(e.id)))}))))};return n.createElement(r.CardContent,null,t.slots&&t.slots.filter((function(e){return e.selectedUserIds.length>0})).map((function(e){return n.createElement(n.Fragment,{key:e.id},n.createElement(r.Box,{mb:2},n.createElement(r.Box,{p:1,bgcolor:"#F5F5F5"},n.createElement(r.Typography,{align:"center"},function(e){return"De "+zu(e.start,"HH'h'mm")+" à "+zu(e.end,"HH'h'mm")}(e))),function(e){var i=e.selectedUserIds.map((function(e){return t.users.find((function(t){return t.id===e}))})).sort((function(e,t){return e.lastName.toUpperCase().localeCompare(t.lastName.toUpperCase())})),o=Math.ceil(i.length/2);return n.createElement(r.Box,{display:"flex"},n.createElement(r.Box,{flex:1},a(i.slice(0,o))),n.createElement(r.Box,{width:2,border:"1px solid #ccc"}),n.createElement(r.Box,{flex:1},o+1<=i.length&&a(i.slice(o,i.length))))}(e)))})),n.createElement(r.Box,{pt:2},n.createElement(r.Typography,null,n.createElement("b",null,"*"),n.createElement("span",null," "+i(Kx+".voluntaries")))))},Xx="neo/distrib-slots:resolver",eO=q(qu((function(e){var t=e.distribId,i=Cu(["translation","neo/distrib-slots"]).t,a=n.useRef(null),o=R(n.useState(),2),s=o[0],u=o[1];if(n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:return[4,Zs.distrib.getResolvedDistrib(t,(function(e){return T(T({},Ws(e)),{voluntaryMap:e.voluntaryMap?e.voluntaryMap:{},users:e.users?e.users.map(Vs):[],otherUsers:e.otherUsers?e.otherUsers.map(Vs):[]})}))];case 1:return n=r.sent(),e&&n&&u(n),[2]}}))})),function(){e=!1}}),[]),!s)return n.createElement(r.Box,{p:2},n.createElement(r.CircularProgress,null));if(!s.slots||!s.orderEndDate)return n.createElement(r.Card,null,n.createElement(r.CardContent,null,n.createElement(r.Typography,null,i(Xx+".slotsNotActivated"))));if(qo(new Date,s.orderEndDate))return n.createElement(r.Card,null,n.createElement(r.CardContent,null,n.createElement(r.Typography,null,i(Xx+".distribNotClosed"))));if(!s.slots.reduce((function(e,t){return!!(e||t.selectedUserIds.length>0)||e}),!1))return n.createElement(r.Card,null,n.createElement(r.CardContent,null,n.createElement(r.Typography,null,i(Xx+".resolving"))));var l=Object.values(s.voluntaryMap).reduce((function(e,t){return M(e,t)}),[]),c=(s.inNeedUsers||[]).filter((function(e){return!l.includes(e.id)}));return n.createElement(n.Fragment,null,n.createElement(r.Card,null,n.createElement("div",{ref:a},c.length>0&&n.createElement(r.CardContent,null,n.createElement(Yx,{users:c})),s.slots&&n.createElement(r.CardContent,null,n.createElement(Jx,{distrib:s})),s.otherUsers&&s.otherUsers.length>0&&n.createElement(r.CardContent,null,n.createElement(r.Typography,null,i(Xx+".otherUsersList",{list:s.otherUsers.map((function(e){return e.firstName+" "+e.lastName})).join(", ")})))),n.createElement(r.Box,{p:2,pt:0,display:"flex",justifyContent:"center"},n.createElement(Gx,{trigger:function(){return n.createElement(r.Button,{variant:"contained",color:"primary",startIcon:n.createElement(Wx,null)},n.createElement(r.Typography,null,"Imprimer"))},content:function(){return a.current}}))))}))),tO=r.makeStyles((function(){return{map:{width:"100%",height:"100%"}}})),nO=q(qu((function(e){var t=e.placeId,i=e.onClose,a=R(n.useState(),2),o=a[0],s=a[1],u=R(n.useState(),2),c=u[0],d=u[1],f=R(n.useState(!1),2),p=f[0],h=f[1],m=tO();n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:h(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,Zs.place.getPlace(t)];case 2:return(n=i.sent())&&e&&s(n),[3,5];case 3:return r=i.sent(),d(r),[3,5];case 4:return h(!1),[7];case 5:return[2]}}))})),function(){e=!1}}),[t]);return p?n.createElement(r.Box,{p:2}):n.createElement(r.Dialog,{open:!0,fullWidth:!0,onClose:i},n.createElement(r.DialogTitle,null,n.createElement(r.Box,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement(r.Box,null,o?n.createElement(n.Fragment,null,n.createElement(r.Typography,{variant:"h5"},""+o.name.charAt(0).toUpperCase()+o.name.slice(1)),n.createElement(r.Typography,null,function(e){var t,n="";return e.address1&&(n=""+e.address1,e.address2&&(n=n+" "+e.address2),n+=" "),e.zipCode&&(n=n+" "+e.zipCode),e.city&&(n=n+" "+(t=e.city).charAt(0).toUpperCase()+t.slice(1).toLocaleLowerCase()),n}(o))):n.createElement(n.Fragment,null)),n.createElement(r.Box,{ml:2},n.createElement(r.IconButton,{onClick:i},n.createElement(Qu,null))))),n.createElement(r.DialogContent,null,function(){if(p||!o)return n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null));if(c)return n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},c));if(o.lat&&o.lng){var e={lat:o.lat||0,lng:o.lng||0};return n.createElement(r.Box,{position:"relative",pt:"63%"},n.createElement(r.Box,{position:"absolute",top:0,bottom:0,left:0,right:0},n.createElement(y.Map,{className:m.map,center:e,zoom:13},n.createElement(y.TileLayer,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.createElement(y.Marker,{position:e}))))}return n.createElement(n.Fragment,null)}()))}))),rO=r.makeStyles((function(){return{map:{width:"100%",height:"100%"}}})),iO=q(qu((function(e){var t=e.placeId,i=R(n.useState(),2),a=i[0],o=i[1],s=R(n.useState(),2),u=s[0],c=s[1],d=R(n.useState(!1),2),f=d[0],p=d[1],h=rO();if(n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var n,r;return D(this,(function(i){switch(i.label){case 0:p(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,Zs.place.getPlace(t)];case 2:return(n=i.sent())&&e&&o(n),[3,5];case 3:return r=i.sent(),c(r),[3,5];case 4:return p(!1),[7];case 5:return[2]}}))})),function(){e=!1}}),[t]),f||!a||!a.lat||!a.lng)return n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null));if(u)return n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:"error"},u));var m={lat:a.lat||0,lng:a.lng||0};return n.createElement(y.Map,{className:h.map,center:m,zoom:13},n.createElement(y.TileLayer,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.createElement(y.Marker,{position:m}))}))),aO=function(e){var t=e.error;return t?(lE(t),n.createElement(l.Alert,{severity:"error","data-testid":"graphql-error"},n.createElement(r.Box,{display:"flex",flexDirection:"column"},t.graphQLErrors.length>0?t.graphQLErrors.map((function(e,t){var i=e.message;return n.createElement(r.Typography,{key:t,"data-testid":"error-"+t,variant:"caption"},i)})):n.createElement(r.Typography,{variant:"caption"},t.message)))):n.createElement(n.Fragment,null)},oO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}),"Business");t.default=i}))),sO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.default=i}))),uO=function(e){var t=e.left,i=e.right,a=r.useTheme(),o=r.useMediaQuery(a.breakpoints.up("sm"));return n.createElement(r.Grid,{container:!0,spacing:o?2:0},n.createElement(r.Grid,{item:!0,sm:6,xs:12},t),n.createElement(r.Grid,{item:!0,sm:6,xs:12},i))},lO=jh(r.TextField,p.fieldToTextField),cO=function(e){var t=e.name,r=e.label,i=e.required,a=void 0===i||i,o=_(e,["name","label","required"]);return n.createElement(d.Field,T({fullWidth:!0,margin:"normal",variant:"outlined",name:t,label:r,required:a,component:lO},o))},dO=function(e){var t=e.defaultValue,i=e.format,o=void 0===i?"full-iso":i,s=e.autocompleteProps,u=e.textFieldProps,c=e.onChange,d=Cu().t,f=R(n.useState(!1),2),p=f[0],h=f[1],m=R(n.useState(),2),v=m[0],g=m[1],y=R(n.useState(void 0),2),E=y[0],w=y[1];n.useEffect((function(){var e=!0;return k(void 0,void 0,void 0,(function(){var t,n,r;return D(this,(function(i){switch(i.label){case 0:h(!0),g(void 0),i.label=1;case 1:return i.trys.push([1,3,4,5]),t=(t="/data/<LOCALE>/iso-3166-1.json".replace("<LOCALE>","fr")).startsWith("http")?t:""+window.location.origin+t,[4,fetch(t).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))];case 2:return n=i.sent(),e?(w(n),[3,5]):[2];case 3:return r=i.sent(),e?(g(d("error",{message:r.message})),[3,5]):[2];case 4:return e&&h(!1),[7];case 5:return[2]}}))})),function(){e=!1}}),[]);return v?n.createElement(r.Box,null,n.createElement(l.Alert,{severity:"error"},v)):p||!E?n.createElement(r.Box,null,n.createElement(r.CircularProgress,null)):n.createElement(n.Fragment,null,n.createElement(a,T({},s,{defaultValue:function(){if(t)return"number"==typeof t?null==E?void 0:E.find((function(e){return e.id===t})):"string"==typeof t?null==E?void 0:E.find((function(e){return e.name===t||e.alpha2===t||e.alpha3===t})):t}(),options:E,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return!!t&&e.id===t.id},renderInput:function(e){return n.createElement(b,T({variant:"outlined"},u,e,{inputProps:T(T({},null==u?void 0:u.inputProps),e.inputProps)}))},onChange:function(e,t){c(t?"full-iso"!==o?t[o]:t:null)}})))},fO=function(e){var t=e.icon,i=e.title,a=e.actions;return n.createElement(r.CardHeader,{title:n.createElement(r.Box,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement(r.Box,{display:"flex",alignItems:"center"},t&&n.createElement(r.Box,{mr:1,display:"flex",alignItems:"center"},t),i&&n.createElement(r.Typography,{variant:"h5"},i)),a)})},pO=function(e){var t=e.label,i=e.mt,a=void 0===i?2:i;return n.createElement(r.Box,{mb:2,mt:a},n.createElement(r.Typography,{variant:"h6"},t))},hO="config.legalUserCard",mO=function(e){var t,i,a,o,s,c,f,p,h,m,v,g,y,b,E=e.group,w=e.defaultLegalRepr,x=e.open,O=e.disabledActions,A=e.onTogglePanel,C=e.onSubmit,S=e.onSubmitComplete,N=e.onSubmitFail,I=R(xa(qE,b),1)[0],_=R(function(e){return xa(zE,e)}(),1)[0],M=Cu(["translation","yup","pro/mangopay"]).t,F=function(e,t){return M("pro/mangopay:"+hO+"."+e,t)},B=function(e,t){return M("pro/mangopay:"+hO+".form."+e,t)},P=function(e,t){return M("yup:"+e,t)},L=null===(t=E.mangopayGroup)||void 0===t?void 0:t.legalUser,j=(null==L?void 0:L.KYCLevel)===xE.REGULAR,U={Name:(null==L?void 0:L.Name)||"",LegalPersonType:(null==L?void 0:L.LegalPersonType)||OE.ORGANIZATION,Email:(null==L?void 0:L.Email)||"",CompanyNumber:(null==L?void 0:L.CompanyNumber)||"",LegalRepresentativeFirstName:(null==L?void 0:L.LegalRepresentativeFirstName)||w.firstName||"",LegalRepresentativeLastName:(null==L?void 0:L.LegalRepresentativeLastName)||w.lastName||"",LegalRepresentativeEmail:(null==L?void 0:L.LegalRepresentativeEmail)||w.email||"",LegalRepresentativeBirthday:(null==L?void 0:L.LegalRepresentativeBirthday)||w.birthDate||new Date,LegalRepresentativeNationality:(null===(i=null==L?void 0:L.LegalRepresentativeNationality)||void 0===i?void 0:i.toLocaleLowerCase())||(null===(a=w.nationality)||void 0===a?void 0:a.toLocaleLowerCase())||"",LegalRepresentativeCountryOfResidence:(null===(o=null==L?void 0:L.LegalRepresentativeCountryOfResidence)||void 0===o?void 0:o.toLocaleLowerCase())||(null===(s=w.countryOfResidence)||void 0===s?void 0:s.toLocaleLowerCase())||"",LegalRepresentativeAddress:{AddressLine1:(null==L?void 0:L.LegalRepresentativeAddress.AddressLine1)||w.address1||"",AddressLine2:(null==L?void 0:L.LegalRepresentativeAddress.AddressLine2)||w.address2||"",City:(null==L?void 0:L.LegalRepresentativeAddress.City)||w.city||"",PostalCode:(null==L?void 0:L.LegalRepresentativeAddress.PostalCode)||w.zipCode||"",Country:(null===(c=null==L?void 0:L.LegalRepresentativeAddress.Country)||void 0===c?void 0:c.toLocaleLowerCase())||(null===(f=w.countryOfResidence)||void 0===f?void 0:f.toLocaleLowerCase())||""},HeadquartersAddress:{AddressLine1:(null===(p=null==L?void 0:L.HeadquartersAddress)||void 0===p?void 0:p.AddressLine1)||"",AddressLine2:(null===(h=null==L?void 0:L.HeadquartersAddress)||void 0===h?void 0:h.AddressLine2)||"",City:(null===(m=null==L?void 0:L.HeadquartersAddress)||void 0===m?void 0:m.City)||"",PostalCode:(null===(v=null==L?void 0:L.HeadquartersAddress)||void 0===v?void 0:v.PostalCode)||"",Country:(null===(y=null===(g=null==L?void 0:L.HeadquartersAddress)||void 0===g?void 0:g.Country)||void 0===y?void 0:y.toLocaleLowerCase())||""}};return n.createElement(r.Card,null,n.createElement(fO,{icon:n.createElement(oO,null),title:F("title"),actions:L&&n.createElement(r.Box,null,n.createElement(r.IconButton,{size:"small",disabled:O,onClick:function(){A(!x)}},x?n.createElement(sO,null):n.createElement(Xu,null)))}),n.createElement(r.Collapse,{in:x},n.createElement(r.CardContent,null,j&&n.createElement(r.Box,{mb:2},n.createElement(l.Alert,{severity:"info"},F("editAlert"))),n.createElement(d.Formik,{initialValues:U,validationSchema:Fh,onSubmit:function(e,t){return k(void 0,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:C(),t.setStatus(void 0),r.label=1;case 1:return r.trys.push([1,6,,7]),L?[4,_({variables:{input:T(T({},e),{groupId:E.id})},refetchQueries:["MangopayGroupConfig"]})]:[3,3];case 2:return r.sent(),[3,5];case 3:return[4,I({variables:{input:T({groupId:E.id,legalReprId:w.id},e)},refetchQueries:["MangopayGroupConfig"]})];case 4:r.sent(),r.label=5;case 5:return S(),[3,7];case 6:return n=r.sent(),t.setSubmitting(!1),t.setStatus(n),N(),[3,7];case 7:return[2]}}))}))}},(function(e){var t,i,a,o,s,l,c,f;return n.createElement(d.Form,null,n.createElement(pO,{label:B("structure"),mt:0}),e.status&&n.createElement(r.Box,{p:2},n.createElement(aO,{error:e.status})),n.createElement(uO,{left:n.createElement(cO,{name:"Name",label:B("structureName"),disabled:e.isSubmitting||j}),right:n.createElement(cO,{name:"Email",label:B("structureEmail"),disabled:e.isSubmitting||j})}),n.createElement(cO,{name:"LegalPersonType",label:B("structureType"),select:!0,required:!0,disabled:e.isSubmitting||j},n.createElement(r.MenuItem,{value:OE.ORGANIZATION},B("ORGANIZATION")),n.createElement(r.MenuItem,{value:OE.SOLETRADER},B("SOLETRADER")),n.createElement(r.MenuItem,{value:OE.BUSINESS},B("BUSINESS"))),e.values.LegalPersonType!==OE.ORGANIZATION&&n.createElement(cO,{name:"CompanyNumber",label:B("companyNumber"),disabled:e.isSubmitting||j}),n.createElement(pO,{label:B("legalRepr")}),n.createElement(uO,{left:n.createElement(cO,{name:"LegalRepresentativeFirstName",label:M("firstName"),disabled:e.isSubmitting||j}),right:n.createElement(cO,{name:"LegalRepresentativeLastName",label:M("lastName"),disabled:e.isSubmitting||j})}),n.createElement(cO,{name:"LegalRepresentativeEmail",label:M("email"),disabled:e.isSubmitting||j}),n.createElement(u.DatePicker,{fullWidth:!0,name:"LegalRepresentativeBirthday",margin:"normal",inputVariant:"outlined",disabled:e.isSubmitting||j,label:M("birthDate"),format:"d MMM yyyy",openTo:"year",cancelLabel:M("cancel"),error:Boolean(e.touched.LegalRepresentativeBirthday&&e.errors.LegalRepresentativeBirthday),helperText:e.touched.LegalRepresentativeBirthday&&Lh(P,e.errors.LegalRepresentativeBirthday),required:!0,value:e.values.LegalRepresentativeBirthday,onChange:function(t){return e.setFieldValue("LegalRepresentativeBirthday",t)},onClose:function(){return e.setFieldTouched("LegalRepresentativeBirthday")}}),n.createElement(uO,{left:n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting||j},textFieldProps:{margin:"normal",name:"LegalRepresentativeNationality",required:!0,label:M("nationality"),error:Boolean(e.touched.LegalRepresentativeNationality&&e.errors.LegalRepresentativeNationality),helperText:e.touched.LegalRepresentativeNationality&&Lh(P,e.errors.LegalRepresentativeNationality),onBlur:function(){return e.setFieldTouched("LegalRepresentativeNationality")}},defaultValue:e.values.LegalRepresentativeNationality||"",onChange:function(t){e.setFieldTouched("LegalRepresentativeNationality"),e.setFieldValue("LegalRepresentativeNationality",t||"")}}),right:n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting||j},textFieldProps:{margin:"normal",name:"LegalRepresentativeCountryOfResidence",required:!0,label:M("countryOfResidence"),error:Boolean(e.touched.LegalRepresentativeCountryOfResidence&&e.errors.LegalRepresentativeCountryOfResidence),helperText:e.touched.LegalRepresentativeCountryOfResidence&&Lh(P,e.errors.LegalRepresentativeCountryOfResidence),onBlur:function(){return e.setFieldTouched("LegalRepresentativeCountryOfResidence")}},defaultValue:e.values.LegalRepresentativeCountryOfResidence||"",onChange:function(t){e.setFieldTouched("LegalRepresentativeCountryOfResidence"),e.setFieldValue("LegalRepresentativeCountryOfResidence",t||"")}})}),n.createElement(cO,{name:"LegalRepresentativeAddress.AddressLine1",label:M("address1"),disabled:e.isSubmitting||j}),n.createElement(cO,{name:"LegalRepresentativeAddress.AddressLine2",label:M("address2"),required:!1,disabled:e.isSubmitting||j}),n.createElement(uO,{left:n.createElement(cO,{name:"LegalRepresentativeAddress.City",label:M("city"),disabled:e.isSubmitting||j}),right:n.createElement(cO,{name:"LegalRepresentativeAddress.PostalCode",label:M("zipCode"),disabled:e.isSubmitting||j})}),n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting||j},textFieldProps:{margin:"normal",name:"LegalRepresentativeAddress.Country",required:!0,label:M("country"),error:Boolean((null===(t=e.touched.LegalRepresentativeAddress)||void 0===t?void 0:t.Country)&&(null===(i=e.errors.LegalRepresentativeAddress)||void 0===i?void 0:i.Country)),helperText:(null===(a=e.touched.LegalRepresentativeAddress)||void 0===a?void 0:a.Country)&&Lh(P,null===(o=e.errors.LegalRepresentativeAddress)||void 0===o?void 0:o.Country),onBlur:function(){return e.setFieldTouched("LegalRepresentativeAddress.Country")}},defaultValue:e.values.LegalRepresentativeAddress.Country||"",onChange:function(t){e.setFieldTouched("LegalRepresentativeAddress.Country"),e.setFieldValue("LegalRepresentativeAddress.Country",t||"")}}),n.createElement(pO,{label:B("headquarters")}),n.createElement(cO,{name:"HeadquartersAddress.AddressLine1",label:B("headquartersAddress.address1"),disabled:e.isSubmitting||j}),n.createElement(cO,{name:"HeadquartersAddress.AddressLine2",label:B("headquartersAddress.address2"),required:!1,disabled:e.isSubmitting||j}),n.createElement(uO,{left:n.createElement(cO,{name:"HeadquartersAddress.City",label:B("headquartersAddress.city"),disabled:e.isSubmitting||j}),right:n.createElement(cO,{name:"HeadquartersAddress.PostalCode",label:B("headquartersAddress.postalCode"),disabled:e.isSubmitting||j})}),n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting||j},textFieldProps:{margin:"normal",name:"HeadquartersAddress.Country",required:!0,label:B("headquartersAddress.country"),error:Boolean((null===(s=e.touched.HeadquartersAddress)||void 0===s?void 0:s.Country)&&(null===(l=e.errors.HeadquartersAddress)||void 0===l?void 0:l.Country)),helperText:(null===(c=e.touched.HeadquartersAddress)||void 0===c?void 0:c.Country)&&Lh(P,null===(f=e.errors.HeadquartersAddress)||void 0===f?void 0:f.Country),onBlur:function(){return e.setFieldTouched("HeadquartersAddress.Country")}},defaultValue:U.HeadquartersAddress.Country||"",onChange:function(t){e.setFieldTouched("HeadquartersAddress.Country"),e.setFieldValue("HeadquartersAddress.Country",t||"")}}),!j&&n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:"contained",color:"primary",type:"submit",disabled:e.isSubmitting},M("validateBtn"))))})))))},vO=function(e){var t=e.isRegular,i=Cu(["pro/mangopay"]).t,a=function(e,t){return i("pro/mangopay:config.infoCard."+e,t)};return n.createElement(r.Card,null,n.createElement(r.CardContent,null,n.createElement("img",{height:"48px",src:"https://www.mangopay.com/wp-content/themes/mangopay/assets/images/mangopay.svg",alt:"mangopay-logo"})),n.createElement(r.CardContent,null,!t&&n.createElement(r.Box,{mb:2},n.createElement(r.Typography,null,a("p1"))),n.createElement(r.Box,null,n.createElement(l.Alert,{severity:"info"},n.createElement(r.Box,null,n.createElement("span",null,a("alert.s1")),n.createElement("a",{href:a("alert.guideLinkTarget"),target:"_blank",rel:"noopener noreferrer"},a("alert.guildeLinkLabel")),n.createElement("span",null,a("alert.s2"))))),t&&n.createElement(r.Box,{mt:2},n.createElement(l.Alert,{severity:"success"},a("regular")))))},gO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"}),"Face");t.default=i}))),yO=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},bO=function(e){return yO(e.FirstName)+" "+yO(e.LastName)},EO=function(e){return""+e.firstName.charAt(0).toUpperCase()+e.firstName.slice(1).toLowerCase()+" "+e.lastName.charAt(0).toUpperCase()+e.lastName.slice(1).toLowerCase()},wO=function(e){var t=EO(e);return e.firstName2&&e.lastName2?t+" & "+(""+e.firstName2.charAt(0).toUpperCase()+e.firstName2.slice(1).toLowerCase()+" "+e.lastName2.charAt(0).toUpperCase()+e.lastName2.slice(1).toLowerCase()):t},xO=function(e){var t="";if(e.city||e.zipCode){e.city&&(t=e.city),e.zipCode&&(t=t+" ("+e.zipCode+")");var n="";return e.address1&&(n=""+e.address1),e.address2&&(n=n+" "+e.address2),n&&(t=n+" - "+t),t}},OO=function(e,t){if(void 0===t&&(t=!1),Number.isNaN(e.getTime()))return"";var n="EEEE\td MMMM";return t&&(n+="' à' k'h'mm"),yO(Lo(e,n,{locale:ka}))},AO=function(e,t){return void 0===t&&(t=!1),Number.isNaN(e.getTime())?"":function(e){return Ra(1,arguments),Vo(e,qs(Date.now(),1))}(e)?yO(Lo(e,t?"'Hier à' k'h'mm":"'hier'",{locale:ka})):function(e){return Ra(1,arguments),Vo(e,Date.now())}(e)?yO(Lo(e,t?"'Aujourd''hui à' k'h'mm":"'aujourd''hui'",{locale:ka})):OO(e,t)},CO=function(e,t){var n=""+t(""+e.type);if(e.type===kh.contractSubscribers&&e.data){var r=JSON.parse(e.data);r&&(n=t(""+e.type,{name:r.name,startDate:new Date(r.startDate).toLocaleDateString(),endDate:new Date(r.endDate).toLocaleDateString()}))}return null!==e.count&&void 0!==e.count?n+" ("+e.count+")":n},SO=function(e){var t,i,a,o,s=e.group,u=e.disabledActions,c=e.selectedLegalRepr,d=e.setSelectedLegalRepr,f=R(wa(UE,o),2),p=f[0],h=f[1],m=h.data,v=h.error,g=h.loading,y=R(function(e){return xa(VE,e)}(),2),b=y[0],E=y[1],w=E.error,x=E.loading,O=Cu(["translation","pro/mangopay"]).t,A=function(e,t){return O("pro/mangopay:config.legalRepCard."+e,t)},C=null===(t=null==s?void 0:s.mangopayGroup)||void 0===t?void 0:t.legalUser,S=null==C?void 0:C.legalRepr,N=(null===(a=null===(i=s.mangopayGroup)||void 0===i?void 0:i.legalUser)||void 0===a?void 0:a.KYCLevel)===xE.REGULAR,I=v||w,_=g||x,M=null==m?void 0:m.mangopayLegalUserByLegalRepr,F=R(n.useState(),2),B=F[0],P=F[1];return n.useEffect((function(){B&&p({variables:{input:{groupId:s.id,legalReprId:B.id}}})}),[B]),n.createElement(r.Card,null,n.createElement(fO,{icon:n.createElement(gO,null),title:A("title",{name:c?": "+EO(c):void 0}),actions:!N&&c&&n.createElement(r.IconButton,{size:"small",disabled:u,onClick:function(){d(void 0)}},n.createElement(Ju,null))}),!c&&n.createElement(r.CardContent,null,I&&n.createElement(aO,{error:I}),!_&&B?n.createElement(n.Fragment,null,M?n.createElement(r.Box,{mt:2},n.createElement(r.Typography,null,EO(B)),n.createElement(r.Typography,null,n.createElement("span",null,M.Name),M.CompanyNumber&&n.createElement("span",null," ("+M.CompanyNumber+")")),n.createElement(r.Typography,null,M.Email),n.createElement(r.Box,{mt:2,display:"flex",justifyContent:"center"},n.createElement(r.Box,{mx:2},n.createElement(r.Button,{variant:"outlined",color:"primary",onClick:function(){P(void 0)}},O("cancel"))),n.createElement(r.Box,{mx:2},n.createElement(r.Button,{variant:"contained",color:"primary",onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){return B?(b({variables:{input:{groupId:s.id,legalReprId:B.id}},refetchQueries:["MangopayGroupConfig"]}),[2]):[2]}))}))}},A("linkBtn",{name:M.Name}))))):n.createElement(r.Box,{mt:2,display:"flex",justifyContent:"center"},n.createElement(r.Box,{mx:2},n.createElement(r.Button,{variant:"outlined",color:"primary",onClick:function(){P(void 0)}},O("cancel"))),n.createElement(r.Box,{mx:2},n.createElement(r.Button,{variant:"contained",color:"primary",onClick:function(){d(B)}},A("selectReprBtn",{name:EO(B)}))))):n.createElement(n.Fragment,null,n.createElement(r.Box,{mb:2},n.createElement(l.Alert,{severity:"info"},A("alert.p1"))),n.createElement(l.Autocomplete,{options:s.users||[],value:B||null,getOptionLabel:EO,getOptionSelected:function(e,t){return e.id===t.id},disabled:_,renderInput:function(e){return n.createElement(r.TextField,T({variant:"outlined",margin:"normal",label:A("usersSelectorLabel"),name:"legalReprId",required:!0},e))},onChange:function(e,t){S&&t&&S.id===t.id&&d(S),P(t||void 0)}})),_&&n.createElement(r.Box,{mt:2},n.createElement(r.LinearProgress,null))))},NO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");t.default=i}))),IO=function(e,t){var n=e.filter((function(e){return e.Type===t})).sort((function(e,t){return t.Id-e.Id}));return n.length>0?n[0]:void 0},TO=function(e){var t=e.LegalPersonType,n=e.KycDocuments;if(!t)return!1;if(!n)return!1;var r=Rh(t).map((function(e){return IO(n,e)}));return-1===r.indexOf(void 0)&&!r.find((function(e){return(null==e?void 0:e.Status)!==EE.VALIDATION_ASKED}))},_O=function(e){var t=e.OwnerName;return e.Type===yE.IBAN&&(t=t+" - "+e.IBAN),t},kO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=i}))),DO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");t.default=i}))),RO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.default=i}))),MO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");t.default=i}))),FO=0,BO=r.makeStyles((function(){return{input:{display:"none !important"}}})),PO=function(e){var t=e.file,r=_(e,["file"]);return t.type&&t.type.startsWith("image/")?n.createElement(DO,T({},r)):t.type&&"application/pdf"===t.type?n.createElement(MO,T({},r)):n.createElement(RO,T({},r))},LO=function(e){var t=e.label,i=e.value,a=e.disabled,o=e.onChange,s=n.useRef(null),u=Cu(["translation","pro/mangopay"],{useSuspense:!1}).t,l=function(e){return u("pro/mangopay:config.documentsCard.form."+e)},c=R(n.useState(!1),2),d=c[0],f=c[1],p=BO(),h=""+(FO+=1),m=function(){f(!1)};return n.createElement(n.Fragment,null,n.createElement(r.Box,{onClick:function(){0===i.length&&s.current&&s.current.click()}},n.createElement(r.FormControl,{fullWidth:!0,margin:"normal",variant:"outlined"},t&&n.createElement(r.InputLabel,{htmlFor:"file-field-"+h},t),n.createElement(r.OutlinedInput,{id:"file-field-"+h,label:t,disabled:!0,startAdornment:i.map((function(e){return n.createElement(r.Box,{key:e.name,mr:1},n.createElement(r.Chip,{label:e.name,icon:n.createElement(PO,{file:e}),onDelete:a?void 0:function(){o(i.filter((function(t){return e!==t})))}}))})),endAdornment:n.createElement(r.IconButton,{disabled:a,onClick:function(e){e.preventDefault(),s.current&&s.current.click()}},n.createElement(kO,null))}))),n.createElement("input",{ref:s,className:p.input,type:"file",accept:"image/*,application/pdf",onChange:function(e){if(e.target.files){var t=e.target.files[0];t.size>7e6?f(!0):(o(M(i,[t])),s.current&&(s.current.value=""))}}}),n.createElement(r.Dialog,{open:d,onClose:m},n.createElement(r.DialogTitle,null,l("tooLargeFileAlert.title")),n.createElement(r.DialogContent,null,n.createElement(r.DialogContentText,null,l("tooLargeFileAlert.content"))),n.createElement(r.DialogActions,null,n.createElement(r.Button,{onClick:m,color:"primary",autoFocus:!0},l("tooLargeFileAlert.btn")))))},jO="config.documentsCard",UO=function(e){var t,i,a=e.group,o=e.open,s=e.disabledActions,u=e.onTogglePanel,c=R(xa(HE,i),2),d=c[0],f=c[1],p=f.loading,h=f.error,m=Cu(["pro/mangopay"]).t,v=function(e,t){return m("pro/mangopay:"+jO+"."+e,t)},g=function(e,t){return m("pro/mangopay:"+jO+".form."+e,t)},y=R(n.useState({}),2),b=y[0],E=y[1],w=null===(t=a.mangopayGroup)||void 0===t?void 0:t.legalUser;return w?n.createElement(r.Card,null,n.createElement(fO,{icon:n.createElement(NO,null),title:v("kycTitle"),actions:w&&n.createElement(r.Box,null,n.createElement(r.IconButton,{size:"small",disabled:s,onClick:function(){u(!o)}},o?n.createElement(sO,null):n.createElement(Xu,null)))}),n.createElement(r.Collapse,{in:o},n.createElement(r.CardContent,null,h&&n.createElement(r.Box,{my:2},n.createElement(aO,{error:h})),TO(w)?n.createElement(l.Alert,{severity:"info"},v("allPending")):n.createElement(n.Fragment,null,Rh(w.LegalPersonType).map((function(e){var t,i=IO(w.KycDocuments||[],e);return n.createElement(r.Box,{key:e},n.createElement(pO,{label:g(e)}),i&&n.createElement(r.Box,{my:2},n.createElement(l.Alert,{severity:(t=i.Status,t===EE.REFUSED?"error":t===EE.VALIDATED?"success":"info")},n.createElement(r.Typography,null,n.createElement("span",null,g(i.Status)),i.RefusedReasonType&&n.createElement("span",null," : "+g(i.RefusedReasonType))),i.Status===EE.REFUSED&&n.createElement(r.Typography,null,i.RefusedReasonMessage))),(!i||i.Status===EE.REFUSED)&&n.createElement(LO,{label:g("addFilesLabel"),value:b&&b[e]||[],disabled:p,onChange:function(t){var n=T({},b);n[e]=t,E(n)}}))})),n.createElement(r.Box,{mt:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:"contained",color:"primary",disabled:p||!Object.keys(b).reduce((function(e,t){return b[t].length>0||e}),!1),onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,d({variables:{input:{groupId:a.id,documents:Object.keys(b).map((function(e){return{Type:e,files:b[e]}}))}},refetchQueries:["MangopayGroupConfig"]})];case 1:return e.sent(),E({}),[2]}}))}))}},m("validate")))))),p&&n.createElement(r.LinearProgress,null)):n.createElement(n.Fragment,null)},qO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.default=i}))),zO=function(e){var t=e.loading,i=void 0!==t&&t,a=e.variant,o=e.color,s=e.disabled,u=e.children,l=e.circularProgressProps,c=_(e,["loading","variant","color","disabled","children","circularProgressProps"]),d=r.useTheme();return n.createElement(r.Button,T({},c,{variant:a,color:o,disabled:s||i}),n.createElement(r.Box,{position:"relative"},n.createElement(r.Box,{visibility:i?"hidden":"visible"},u),i&&n.createElement(r.Box,{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center"},n.createElement(r.CircularProgress,T({color:"default"===o?"primary":o,size:d.typography.button.fontSize},l)))))},VO=function(e){var t=e.actions,i=e.disableTypography,a=e.children,o=_(e,["actions","disableTypography","children"]);return n.createElement(r.DialogTitle,T({disableTypography:!0},o),n.createElement(r.Box,{display:"flex",justifyContent:"space-between",alignItems:"center"},i?a:n.createElement(r.Typography,{variant:"h6",component:"h2"},a),t))},HO=function(e){var t=e.children,i=e.disableTypography,a=void 0!==i&&i,o=e.disableCloseBtn,s=void 0!==o&&o,u=e.onClose;return n.createElement(VO,{disableTypography:a,actions:n.createElement(r.Box,{display:"flex",alignItems:"center"},u&&n.createElement(r.IconButton,{disabled:s,onClick:u},n.createElement(Qu,null)))},t)},$O=function(e){var t,i,a,o,s,c,f,p,h,m,v=e.ubo,g=e.onSubmit,y=Cu(["translation","yup"],{useSuspense:!1}).t,b=function(e,t){return y("yup:"+e,t)},E={FirstName:(null==v?void 0:v.FirstName)||"",LastName:(null==v?void 0:v.LastName)||"",Address:{AddressLine1:(null===(t=null==v?void 0:v.Address)||void 0===t?void 0:t.AddressLine1)||"",AddressLine2:(null===(i=null==v?void 0:v.Address)||void 0===i?void 0:i.AddressLine2)||"",City:(null===(a=null==v?void 0:v.Address)||void 0===a?void 0:a.City)||"",Country:(null===(s=null===(o=null==v?void 0:v.Address)||void 0===o?void 0:o.Country)||void 0===s?void 0:s.toLowerCase())||"",PostalCode:(null===(c=null==v?void 0:v.Address)||void 0===c?void 0:c.PostalCode)||""},Nationality:(null===(f=null==v?void 0:v.Nationality)||void 0===f?void 0:f.toLowerCase())||"",Birthday:(null==v?void 0:v.Birthday)?new Date(v.Birthday):new Date,Birthplace:{City:(null===(p=null==v?void 0:v.Birthplace)||void 0===p?void 0:p.City)||"",Country:(null===(m=null===(h=null==v?void 0:v.Birthplace)||void 0===h?void 0:h.Country)||void 0===m?void 0:m.toLowerCase())||""}};return console.log(v),n.createElement(d.Formik,{initialValues:E,validationSchema:Bh,onSubmit:g},(function(e){var t,i,a,o,s,c,f,p,h,m;return n.createElement(d.Form,null,e.status&&n.createElement(r.Box,null,n.createElement(l.Alert,{severity:"error"},e.status)),n.createElement(uO,{left:n.createElement(cO,{name:"FirstName",label:y("firstName")}),right:n.createElement(cO,{name:"LastName",label:y("LastName")})}),n.createElement(cO,{name:"Address.AddressLine1",label:y("address1")}),n.createElement(cO,{name:"Address.AddressLine2",label:y("address2"),required:!1}),n.createElement(uO,{left:n.createElement(cO,{name:"Address.City",label:y("city")}),right:n.createElement(cO,{name:"Address.PostalCode",label:y("zipCode")})}),n.createElement(uO,{left:n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting},textFieldProps:{fullWidth:!0,margin:"normal",required:!0,name:"Address.Country",label:y("country"),error:Boolean((null===(t=e.touched.Address)||void 0===t?void 0:t.Country)&&(null===(i=e.errors.Address)||void 0===i?void 0:i.Country)),helperText:(null===(a=e.touched.Address)||void 0===a?void 0:a.Country)&&Lh(b,null===(o=e.errors.Address)||void 0===o?void 0:o.Country),onBlur:function(){return e.setFieldTouched("Address.Country")}},defaultValue:(null===(s=E.Address)||void 0===s?void 0:s.Country)||"",onChange:function(t){e.setFieldTouched("Address.Country"),e.setFieldValue("Address.Country",t||"")}}),right:n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting},textFieldProps:{fullWidth:!0,margin:"normal",name:"Nationality",required:!0,label:y("nationality"),error:Boolean(e.touched.Nationality&&e.errors.Nationality),helperText:e.touched.Nationality&&Lh(b,e.errors.Nationality),onBlur:function(){return e.setFieldTouched("Nationality")}},defaultValue:E.Nationality||"",onChange:function(t){e.setFieldTouched("Nationality"),e.setFieldValue("Nationality",t||"")}})}),n.createElement(u.DatePicker,{fullWidth:!0,name:"birthDate",margin:"normal",inputVariant:"outlined",disabled:e.isSubmitting,label:y("birthDate"),format:"d MMM yyyy",openTo:"year",cancelLabel:y("cancel"),error:Boolean(e.touched.Birthday&&e.errors.Birthday),helperText:e.touched.Birthday&&Lh(b,e.errors.Birthday),required:!0,value:e.values.Birthday,onChange:function(t){return e.setFieldValue("Birthday",t)},onClose:function(){return e.setFieldTouched("Birthday")}}),n.createElement(uO,{left:n.createElement(cO,{name:"Birthplace.City",label:y("city")}),right:n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting},textFieldProps:{fullWidth:!0,margin:"normal",name:"Birthplace.Country",required:!0,label:y("nationality"),error:Boolean((null===(c=e.touched.Birthplace)||void 0===c?void 0:c.Country)&&(null===(f=e.errors.Birthplace)||void 0===f?void 0:f.Country)),helperText:(null===(p=e.touched.Birthplace)||void 0===p?void 0:p.Country)&&Lh(b,null===(h=e.errors.Birthplace)||void 0===h?void 0:h.Country),onBlur:function(){return e.setFieldTouched("Birthplace.Country")}},defaultValue:(null===(m=E.Birthplace)||void 0===m?void 0:m.Country)||"",onChange:function(t){e.setFieldTouched("NatiBirthplace.Countryonality"),e.setFieldValue("Birthplace.Country",t||"")}})}),n.createElement(r.Box,{mt:2,p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{type:"submit",variant:"contained",color:"primary",disabled:e.isSubmitting},y("validate"))))}))},WO="config.documentsCard",QO=function(e){var t,i,a=e.group,o=e.disabledActions,s=e.open,u=e.onTogglePanel,c=R(xa($E,i),2),d=c[0],f=c[1],p=f.loading,h=f.error,m=R(function(e){return xa(QE,e)}(),2),v=m[0],g=m[1],y=g.loading,b=g.error,E=R(function(e){return xa(WE,e)}(),2),w=E[0],x=E[1],O=x.loading,A=x.error,C=Cu(["translation","pro/mangopay"]).t,S=function(e,t){return C("pro/mangopay:"+WO+"."+e,t)},N=function(e,t){return C("pro/mangopay:"+WO+".form."+e,t)},I=R(n.useState(!1),2),_=I[0],M=I[1],F=R(n.useState(),2),B=F[0],P=F[1],L=p||y||O,j=h||b||A,U=null===(t=a.mangopayGroup)||void 0===t?void 0:t.legalUser,q=(null==U?void 0:U.UboDeclarations)||[],z=q.length>0?q.slice().sort((function(e,t){return t.Id-e.Id}))[0]:void 0,V=function(e){e&&P(e),M(!0)},H=function(){P(void 0),M(!1)};return n.createElement(n.Fragment,null,n.createElement(r.Card,null,n.createElement(fO,{icon:n.createElement(qO,null),title:S("uboTitle"),actions:U&&n.createElement(r.Box,null,n.createElement(r.IconButton,{size:"small",disabled:o,onClick:function(){u(!s)}},s?n.createElement(sO,null):n.createElement(Xu,null)))}),n.createElement(r.Collapse,{in:s},n.createElement(n.Fragment,null,j&&n.createElement(r.Box,{p:2},n.createElement(aO,{error:j})),z&&n.createElement(r.Box,{mt:2},function(e){var t,i=e.Status,a=e.Reason,o=e.Message;return i===AE.CREATED?null:n.createElement(r.Box,{p:2},n.createElement(l.Alert,{severity:(t=i,t===AE.REFUSED?"error":t===AE.INCOMPLETE?"warning":t===AE.VALIDATED?"success":"info")},n.createElement(r.Typography,null,function(e,t){var n=N(e);return t&&(n=n+" : "+N(t)),n}(i,a||void 0)),i===AE.REFUSED&&n.createElement(r.Typography,null,o)))}(z)),(!z||z.Status===AE.REFUSED)&&n.createElement(r.CardContent,null,n.createElement(r.Box,{display:"flex",justifyContent:"center"},n.createElement(zO,{variant:"contained",color:"primary",loading:L,onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,d({variables:{input:{groupId:a.id}},refetchQueries:["MangopayGroupConfig"]})];case 1:return e.sent(),[2]}}))}))}},S("createUboDeclaration")))),z&&(z.Status===AE.CREATED||z.Status===AE.INCOMPLETE)&&n.createElement(r.CardContent,null,z.Ubos&&n.createElement(r.List,null,z.Ubos.map((function(e){return n.createElement(r.ListItem,{key:e.Id},n.createElement(r.ListItemText,{primary:bO(e)}),n.createElement(r.ListItemSecondaryAction,null,n.createElement(r.IconButton,{onClick:function(){V(e)}},n.createElement(Ju,null))))}))),n.createElement(r.Box,{mt:2,display:"flex",justifyContent:"center"},(!z.Ubos||z.Ubos.length<4)&&n.createElement(r.Box,{mx:1},n.createElement(r.Button,{variant:"outlined",color:"primary",onClick:function(){V()}},C("add"))),z.Ubos&&z.Ubos.length>0&&n.createElement(r.Box,{mx:1},n.createElement(zO,{variant:"contained",color:"primary",loading:L,onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return z?[4,w({variables:{input:{groupId:a.id,declarationId:z.Id}},refetchQueries:["MangopayGroupConfig"]})]:[2];case 1:return e.sent(),[2]}}))}))}},C("validate"))))))),L&&n.createElement(r.LinearProgress,null)),n.createElement(r.Dialog,{fullWidth:!0,open:_,onClose:H},n.createElement(HO,{disableCloseBtn:L,onClose:H},N("ubo")),n.createElement(r.DialogContent,null,n.createElement($O,{ubo:B,onSubmit:function(e,t){return k(void 0,void 0,void 0,(function(){var n;return D(this,(function(r){switch(r.label){case 0:if(!z)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,v({variables:{input:T(T({},e),{declarationId:z.Id,groupId:a.id,id:null==B?void 0:B.Id})},refetchQueries:["MangopayGroupConfig"]})];case 2:return r.sent(),H(),[3,4];case 3:return n=r.sent(),t.setSubmitting(!1),t.setStatus(n.message),[3,4];case 4:return[2]}}))}))}}))))},GO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1L2 6v2h20V6z"}),"AccountBalance");t.default=i}))),YO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=i}))),KO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i}))),ZO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.default=i}))),JO=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");t.default=i}))),XO=function(e){var t,i,a,o,s,u=e.bankAccount,l=e.disabled,c=void 0!==l&&l,f=e.onSubmit,h=Cu(["translation","yup","pro/mangopay"]).t,m=function(e,t){return h("yup:"+e,t)},v=function(e,t){return h("pro/mangopay:config.bankAccountCard.form."+e,t)},g={Type:(null==u?void 0:u.Type)||yE.IBAN,OwnerAddress:{AddressLine1:(null===(t=null==u?void 0:u.OwnerAddress)||void 0===t?void 0:t.AddressLine1)||"",AddressLine2:(null===(i=null==u?void 0:u.OwnerAddress)||void 0===i?void 0:i.AddressLine2)||"",City:(null===(a=null==u?void 0:u.OwnerAddress)||void 0===a?void 0:a.City)||"",Country:(null===(o=null==u?void 0:u.OwnerAddress)||void 0===o?void 0:o.Country)||"",PostalCode:(null===(s=null==u?void 0:u.OwnerAddress)||void 0===s?void 0:s.PostalCode)||""},OwnerName:(null==u?void 0:u.OwnerName)||"",IBAN:u&&(null==u?void 0:u.Type)===yE.IBAN?u.IBAN||"":void 0,BIC:u&&(null==u?void 0:u.Type)===yE.IBAN?u.IBAN||"":void 0};return n.createElement(d.Formik,{initialValues:g,onSubmit:f},(function(e){var t,i,a,o;return n.createElement(d.Form,null,n.createElement(r.FormControl,{fullWidth:!0,variant:"outlined",disabled:e.isSubmitting||c},n.createElement(r.InputLabel,{htmlFor:"bank-account-type-label"},v("Type")),n.createElement(d.Field,{required:!0,name:"Type",label:v("Type"),component:p.Select,inputProps:{id:"bank-account-type"}},n.createElement(r.MenuItem,{value:yE.IBAN},v(yE.IBAN)))),n.createElement(cO,{label:v("OwnerName"),name:"OwnerName",disabled:e.isSubmitting||c}),n.createElement(uO,{left:n.createElement(cO,{label:h("address1"),name:"OwnerAddress.AddressLine1",disabled:e.isSubmitting||c}),right:n.createElement(cO,{label:h("address2"),name:"OwnerAddress.AddressLine2",required:!1,disabled:e.isSubmitting||c})}),n.createElement(uO,{left:n.createElement(cO,{label:h("city"),name:"OwnerAddress.City",disabled:e.isSubmitting||c}),right:n.createElement(cO,{label:h("zipCode"),name:"OwnerAddress.PostalCode",disabled:e.isSubmitting||c})}),n.createElement(dO,{format:"alpha2",autocompleteProps:{disabled:e.isSubmitting||c},textFieldProps:{margin:"normal",name:"OwnerAddress.Country",required:!0,label:h("country"),error:Boolean((null===(t=e.touched.OwnerAddress)||void 0===t?void 0:t.Country)&&(null===(i=e.errors.OwnerAddress)||void 0===i?void 0:i.Country)),helperText:(null===(a=e.touched.OwnerAddress)||void 0===a?void 0:a.Country)&&Lh(m,null===(o=e.errors.OwnerAddress)||void 0===o?void 0:o.Country),onBlur:function(){return e.setFieldTouched("OwnerAddress.Country")}},defaultValue:e.values.OwnerAddress.Country||"",onChange:function(t){e.setFieldTouched("OwnerAddress.Country"),e.setFieldValue("OwnerAddress.Country",t||"")}}),e.values.Type===yE.IBAN&&n.createElement(n.Fragment,null,n.createElement(cO,{label:v("IBAN"),name:"IBAN",disabled:e.isSubmitting||c}),n.createElement(cO,{label:v("BIC"),name:"BIC",required:!1,disabled:e.isSubmitting||c})),!c&&n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{color:"primary",variant:"contained",type:"submit",disabled:e.isSubmitting},h("validate"))))}))},eA=function(e){var t,i,a,o=e.group,s=e.open,u=e.disabledActions,l=e.onTogglePanel,c=R(xa(GE,a),2),d=c[0],f=c[1],p=f.loading,h=f.error,m=R(function(e){return xa(YE,e)}(),2),v=m[0],g=m[1],y=g.loading,b=g.error,E=R(function(e){return xa(KE,e)}(),1)[0],w=Cu(["translation","yup","pro/mangopay"]).t,x=function(e,t){return w("pro/mangopay:config.bankAccountCard."+e,t)},O=null===(t=o.mangopayGroup)||void 0===t?void 0:t.legalUser,A=null===(i=null==O?void 0:O.BankAccounts)||void 0===i?void 0:i.filter((function(e){return e.Active})),C=p||y,S=h||b,N=R(n.useState(!1),2),I=N[0],_=N[1],M=R(n.useState(),2),F=M[0],B=M[1],P=Nu(r.IconButton,{title:x("deleteDialog.title"),cancelButtonLabel:w("cancel"),confirmButtonLabel:w("confirm"),message:x("deleteDialog.message")}),L=function(e){B(e),_(!0)},j=function(){C||(B(void 0),_(!1))};return n.createElement(r.Card,null,n.createElement(fO,{icon:n.createElement(GO,null),title:x("title"),actions:O&&n.createElement(r.Box,null,n.createElement(r.IconButton,{size:"small",disabled:u,onClick:function(){l(!s)}},s?n.createElement(sO,null):n.createElement(Xu,null)))}),n.createElement(r.Collapse,{in:s&&!C},n.createElement(n.Fragment,null,S&&n.createElement(r.CardContent,null,n.createElement(aO,{error:S})),A&&A.length>0&&n.createElement(r.CardContent,null,n.createElement(r.List,null,A.map((function(e){return n.createElement(r.ListItem,{key:e.Id},n.createElement(r.ListItemText,{primary:_O(e),secondary:(t=e.OwnerAddress,t.AddressLine1+" "+t.City+" "+t.Country)}),n.createElement(r.ListItemSecondaryAction,null,n.createElement(P,{onClick:function(){!function(e){v({variables:{input:{groupId:o.id,bankAccountId:e.Id}},refetchQueries:["MangopayGroupConfig"]})}(e)}},n.createElement(KO,null)),n.createElement(r.IconButton,{onClick:function(){L(e)}},n.createElement(YO,null)),n.createElement(r.IconButton,{onClick:function(){!function(e){if(O){var t=parseInt(e.Id,10),n=t===O.bankAccountId?null:t;E({variables:{input:{groupId:o.id,bankAccountId:n}},refetchQueries:["MangopayGroupConfig"]})}}(e)}},(null==O?void 0:O.bankAccountId)===parseInt(e.Id,10)?n.createElement(JO,{color:"primary"}):n.createElement(ZO,null))));var t})))),n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Button,{variant:"outlined",color:"primary",onClick:function(){return L()}},w("add"))))),n.createElement(r.Dialog,{open:I,fullWidth:!0,maxWidth:"md",onClose:j},n.createElement(HO,{disableCloseBtn:C,onClose:j},x("bankAccount")),n.createElement(r.DialogContent,null,n.createElement(XO,{disabled:!!F,bankAccount:F,onSubmit:function(e,t){return k(void 0,void 0,void 0,(function(){return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,d({variables:{input:T(T({groupId:o.id},e),{IBAN:""!==e.IBAN?e.IBAN:void 0,BIC:""!==e.BIC?e.BIC:void 0})},refetchQueries:["MangopayGroupConfig"]})];case 1:return n.sent(),t.setSubmitting(!1),B(void 0),_(!1),[3,3];case 2:return n.sent(),t.setSubmitting(!1),[3,3];case 3:return[2]}}))}))}}))),C&&n.createElement(r.LinearProgress,null))},tA=function(e){var t,i,a=e.groupId,o=Oa(jE,{variables:{id:a}}),s=o.data,u=o.loading,l=o.error,c=null==s?void 0:s.group,d=null===(t=null==c?void 0:c.mangopayGroup)||void 0===t?void 0:t.legalUser,f=null==d?void 0:d.legalRepr,p=(null==d?void 0:d.KYCLevel)===xE.REGULAR,h=R(n.useState(f),2),m=h[0],v=h[1],g=R(n.useState(!1),2),y=g[0],b=g[1],E=R(n.useState(),2),w=E[0],x=E[1],O=function(){x(void 0)};return n.useEffect((function(){v(f)}),[f]),n.useEffect((function(){var e;d&&m&&(null===(e=null==d?void 0:d.legalRepr)||void 0===e?void 0:e.id)===(null==m?void 0:m.id)?TO(d)?x("ubos"):x("kyc"):x("legalUser")}),[m,d]),n.createElement(n.Fragment,null,l&&n.createElement(aO,{error:l}),n.createElement(vO,{isRegular:p}),u&&n.createElement(r.Box,{p:2,mt:6,display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null)),c&&n.createElement(r.Box,{mt:4},n.createElement(SO,{group:c,disabledActions:y,selectedLegalRepr:m,setSelectedLegalRepr:v})),c&&m&&n.createElement(r.Box,{mt:4},n.createElement(mO,{group:c,defaultLegalRepr:m,open:"legalUser"===w,disabledActions:y,onTogglePanel:function(e){e?x("legalUser"):O()},onSubmit:function(){b(!0)},onSubmitComplete:function(){b(!1)},onSubmitFail:function(){b(!1)}})),c&&!p&&d&&m&&(null===(i=null==d?void 0:d.legalRepr)||void 0===i?void 0:i.id)===(null==m?void 0:m.id)&&n.createElement(n.Fragment,null,n.createElement(r.Box,{my:4},n.createElement(UO,{group:c,disabledActions:y,open:"kyc"===w,onTogglePanel:function(e){e?x("kyc"):O()}})),Mh(d.LegalPersonType)&&n.createElement(r.Box,{my:4},n.createElement(QO,{group:c,disabledActions:y,open:"ubos"===w,onTogglePanel:function(e){e?x("ubos"):O()}}))),c&&p&&n.createElement(n.Fragment,null,n.createElement(r.Box,{my:4},n.createElement(eA,{group:c,disabledActions:y,open:"bankAccount"===w,onTogglePanel:function(e){e?x("bankAccount"):O()}}))))},nA=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rA=function(e){return nA.test(e)},iA=r.makeStyles((function(e){return{chipError:{borderColor:e.palette.error.main+"80",backgroundColor:e.palette.error.light+"3D","&.MuiChip-outlined:hover":{backgroundColor:e.palette.error.light+"3D"},"&.MuiChip-outlined:focus":{backgroundColor:e.palette.error.light+"3D"}},chipContainer:{margin:3}}})),aA=[],oA=jh(r.TextField,p.fieldToTextField),sA=n.memo((function(e){var t,i=e.recipientsOptions,a=e.label,o=e.field,s=e.meta,u=e.form,c=n.useContext(rx),d=Cu(["messages/default"]).t,f=iA(),p=c.groupId,h=c.setError,m=c.setRecipients,v=c.selectedUserList,g=c.setSelectedUserList,y=c.recipients,b=R(n.useState([]),2),E=b[0],w=b[1],x=R(n.useState([]),2),O=x[0],A=x[1],C=R(wa(uw,t),2),S=C[0],N=C[1],I=N.data,_=N.error,k=PE().data,D=k&&k.me,F=n.useRef(),B=n.useRef([]),P=!!E.length;n.useEffect((function(){h(_)}),[_]),n.useEffect((function(){(""===o.value&&!P||void 0===o.value&&P)&&(A([]),w([]))}),[o.value]),n.useEffect((function(){if(v&&v.type!==kh.freeList&&!P){var e=null==v?void 0:v.type;e===kh.test?m([D]):F.current===v.type&&I?m(I.getUserListInGroupByListType):S({variables:{listType:e,groupId:p,data:v.getData()}}),F.current=v.type}}),[v]),n.useEffect((function(){I&&(v&&v.type===kh.test||m(I.getUserListInGroupByListType))}),[I]),n.useEffect((function(){if(!P&&O){var e;if(O.length>0){var t=O[0].value;if(t.startsWith(kh.contractSubscribers)&&(t=kh.contractSubscribers),e=Dh.getListByType(t),t.startsWith(kh.contractSubscribers)){var n=O[0].value.substring(kh.contractSubscribers.length);(e=new Dh(kh.contractSubscribers)).setData(n)}}e!==v&&g(e)}}),[O]);var L=function(e,t){var n=t[t.length-1];if("string"==typeof n){var r=M(E,[{email:n}]);w(r),n&&!rA(n)?B.current.push(n):m(r.filter((function(e){return e.email&&!B.current.includes(e.email)})))}else{w(t);var i=t.filter((function(e){return!!e.email&&(!B.current.includes(e.email)&&(!!rA(e.email)||(B.current.push(e.email),!1)))}));m(i),o.onChange(o.name)(JSON.stringify(i));var a=Dh.getListByType(kh.freeList);null==a||a.setData(i)}v&&v.type===kh.freeList||g(Dh.getListByType(kh.freeList))},j=function(e){o.onBlur(o.name)(e)},U=function(){var e=[];y.forEach((function(t){t.email&&e.push({email:t.email,firstName:t.firstName,lastName:t.lastName}),t.email2&&t.firstName2&&t.lastName2&&e.push({email:t.email2,firstName:t.firstName2,lastName:t.lastName2})})),w(e),m(e),o.onChange(o.name)(JSON.stringify(e)),g(Dh.getListByType(kh.freeList)),A([])},q=function(e,t){if(" "===e.key){var n=o.value;if(n&&n.trim()){if(t){if("[]"===n&&0===O.length)return;if(-1!==i.findIndex((function(e){return e.value.includes(n)})))return}else if(E[E.length-1].email===n)return;e.preventDefault(),L(0,[n])}}};return P?n.createElement(l.Autocomplete,{multiple:!0,value:E,onChange:L,onClose:j,options:aA,fullWidth:!0,renderInput:function(e){return n.createElement(oA,T({},e,{field:o,meta:s,form:u,label:a}))},renderTags:function(e,t){return e.map((function(e,i){var a=e.email&&B.current.includes(e.email),o="";return a&&(o=""+d("form.emailError")),e.firstName&&e.lastName&&(o=EO(e)),n.createElement(r.Tooltip,{key:e.email,title:o,disableHoverListener:""===o,className:f.chipContainer,arrow:!0},n.createElement(r.Chip,T({label:e.email},t({index:i}),{size:"small",className:a?f.chipError:""})))}))},disableClearable:!0,freeSolo:!0,onKeyDown:function(e){q(e,!1)}}):n.createElement(l.Autocomplete,{multiple:!0,value:O,onChange:function(e,t){if("string"!=typeof t[t.length-1]){var n=t.pop();A(n?[n]:[]),o.onChange(o.name)(n?n.value:"")}else L(event,t.map((function(e){return{email:e}})))},onClose:j,options:i,fullWidth:!0,getOptionLabel:function(e){return e.label},renderTags:function(e,t){return n.createElement(r.Chip,T({variant:"outlined",label:e[0].label},t({index:0}),{deleteIcon:n.createElement(yy,null),onDelete:U}))},renderInput:function(e){return n.createElement(oA,T({},e,{field:o,meta:s,form:u,label:a}))},disableClearable:!0,freeSolo:!0,onKeyDown:function(e){O.length>0?e.preventDefault():q(e,!0)}})})),uA=n.memo((function(e){var t,i,a=e.user,o=e.isPartnerConnected,s=e.userLists,u=e.onSubmit,c=e.isSuccessful,f=Cu(["messages/default"]).t,p=Cu(["members/lists"]).t,h=s.map((function(e){var t=e.type;if(e.type===kh.contractSubscribers&&e.data){var n=JSON.parse(e.data);n&&(t+=n.id)}return{value:t,label:CO(e,p)}})),m=Dh.TEST;h.push({value:m.type,label:p(m.type)}),o&&null!==a.email2?(t=a.email2,i=a.firstName2+" "+a.lastName2):(t=a.email,i=a.firstName+" "+a.lastName);var v=[{type:nx.Default,name:"firstName",initialValues:i,label:f("form.name"),required:!0},{type:nx.Default,name:"senderEmail",initialValues:t,label:f("form.email"),required:!0},{type:nx.Select,name:"recipientsList",initialValues:void 0,label:f("form.recipients"),required:!0,selectOptions:h,component:function(e){return n.createElement(sA,T({recipientsOptions:h},e))}},{type:nx.Default,name:"object",initialValues:"",label:f("form.object"),required:!0},{type:nx.Editor,name:"message",initialValues:"",label:f("form.message"),required:!0}],g=T({},Tx(v));return n.createElement(d.Formik,{initialValues:g,validationSchema:Ph,onSubmit:u},(function(e){return n.createElement(d.Form,null,e.status&&!c&&n.createElement(r.Box,{my:2},n.createElement(l.Alert,{severity:"error"},e.status)),c&&!e.status&&n.createElement(r.Box,{my:2},n.createElement(l.Alert,{severity:"success"},f("form.success"))),n.createElement(r.Box,null,n.createElement(_x,{expanded:!0},n.createElement(r.ExpansionPanelDetails,null,n.createElement(r.Box,{width:"100%"},Ix(v,e))))),n.createElement(r.Box,{mb:3,display:"flex",justifyContent:"center"},n.createElement(zO,{loading:e.isSubmitting,variant:"contained",color:"primary",type:"submit",disabled:e.isSubmitting},f("form.send"))))}))}),(function(e,t){return e.userLists.length===t.userLists.length&&e.isSuccessful===t.isSuccessful})),lA=function(e){var t=e.onMessageSent,i=n.useContext(rx),a=i.groupId,o=i.whichUser,s=i.attachments,u=i.resetAttachments,l=i.error,c=i.recipients,d=i.selectedUserList,f=i.setSelectedUserList,p=Cu(["messages/default","translation"]).t,h=PE(),m=h.data,v=h.loading,g=h.error,y=Oa(aw,{variables:{id:a}}),b=y.data,E=y.loading,w=y.error,x=sw({variables:{groupId:a}}),O=x.data,A=x.loading,C=x.error,S=n.useRef(),N=n.useRef(),I=n.useRef(),T=R(function(e){return xa(lw,e)}(),1)[0],_=R(n.useState(!1),2),M=_[0],F=_[1],B=m&&m.me,P=g||w||C||l,L=v||E||A,j=O?O.getUserLists:[];n.useEffect((function(){S.current=c}),[c]),n.useEffect((function(){N.current=d}),[d]),n.useEffect((function(){I.current=s}),[s]);var U=function(e,t){e.setStatus(t),e.setSubmitting(!1),F(!1),window.scrollTo(0,0)},q=function(e){return encodeURI(e).split(/%..|./).length-1};return P?n.createElement(aO,{error:P}):L?n.createElement(r.Box,{display:"flex",justifyContent:"center"},n.createElement(r.CircularProgress,null)):n.createElement(r.Box,null,B&&n.createElement(uA,{user:B,isPartnerConnected:o,userLists:j,onSubmit:function(e,n){return k(void 0,void 0,void 0,(function(){var r,i,s,l,c,d,h,m,v;return D(this,(function(g){switch(g.label){case 0:return n.setStatus(void 0),S.current&&N.current?0===e.message.length||'<div style="overflow:auto;"><p></p></div>'===e.message?(U(n,p("form.errorEmptyMessage")),[2]):(r=q(e.message),i=0,I.current?[4,Promise.all(I.current.map((function(e){return k(void 0,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return[4,(r=e,k(void 0,void 0,void 0,(function(){return D(this,(function(e){return[2,new Promise((function(e){var t=new FileReader;t.onloadend=function(){var n=t.result.replace(/^data:.+;base64,/,"");return e(n)},t.readAsDataURL(r)}))]}))})))];case 1:return t=n.sent(),[2,{filename:e.name,contentType:e.type,encoding:"base64",content:t}]}var r}))}))})))]:[3,2]):(U(n,p("form.errorNoRecipient")),[2]);case 1:s=g.sent(),l=JSON.stringify(s),i=q(l),g.label=2;case 2:if(i>=16777215||r+i>=25165824)return U(n,p("form.errorMessageTooBig")),[2];g.label=3;case 3:return g.trys.push([3,5,,6]),c=[],S.current.forEach((function(e){if(e.email){var t={email:e.email};e.firstName&&e.lastName&&(t.name=e.firstName+" "+e.lastName),e.id&&(t.userId=e.id),c.push(t)}if(e.email2){t={email:e.email2};e.firstName2&&e.lastName2&&(t.name=e.firstName2+" "+e.lastName2),e.id&&(t.userId=e.id),c.push(t)}})),d={id:a,name:""},b&&(d.name=b.group.name),h={type:N.current.type},N.current.type!==kh.freeList&&(h.name=p("lists."+N.current.type)),m={title:e.object,htmlBody:e.message,whichUser:o,recipients:c,replyToHeader:e.senderEmail,group:d,list:h,attachments:s},[4,T({variables:{input:m}})];case 4:return g.sent(),n.resetForm(),u(),f(void 0),F(!0),t(),window.scrollTo(0,0),[3,6];case 5:return v=g.sent(),U(n,p("translation:error",{error:v})),[3,6];case 6:return[2]}}))}))},isSuccessful:M}))},cA=r.makeStyles((function(e){return r.createStyles({listItemText:{"& p:first-letter":{textTransform:"capitalize"}},container:{maxHeight:"800px",overflowY:"auto",display:"flex"},list:{flex:1},pagination:{"& ul":{justifyContent:"center",flexWrap:"initial"},paddingTop:e.spacing(1)}})})),dA=function(e){var t=e.isGroupAdmin,i=e.selectedMessageId,a=e.onSelectMessage,o=e.toggleRefetch,s=n.useContext(rx),u=Cu(["messages/default"]).t,c=s.groupId,d=R(wa(cw,{variables:{groupId:c}}),2),f=d[0],p=d[1],h=p.data,m=p.loading,v=p.refetch,g=R(function(e){return wa(dw,e)}({variables:{groupId:c}}),2),y=g[0],b=g[1],E=b.data,w=b.refetch,x=cA(),O=R(n.useState(1),2),A=O[0],C=O[1];n.useEffect((function(){void 0!==t&&(t?f():y())}),[t]),n.useEffect((function(){void 0!==o&&(t?v&&v():w&&w())}),[o]);var S=[],N=1,I=0,T=0;return void 0!==t&&(t&&h?S=h.getMessagesForGroup:!t&&E&&(S=E.getUserMessagesForGroup),N=Math.ceil(S.length/11),I=10*(A-1),T=Math.min(I+11-1,S.length)),n.createElement(r.Box,null,n.createElement(r.Box,{className:x.container,justifyContent:"center"},m?n.createElement(r.Box,{p:1},n.createElement(r.CircularProgress,null)):n.createElement(n.Fragment,null,S.length>0?n.createElement(r.List,{className:x.list},S.slice(I,T).map((function(e){return n.createElement(r.ListItem,{button:!0,divider:!0,key:e.id,selected:i===e.id,onClick:function(){return a(e.id)}},n.createElement(r.ListItemText,{className:x.listItemText,primary:e.title,secondary:AO(new Date(e.date),!0)}))}))):n.createElement(r.Typography,{variant:"caption",align:"center"},u("noMessage")))),n.createElement(l.Pagination,{count:N,page:A,onChange:function(e,t){C(t)},className:x.pagination}))},fA=function(){function e(e,t){this.value=e,this.label=t}return e.getLists=function(){return[e.ALL,e.BOARD,e.TEST,e.MEMBERS_WITHOUT_ORDER,e.MEMBERSHIP_TO_BE_RENEWED]},e.ALL=new e("1",kh.all),e.BOARD=new e("2",kh.admins),e.TEST=new e("3",kh.test),e.MEMBERS_WITHOUT_ORDER=new e("4",kh.noOrders),e.MEMBERSHIP_TO_BE_RENEWED=new e("5",kh.membershipToBeRenewed),e}();var pA=r.makeStyles((function(){return{table:{tableLayout:"fixed"},tableTitleCelle:{whiteSpace:"nowrap",width:"20%"},chip:{maxWidth:"100%"}}})),hA=function(e){var t,i=e.messageId,a=Cu(["messages/default","members/lists"]).t,o=pA(),s=R(wa(fw,t),2),u=s[0],l=s[1],c=l.data,d=l.loading,f=l.error;n.useEffect((function(){u({variables:{id:i}})}),[i]);var p=null==c?void 0:c.message,h=(null==p?void 0:p.recipientListId)&&function(e){var t=fA.getLists(),n=Dh.getLists().find((function(t){return t.type===e}));if(n)return n&&n.type;var r=t.find((function(t){return t.value===e}));return r&&r.label}(p.recipientListId),m=function(e){var t=e.title;return n.createElement(r.TableCell,{align:"right",className:o.tableTitleCelle},t)};return f?n.createElement(aO,{error:f}):d?n.createElement(r.CircularProgress,null):n.createElement(n.Fragment,null,p&&n.createElement(r.Table,{className:o.table},n.createElement(r.TableBody,null,n.createElement(r.TableRow,null,n.createElement(m,{title:a("subject")+" :"}),n.createElement(r.TableCell,null,p.title)),n.createElement(r.TableRow,null,n.createElement(m,{title:a("sentOnThe")+" :"}),n.createElement(r.TableCell,null,p.date)),n.createElement(r.TableRow,null,n.createElement(m,{title:a("sender")+" :"}),n.createElement(r.TableCell,null,null===p.sender?"inconnu":p.sender.firstName+" "+p.sender.lastName)),n.createElement(r.TableRow,null,n.createElement(m,{title:a("receiver",{count:p.recipients.length})+" :"}),h?n.createElement(r.TableCell,null,a("members/lists:"+h,{count:1})):n.createElement(r.TableCell,null,n.createElement(r.Box,{display:"flex",flexWrap:"wrap"},p.recipients.map((function(e){return n.createElement(r.Box,{m:.5,key:e},n.createElement(r.Chip,{label:e}))}))))),p.attachments&&p.attachments.length>0&&n.createElement(r.TableRow,null,n.createElement(m,{title:a("attachment",{count:p.attachments.length})+" :"}),n.createElement(r.TableCell,null,n.createElement(r.Box,{display:"flex",flexWrap:"wrap"},p.attachments.map((function(e){return n.createElement(r.Box,{m:.5,key:e,className:o.chip},n.createElement(r.Tooltip,{title:""+a("attachmentsNotStoredOnServer")},n.createElement(r.Chip,{label:e,className:o.chip})))}))))),n.createElement(r.TableRow,null,n.createElement(r.TableCell,null),n.createElement(r.TableCell,{dangerouslySetInnerHTML:{__html:p.body}})))))},mA=function(e){var t=e.messageId,i=e.onBack,a=Cu(["translation"]).t;return n.createElement(r.Box,null,n.createElement(r.Box,{mb:2},n.createElement(hA,{messageId:t})),n.createElement(r.Button,{onClick:i,variant:"contained",color:"primary"},a("back")))},vA=function(e){var t,i=e.groupId,a=e.whichUser,o=Cu(["messages/default"]).t,s=R(n.useState(),2),u=s[0],l=s[1],c=R(n.useState(),2),d=c[0],f=c[1],p=(t={variables:{groupId:i}},Oa(LE,t)).data,h=null==p?void 0:p.isGroupAdmin;return n.createElement(ix,{groupId:i,whichUser:a},n.createElement(r.Box,{mb:2},n.createElement(r.Grid,{container:!0,spacing:4},n.createElement(r.Grid,{item:!0,xs:3},n.createElement(r.Paper,null,n.createElement(r.Box,{p:2},n.createElement(r.Typography,{variant:"h6"},o(h?"allSentMessages":"lastSentMessages")),n.createElement(dA,{isGroupAdmin:h,selectedMessageId:u,onSelectMessage:function(e){return l(e)},toggleRefetch:d})))),n.createElement(r.Grid,{item:!0,xs:9},n.createElement(r.Paper,null,n.createElement(r.Box,{p:2},u?n.createElement(mA,{messageId:u,onBack:function(){return l(void 0)}}):n.createElement(n.Fragment,null,n.createElement(r.Typography,{variant:"h3",gutterBottom:!0},o("title")),n.createElement(lA,{onMessageSent:function(){f(!d)}}))))))))},gA=V(H((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=$(n),i=(0,$(Q).default)(r.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=i}))),yA=function(e){var t=e.count,i=e.rowsPerPage,a=e.handleChangeRowsPerPage,o=e.page,s=e.handleChangePage;return n.createElement(r.TablePagination,{rowsPerPageOptions:[5,10,25],component:"div",count:t,rowsPerPage:i,page:o*i>t?0:o,onChangePage:s,onChangeRowsPerPage:a})},bA=r.makeStyles((function(){return r.createStyles({visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},halfWidth:{width:"50%"}})})),EA=function(e){var t=e.order,i=e.orderBy,a=e.onRequestSort,o=e.headCells,s=e.rowCount,u=e.numSelected,l=e.onSelectAllClick,c=Cu(["members/default"]).t,d=bA(),f=function(e){return function(t){a(t,e)}};return n.createElement(r.TableHead,null,n.createElement(r.TableRow,null,void 0!==u&&void 0!==l&&void 0!==s&&n.createElement(r.TableCell,{padding:"checkbox"},n.createElement(r.Checkbox,{indeterminate:u>0&&u<s,checked:s>0&&u===s,onChange:l,inputProps:{"aria-label":c("selectAll")}})),o.map((function(e){return n.createElement(r.TableCell,{key:e.toString(),sortDirection:i===e&&t,className:2===o.length?d.halfWidth:""},n.createElement(r.TableSortLabel,{active:i===e,direction:i===e?t:"asc",onClick:f(e)},c(e.toString()),i===e?n.createElement("span",{className:d.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null))}))))},wA=function(e){for(var t=e.count,i=e.nbOfColumn,a=e.hasCheckbox,o=void 0!==a&&a,s=[],u=t?Math.min(10,t):10,c=0;c<u;c++){for(var d=[],f=0;f<i;f++)d.push(n.createElement(r.TableCell,{key:""+c+f},n.createElement(l.Skeleton,{variant:"text"})));s.push(n.createElement(r.TableRow,{key:c},o&&n.createElement(r.TableCell,{padding:"checkbox"},n.createElement(r.Checkbox,{disabled:!0})),d))}return n.createElement(r.TableBody,null,s)},xA=r.makeStyles((function(){return r.createStyles({emptyTableText:{fontStyle:"italic"}})})),OA=function(e){var t=e.show,i=Cu(["members/default"]).t,a=xA();return t?n.createElement(r.Box,{p:2,display:"flex",justifyContent:"center"},n.createElement(r.Typography,{variant:"caption",align:"center",className:a.emptyTableText},i("emptyList"))):null};function AA(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var CA=r.makeStyles((function(){return r.createStyles({tableCell:{wordBreak:"break-word"}})})),SA=function(e){var t=e.formattedMembers,i=e.order,a=e.orderBy,o=e.page,s=e.rowsPerPage,u=e.headCells,l=e.isSelected,c=void 0===l?void 0:l,d=e.handleRowClick,f=void 0===d?void 0:d,p=CA();return n.createElement(r.TableBody,null,function(e,t,n){var r=e.map((function(e,t){return[e,t]})),i="desc"===t?function(e,t){return AA(e,t,n)}:function(e,t){return-AA(e,t,n)};return r.sort((function(e,t){var n=i(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),r.map((function(e){return e[0]}))}(t,i,a).slice(o*s,o*s+s).map((function(e,t){var i=void 0!==c,a=i?"members-table-checkbox-"+t:"",o=i&&c(e.id),s=[];u.forEach((function(t,o){var u={};i&&0===o&&(u={id:a}),s.push(n.createElement(r.TableCell,T({key:""+e.id+t},u,{className:p.tableCell}),e[t]))}));var l={};return i&&(l={role:"checkbox","aria-checked":o,selected:o,onClick:function(){return f(e.id)}}),n.createElement(r.TableRow,T({hover:!0,tabIndex:-1,key:e.id},l),i&&n.createElement(r.TableCell,{padding:"checkbox"},n.createElement(r.Checkbox,{checked:o,inputProps:i?{"aria-labelledby":a}:{}})),s)})))};function NA(e){var t,n,r="";if(e)if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=NA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(n=NA(t))&&(r&&(r+=" "),r+=n);else"boolean"==typeof e||e.call||(r&&(r+=" "),r+=e);return r}function IA(){for(var e,t=0,n="";t<arguments.length;)(e=NA(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}var TA={type:kh.all,data:null},_A=n.createContext({groupId:-1,errors:[],setErrors:function(){},success:void 0,setSuccess:function(){},toggleRefetch:void 0,setToggleRefetch:function(){},resetAlerts:function(){},selectedUserList:TA,onSelectList:function(){}}),kA=function(e){var t=e.children,r=e.groupId,i=R(n.useState([]),2),a=i[0],o=i[1],s=R(n.useState(),2),u=s[0],l=s[1],c=R(n.useState(),2),d=c[0],f=c[1],p=R(n.useState(TA),2),h=p[0],m=p[1];return n.createElement(_A.Provider,{value:{groupId:r,errors:a,setErrors:o,success:u,setSuccess:l,toggleRefetch:d,setToggleRefetch:f,resetAlerts:function(){o([]),l(void 0)},selectedUserList:h,onSelectList:function(e){return m(e)}}},t)},DA=function(e){var t=e.open,i=e.onCancel,a=e.onConfirm,o=Cu(["translation"]).t,s=R(n.useState(void 0),2),u=s[0],l=s[1],c=n.useMemo((function(){return!u||!(u<0)}),[u]);return n.createElement(r.Dialog,{open:t},n.createElement(r.DialogTitle,null,"Veuillez-saisir le montant de la cotisation"),n.createElement(r.DialogContent,null,n.createElement(r.TextField,{label:"Montant de la cotisation",type:"number",fullWidth:!0,value:u,onChange:function(e){var t=parseFloat(e.target.value);l(Number.isNaN(t)?void 0:t)},InputProps:{endAdornment:n.createElement(r.InputAdornment,{position:"end"},"€")},error:!c})),n.createElement(r.DialogActions,null,n.createElement(r.Button,{onClick:i},o("cancel")),n.createElement(r.Button,{disabled:!u||!c,autoFocus:!0,variant:"outlined",color:"primary",onClick:function(){void 0!==u&&a(u)}},o("confirm"))))},RA=m.makeStyles((function(e){return m.createStyles({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{color:e.palette.secondary.main,backgroundColor:m.lighten(e.palette.secondary.light,.85)},title:{flex:"1 1 100%"},button:{whiteSpace:"nowrap"}})})),MA=function(e){var t,i,a=e.selectedIds,o=e.members,s=RA(),u=Cu(["members/default"]).t,l=Cu(["members/lists"]).t,c=Cu(["translation"]).t,d=n.useContext(_A),f=d.setSuccess,p=d.setErrors,h=d.groupId,m=d.setToggleRefetch,v=d.toggleRefetch,g=d.selectedUserList,y=PE().data,b=(i={variables:{id:h}},Oa(iw,i)).data,E=(null==b?void 0:b.group.membershipFee)&&(null==b?void 0:b.group.membershipFee)>0,w=null==b?void 0:b.group.hasMembership,x=R(n.useState(!1),2),N=x[0],I=x[1],_=R(function(e){return xa(XE,e)}(),1)[0],F=R(function(e){return xa(ew,e)}(),1)[0],B=R(function(e){return xa(rw,e)}(),1)[0],P=a.length,L=function(e){var t=e.title,i=e.onClick;return n.createElement(r.Button,{variant:"contained",disableElevation:!0,size:"small",className:s.button,onClick:i},t)},j=n.useMemo((function(){return c("cancel")}),[]),U=n.useMemo((function(){return c("confirm")}),[]),q=Nu(L,{title:u("membershipConfirmDialogTitle"),cancelButtonLabel:j,confirmButtonLabel:U,message:u("membershipConfirmDialogContent")}),z=Nu(L,{title:u("waitingListConfirmDialogTitle",{nbOfMembers:P,count:P}),cancelButtonLabel:j,confirmButtonLabel:U,message:u("waitingListConfirmDialogContent",{nbOfMembers:P,count:P})}),V=Nu(C,{title:u("excludeConfirmDialogTitle",{nbOfMembers:P,count:P}),cancelButtonLabel:j,confirmButtonLabel:U,message:u("excludeConfirmDialogContent",{nbOfMembers:P,count:P})}),H=n.forwardRef((function(e,t){return n.createElement("div",{ref:t},n.createElement(V,T({},e)))})),$=function(e){var t=[],n=new Date;return a.forEach((function(r){t.push(B({variables:{input:{userId:r,groupId:h,year:n.getFullYear(),date:n,paymentType:"check",membershipFee:e}}}))})),t},W=function(e,t){(function(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})))})(e).then((function(e){var n=e.filter((function(e){return"rejected"===e.status}));p(n.map((function(e,t){var n=o.find((function(e){return e.id===a[t]}));return u(e.reason.message,{name:n&&EO(n)})})));var r=e.length-n.length;r>0&&(f(u(t+"SuccessMessage",{count:r,nbMembre:r})),m(!v))}))},Q=function(e){return k(void 0,void 0,void 0,(function(){var t;return D(this,(function(n){return f(void 0),p([]),t=[],"waitingList"===e?a.forEach((function(e){t.push(_({variables:{userId:e,groupId:h,message:u("waitingListDefaultMessage",{name:y&&EO(y.me),date:OO(new Date,!0)})}}))})):"exclude"===e?a.forEach((function(e){t.push(F({variables:{userId:e,groupId:h}}))})):"membership"===e&&(E?t.push.apply(t,M($())):I(!0)),W(t,e),[2]}))}))};return n.createElement(O,{className:IA(s.root,(t={},t[s.highlight]=P>0,t))},P>0?n.createElement(A,{className:s.title,color:"inherit",variant:"subtitle1",component:"div"},P+" "+u("selected",{count:P})):n.createElement(A,{className:s.title,variant:"h6",id:"tableTitle",component:"div"},CO(g,l)),P>0&&n.createElement(n.Fragment,null,w&&n.createElement(r.Box,{pr:2},n.createElement(q,{title:u("enterMembership"),onClick:function(){return Q("membership")}})),n.createElement(r.Box,{pr:1},n.createElement(z,{title:u("resetInWaitingList"),onClick:function(){return Q("waitingList")}})),n.createElement(r.Box,null,n.createElement(S,{title:""+u("removeFromGroup")},n.createElement(H,{"aria-label":u("removeFromGroup"),onClick:function(){return Q("exclude")}},n.createElement(KO,null)))),!E&&n.createElement(DA,{open:N,onCancel:function(){I(!1)},onConfirm:function(e){var t=$(e);W(t,"membership"),I(!1)}})))};var FA=m.makeStyles((function(e){return m.createStyles({root:{width:"100%",marginBottom:e.spacing(2)},tableContainer:{overflowX:"initial"}})})),BA=["names","address"];function PA(e){var t=e.members,r=e.loading,i=FA(),a=n.useContext(_A),o=a.selectedUserList,s=a.toggleRefetch,u=R(n.useState("asc"),2),l=u[0],c=u[1],d=R(n.useState("names"),2),f=d[0],p=d[1],h=R(n.useState([]),2),m=h[0],v=h[1],g=R(n.useState(0),2),y=g[0],b=g[1],O=R(n.useState(10),2),A=O[0],C=O[1],S=n.useMemo((function(){return t.map((function(e){return{id:(t=e).id,names:n.createElement(x,{href:"/member/view/"+t.id,color:"secondary"},wO(t)),address:xO(t)||""};var t}))}),[t]);n.useEffect((function(){var e=t.length;y*A>e&&b(0),v([])}),[t]),n.useEffect((function(){void 0!==s&&v([])}),[s]);return n.createElement("div",{className:i.root},n.createElement(MA,{selectedIds:m,members:t}),n.createElement(w,{className:i.tableContainer},n.createElement(E,{"aria-labelledby":"tableTitle","aria-label":"members table"},n.createElement(EA,{numSelected:m.length,order:l,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=S.map((function(e){return e.id}));v(t)}else v([])},onRequestSort:function(e,t){c(f===t&&"asc"===l?"desc":"asc"),p(t)},rowCount:S.length,headCells:BA}),r&&0!==o.count&&n.createElement(wA,{count:o.count||void 0,nbOfColumn:BA.length,hasCheckbox:!0}),!r&&S.length>0&&n.createElement(SA,{formattedMembers:S,page:y,rowsPerPage:A,order:l,orderBy:f,headCells:BA,isSelected:function(e){return-1!==m.indexOf(e)},handleRowClick:function(e){var t=m.indexOf(e),n=[];-1===t?n=n.concat(m,e):0===t?n=n.concat(m.slice(1)):t===m.length-1?n=n.concat(m.slice(0,-1)):t>0&&(n=n.concat(m.slice(0,t),m.slice(t+1))),v(n)}})),n.createElement(OA,{show:!r&&0===S.length||0===o.count})),n.createElement(yA,{count:S.length,rowsPerPage:A,page:y*A>S.length?0:y,handleChangePage:function(e,t){b(t)},handleChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),b(0)}}))}var LA=r.makeStyles((function(e){return r.createStyles({button:{marginTop:e.spacing(1)}})})),jA=function(e){var t,i=e.userId,a=LA(),o=n.useContext(_A),s=o.groupId,u=o.setErrors,l=o.setToggleRefetch,c=o.toggleRefetch,d=R(xa(nw,t),2),f=d[0],p=d[1],h=p.loading,m=p.error,v=R(function(e){return xa(tw,e)}(),2),g=v[0],y=v[1],b=y.loading,E=y.error;n.useEffect((function(){(E||m)&&u([E?E.message:m.message])}),[E,m]);return n.createElement(r.Box,{display:"flex",flexDirection:"column"},n.createElement(zO,{loading:b,variant:"contained",color:"secondary",startIcon:n.createElement(vy,null),size:"small",onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,g({variables:{userId:i,groupId:s}})];case 1:return e.sent(),l(!c),[2]}}))}))}},"Accepter"),n.createElement(zO,{loading:h,variant:"outlined",startIcon:n.createElement(gy,null),size:"small",className:a.button,onClick:function(){return k(void 0,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,f({variables:{userId:i,groupId:s}})];case 1:return e.sent(),l(!c),[2]}}))}))}},"Refuser"))};var UA=m.makeStyles((function(e){return m.createStyles({root:{width:"100%",marginBottom:e.spacing(2)},tableContainer:{overflowX:"initial"},title:{flex:"1 1 100%"},table:{tableLayout:"fixed"}})})),qA=["names","details","registrationDate","message"," "];function zA(){var e=Cu(["members/lists"]).t,t=n.useContext(_A),r=t.groupId,i=t.toggleRefetch,a=t.selectedUserList,o=UA(),s=R(n.useState("asc"),2),u=s[0],l=s[1],c=R(n.useState("names"),2),d=c[0],f=c[1],p=R(n.useState(0),2),h=p[0],m=p[1],v=R(n.useState(10),2),g=v[0],y=v[1],b=Oa(JE,{variables:{groupId:r}}),x=b.data,O=b.loading,C=b.error,S=b.refetch;n.useEffect((function(){void 0!==i&&S&&S()}),[i]);var N=n.useMemo((function(){return x?x.getWaitingListsOfGroup.map((function(e){return function(e){var t=e.user,r=new Date(parseInt(e.date,10)),i=AO(r,!0);return{id:t.id,names:wO(t),details:t.phone?t.email+" "+t.phone:t.email,registrationDate:i,message:e.message," ":n.createElement(jA,{userId:t.id})}}(e)})):[]}),[x]);return C?n.createElement(aO,{error:C}):n.createElement("div",{className:o.root},n.createElement(A,{className:o.title,variant:"h6",id:"tableTitle",component:"div"},CO(a,e)),n.createElement(w,{className:o.tableContainer},n.createElement(E,{"aria-labelledby":"tableTitle","aria-label":"waiting list table",size:"small",className:o.table},n.createElement(EA,{order:u,orderBy:d,onRequestSort:function(e,t){l(d===t&&"asc"===u?"desc":"asc"),f(t)},headCells:qA}),O&&0!==a.count&&n.createElement(wA,{count:a.count||void 0,nbOfColumn:qA.length}),!O&&N.length>0&&n.createElement(SA,{formattedMembers:N,page:h,rowsPerPage:g,order:u,orderBy:d,headCells:qA})),n.createElement(OA,{show:!O&&0===N.length||0===a.count})),n.createElement(yA,{count:N.length,rowsPerPage:g,page:h*g>N.length?0:h,handleChangePage:function(e,t){m(t)},handleChangeRowsPerPage:function(e){y(parseInt(e.target.value,10)),m(0)}}))}var VA=r.makeStyles((function(e){return r.createStyles({search:{height:e.spacing(6),display:"flex",justifyContent:"space-between",marginLeft:"auto",width:"200px"},iconButton:{color:e.palette.action.active,transform:"scale(1, 1)",transition:e.transitions.create(["transform","color"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeInOut})}})})),HA=function(e){var t=e.onSearchChange,i=Cu(["members/default"]).t,a=VA(),o=R(n.useState(""),2),s=o[0],u=o[1];return n.createElement(r.Paper,{className:a.search},n.createElement(r.Input,{startAdornment:n.createElement(r.Box,{p:1,display:"flex"},n.createElement(gA,{className:a.iconButton})),endAdornment:s&&n.createElement(r.Box,{p:1},n.createElement(r.IconButton,{size:"small",onClick:function(){u(""),t("")}},n.createElement(Qu,{className:a.iconButton}))),placeholder:i("search"),inputProps:{"aria-label":i("search")},disableUnderline:!0,value:s,onChange:function(e){var n=e.target.value;u(n),t(n)}}))},$A=function(){var e,t=Cu(["members/default"]).t,i=n.useContext(_A),a=i.groupId,o=i.toggleRefetch,s=i.selectedUserList,u=R(wa(ZE,e),2),l=u[0],c=u[1],d=c.data,f=c.error,p=c.refetch,h=R(n.useState(),2),m=h[0],v=h[1],g=R(n.useState(!1),2),y=g[0],b=g[1],E=n.useRef(),w=d&&d.getUserListInGroupByListType;n.useEffect((function(){var e;if(!E.current||E.current.type!==s.type||E.current.data!==s.data){var t=(null===(e=E.current)||void 0===e?void 0:e.type)===kh.waitingList;if(E.current=s,s.type!==kh.waitingList&&!t){var n;if(b(!0),s.type===kh.contractSubscribers&&s.data){var r=JSON.parse(s.data);r&&(n=r.id.toString())}l({variables:{listType:s.type,groupId:a,data:n}})}}}),[s]),n.useEffect((function(){void 0!==o&&p&&p()}),[o]),n.useEffect((function(){d&&v(d.getUserListInGroupByListType)}),[d]),n.useEffect((function(){m&&b(!1)}),[m]);return f?n.createElement(aO,{error:f}):n.createElement(r.Paper,null,n.createElement(r.Box,{p:2},n.createElement(r.Grid,{container:!0,direction:"row"},n.createElement(r.Typography,{variant:"h2"},t("title")),n.createElement(HA,{onSearchChange:function(e){w&&v(function(e,t){var n=t.trim();return n=n.toLowerCase(),e.filter((function(e){var t=e.firstName+" "+e.lastName+" "+e.firstName2+" "+e.lastName2+" "+e.zipCode+" "+e.city+" "+e.address1;return(t=t.toLowerCase()).indexOf(n)>-1}))}(w,e))}}))),s.type!==kh.waitingList?n.createElement(PA,{members:m||[],loading:y}):n.createElement(zA,null),n.createElement(r.Box,{p:2},n.createElement(r.Grid,{container:!0,spacing:2},n.createElement(r.Grid,{item:!0},n.createElement(r.Button,{variant:"outlined",href:"/member/insert"},t("newMember"))),n.createElement(r.Grid,{item:!0},n.createElement(r.Button,{variant:"outlined",href:"/member?&csv=1"},t("export"))),n.createElement(r.Grid,{item:!0},n.createElement(r.Button,{variant:"outlined",href:"/member/import"},t("importMembers"))))))},WA=r.makeStyles((function(e){return r.createStyles({listItemText:{"& p:first-letter":{textTransform:"capitalize"}},container:{maxHeight:"754px",overflowY:"auto",display:"flex"},pagination:{"& ul":{justifyContent:"center",flexWrap:"initial"},paddingTop:e.spacing(1)},nestedListItem:{paddingLeft:e.spacing(4)}})})),QA=function(){var e=Cu(["members/lists","members/default"]).t,t=n.useContext(_A),i=t.groupId,a=t.toggleRefetch,o=t.selectedUserList,s=t.onSelectList,u=sw({variables:{groupId:i}}),l=u.data,c=u.loading,d=u.error,f=u.refetch,p=WA(),h=R(n.useState(!1),2),m=h[0],v=h[1],g=n.useMemo((function(){return null==l?void 0:l.getUserLists.filter((function(e){return e.type===kh.contractSubscribers}))}),[l]),y=n.useMemo((function(){return null==l?void 0:l.getUserLists.filter((function(e){return e.type!==kh.contractSubscribers}))}),[l]);n.useEffect((function(){void 0!==a&&f&&f()}),[a]),n.useEffect((function(){if(l&&void 0!==l.getUserLists)if(void 0!==a){var e=l.getUserLists.find((function(e){return e.type===o.type}));e&&s(e)}else{var t=l.getUserLists.find((function(e){return e.type===kh.all}));t&&s(t)}}),[l]);return d?n.createElement(aO,{error:d}):n.createElement(r.Box,null,n.createElement(r.Box,{className:p.container,justifyContent:"center"},c?n.createElement(r.Box,{p:1},n.createElement(r.CircularProgress,null)):n.createElement(n.Fragment,null,n.createElement(r.List,null,null==y?void 0:y.map((function(t){return n.createElement(r.ListItem,{button:!0,divider:!0,key:""+t.type+t.data,selected:o.type===t.type&&o.data===t.data,onClick:function(){return s(t)}},n.createElement(r.ListItemText,{className:p.listItemText,primary:CO(t,e)}))})),n.createElement(r.ListItem,{button:!0,onClick:function(){v(!m)}},n.createElement(r.ListItemText,{className:p.listItemText,primary:e("members/default:catalogs")}),m?n.createElement(by,null):n.createElement(Ey,null)),n.createElement(r.Collapse,{in:m,timeout:"auto",unmountOnExit:!0},n.createElement(r.List,{component:"div",disablePadding:!0},null==g?void 0:g.map((function(t){return n.createElement(r.ListItem,{button:!0,divider:!0,key:""+t.type+t.data,selected:o.type===t.type&&o.data===t.data,onClick:function(){return s(t)},className:p.nestedListItem},n.createElement(r.ListItemText,{className:p.listItemText,primary:CO(t,e)}))}))))))))},GA=function(){var e=n.useContext(_A),t=e.success,i=e.errors,a=e.resetAlerts,o=e.selectedUserList,s=R(n.useState(!1),2),u=s[0],c=s[1],d=R(n.useState(!1),2),f=d[0],p=d[1],h=n.useRef();return n.useEffect((function(){0===i.length?c(!1):c(!0)}),[i]),n.useEffect((function(){p(!!t)}),[t]),n.useEffect((function(){h.current&&o.type!==h.current.type&&a(),h.current=o}),[o]),n.createElement(r.Box,{my:1},i.map((function(e,t){return n.createElement(r.Collapse,{key:e,in:u,timeout:{enter:250*(t+1)},style:{transitionDelay:250*t+"ms"}},n.createElement(r.Box,{my:1},n.createElement(l.Alert,{severity:"error"},e)))})),t&&n.createElement(r.Collapse,{in:f,timeout:{enter:250*(i.length+1)},style:{transitionDelay:500*i.length+"ms"}},n.createElement(r.Box,{my:1},n.createElement(l.Alert,{severity:"success"},t))))},YA=function(e){var t=e.groupId,i=Cu(["members/default"]).t;return n.createElement(kA,{groupId:t},n.createElement(r.Box,{mb:2},n.createElement(GA,null),n.createElement(r.Grid,{container:!0,spacing:4},n.createElement(r.Grid,{item:!0,xs:9},n.createElement($A,null)),n.createElement(r.Grid,{item:!0,xs:3},n.createElement(r.Paper,null,n.createElement(r.Box,{p:2},n.createElement(r.Typography,{variant:"h6"},i("lists")),n.createElement(QA,null)))))))},KA=null,ZA="null",JA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.getDatePickerHeaderText=function(e){return Lo(e,"d MMM yyyy",{locale:this.locale})},t}(Us),XA=function(e){if(!KA){var t=ca({uri:ZA,credentials:"same-origin"}),n=(r=function(t,n){var r=n.headers;return{headers:T(T({},r),{authorization:e?"Bearer "+e:""})}},new Yt((function(e,t){var n=_(e,[]);return new Ot((function(i){var a;return Promise.resolve(n).then((function(t){return r(t,e.getContext())})).then(e.setContext).then((function(){a=t(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)})})).catch(i.error.bind(i)),function(){a&&a.unsubscribe()}}))})));KA=new li({link:n.concat(t),cache:(new ni).restore({})})}var r;return KA},eC=function(e,t){s.render(n.createElement(n.Fragment,null,t),document.getElementById(e))};function tC(e){var t=this,r=function(r){var i=R(n.useState(localStorage.getItem("token")),2),a=i[0],o=i[1];return n.useEffect((function(){a||k(t,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return[4,Zs.getToken()];case 1:return e=t.sent(),o(e),localStorage.setItem("token",e),[2]}}))}))}),[a]),a?n.createElement(ha,{client:XA(a)},n.createElement(e,T({},r))):n.createElement(n.Fragment,null)};return r.displayName="WithApolloProviderWrapper",r}var nC=function(){function e(){}return e.setApiUrl=function(e){Zs.setUrl(e)},e.setGraphUrl=function(e){ZA=e},e.activateDistribSlots=function(e,t){eC(e,n.createElement(Hu,T({},t)))},e.userDistribSlotsSelector=function(e,t){var r=document.getElementById(e);r&&s.unmountComponentAtNode(r),eC(e,n.createElement($x,T({},t)))},e.distribSlotsResolver=function(e,t){eC(e,n.createElement(eO,T({},t)))},e.placeDialog=function(e,t){eC(e,n.createElement(nO,T({},t,{onClose:function(){var t=document.getElementById(e);t&&s.unmountComponentAtNode(t)}})))},e.place=function(e,t){eC(e,n.createElement(iO,T({},t)))},e.mangopayModule=function(e,t){var r=tC(q(qu(tA)));eC(e,n.createElement(u.MuiPickersUtilsProvider,{utils:JA,locale:ka},n.createElement(r,T({},t))))},e.messagesModule=function(e,t){var r=tC(q(qu(vA)));eC(e,n.createElement(r,{groupId:t.groupId,whichUser:Boolean(t.whichUser)}))},e.membersModule=function(e,t){var r=tC(q(qu(YA)));eC(e,n.createElement(r,{groupId:t.groupId}))},e}();exports.GeoAutocomplete=function(e){return q(Te)(e)},exports.NeolithicViewsGenerator=nC,exports.default=function(){return null};
